/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/color/CompareFn.ts":
/*!********************************!*\
  !*** ./src/color/CompareFn.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"colDistRGB\": () => (/* binding */ colDistRGB),\n/* harmony export */   \"colDistRGBL\": () => (/* binding */ colDistRGBL),\n/* harmony export */   \"colDistLinearL\": () => (/* binding */ colDistLinearL),\n/* harmony export */   \"colDistLab\": () => (/* binding */ colDistLab),\n/* harmony export */   \"getColorDistanceFnById\": () => (/* binding */ getColorDistanceFnById)\n/* harmony export */ });\n/* harmony import */ var _utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/colorUtils */ \"./src/utils/colorUtils.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/utils */ \"./src/utils/utils.ts\");\n\n\n// Simple, fast sRGB space distance calculation.\nfunction colDistRGB(color1, color2) {\n    return (0,_utils_utils__WEBPACK_IMPORTED_MODULE_1__.vec3distance)(color1, color2);\n}\nfunction colDistRGBL(color1, color2) {\n    const luma1 = (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__.luma_srgb)(color1), luma2 = (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__.luma_srgb)(color2);\n    const dLuma = luma1 - luma2;\n    const dColor = color1.map((ch, i) => ch - color2[i]);\n    return (dColor[0] * dColor[0] * 0.299 + dColor[1] * dColor[1] * 0.587 + dColor[2] * dColor[2] * 0.114) * 0.75 * dLuma * dLuma;\n}\n// Linear space calculation.\nfunction colDistLinearL(color1, color2) {\n    return colDistRGB((0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__.linear2srgb)(color1), (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__.linear2srgb)(color2));\n}\nconst labCache = {};\n// Computes color distance in CIE-L*ab space. Slower, but more visually accurate.\nfunction colDistLab(color1, color2) {\n    const c1index = color1[0] + (color1[1] << 8) + (color1[2] << 16);\n    const c2index = color2[0] + (color2[1] << 8) + (color2[2] << 16);\n    let lab1 = labCache[c1index];\n    if (!lab1) {\n        lab1 = (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__.srgb2lab)(color1);\n        labCache[c1index] = lab1;\n    }\n    let lab2 = labCache[c2index];\n    if (!lab2) {\n        lab2 = (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_0__.srgb2lab)(color2);\n        labCache[c2index] = lab2;\n    }\n    return (0,_utils_utils__WEBPACK_IMPORTED_MODULE_1__.vec3distance)(lab1, lab2);\n}\nconst getColorDistanceFnById = (id) => {\n    switch (id) {\n        case 'cdLab':\n            return colDistLab;\n        case 'cdRGB':\n        default:\n            return colDistRGB;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL2NvbG9yL0NvbXBhcmVGbi50cz9lYjc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBdUU7QUFDekI7QUFDOUM7QUFDTztBQUNQLFdBQVcsMERBQVk7QUFDdkI7QUFDTztBQUNQLGtCQUFrQiw0REFBUyxrQkFBa0IsNERBQVM7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asc0JBQXNCLDhEQUFXLFVBQVUsOERBQVc7QUFDdEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkRBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJEQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxXQUFXLDBEQUFZO0FBQ3ZCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL2NvbG9yL0NvbXBhcmVGbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxpbmVhcjJzcmdiLCBsdW1hX3NyZ2IsIHNyZ2IybGFiIH0gZnJvbSAnLi4vdXRpbHMvY29sb3JVdGlscyc7XG5pbXBvcnQgeyB2ZWMzZGlzdGFuY2UgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG4vLyBTaW1wbGUsIGZhc3Qgc1JHQiBzcGFjZSBkaXN0YW5jZSBjYWxjdWxhdGlvbi5cbmV4cG9ydCBmdW5jdGlvbiBjb2xEaXN0UkdCKGNvbG9yMSwgY29sb3IyKSB7XG4gICAgcmV0dXJuIHZlYzNkaXN0YW5jZShjb2xvcjEsIGNvbG9yMik7XG59XG5leHBvcnQgZnVuY3Rpb24gY29sRGlzdFJHQkwoY29sb3IxLCBjb2xvcjIpIHtcbiAgICBjb25zdCBsdW1hMSA9IGx1bWFfc3JnYihjb2xvcjEpLCBsdW1hMiA9IGx1bWFfc3JnYihjb2xvcjIpO1xuICAgIGNvbnN0IGRMdW1hID0gbHVtYTEgLSBsdW1hMjtcbiAgICBjb25zdCBkQ29sb3IgPSBjb2xvcjEubWFwKChjaCwgaSkgPT4gY2ggLSBjb2xvcjJbaV0pO1xuICAgIHJldHVybiAoZENvbG9yWzBdICogZENvbG9yWzBdICogMC4yOTkgKyBkQ29sb3JbMV0gKiBkQ29sb3JbMV0gKiAwLjU4NyArIGRDb2xvclsyXSAqIGRDb2xvclsyXSAqIDAuMTE0KSAqIDAuNzUgKiBkTHVtYSAqIGRMdW1hO1xufVxuLy8gTGluZWFyIHNwYWNlIGNhbGN1bGF0aW9uLlxuZXhwb3J0IGZ1bmN0aW9uIGNvbERpc3RMaW5lYXJMKGNvbG9yMSwgY29sb3IyKSB7XG4gICAgcmV0dXJuIGNvbERpc3RSR0IobGluZWFyMnNyZ2IoY29sb3IxKSwgbGluZWFyMnNyZ2IoY29sb3IyKSk7XG59XG5jb25zdCBsYWJDYWNoZSA9IHt9O1xuLy8gQ29tcHV0ZXMgY29sb3IgZGlzdGFuY2UgaW4gQ0lFLUwqYWIgc3BhY2UuIFNsb3dlciwgYnV0IG1vcmUgdmlzdWFsbHkgYWNjdXJhdGUuXG5leHBvcnQgZnVuY3Rpb24gY29sRGlzdExhYihjb2xvcjEsIGNvbG9yMikge1xuICAgIGNvbnN0IGMxaW5kZXggPSBjb2xvcjFbMF0gKyAoY29sb3IxWzFdIDw8IDgpICsgKGNvbG9yMVsyXSA8PCAxNik7XG4gICAgY29uc3QgYzJpbmRleCA9IGNvbG9yMlswXSArIChjb2xvcjJbMV0gPDwgOCkgKyAoY29sb3IyWzJdIDw8IDE2KTtcbiAgICBsZXQgbGFiMSA9IGxhYkNhY2hlW2MxaW5kZXhdO1xuICAgIGlmICghbGFiMSkge1xuICAgICAgICBsYWIxID0gc3JnYjJsYWIoY29sb3IxKTtcbiAgICAgICAgbGFiQ2FjaGVbYzFpbmRleF0gPSBsYWIxO1xuICAgIH1cbiAgICBsZXQgbGFiMiA9IGxhYkNhY2hlW2MyaW5kZXhdO1xuICAgIGlmICghbGFiMikge1xuICAgICAgICBsYWIyID0gc3JnYjJsYWIoY29sb3IyKTtcbiAgICAgICAgbGFiQ2FjaGVbYzJpbmRleF0gPSBsYWIyO1xuICAgIH1cbiAgICByZXR1cm4gdmVjM2Rpc3RhbmNlKGxhYjEsIGxhYjIpO1xufVxuZXhwb3J0IGNvbnN0IGdldENvbG9yRGlzdGFuY2VGbkJ5SWQgPSAoaWQpID0+IHtcbiAgICBzd2l0Y2ggKGlkKSB7XG4gICAgICAgIGNhc2UgJ2NkTGFiJzpcbiAgICAgICAgICAgIHJldHVybiBjb2xEaXN0TGFiO1xuICAgICAgICBjYXNlICdjZFJHQic6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gY29sRGlzdFJHQjtcbiAgICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/color/CompareFn.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./palette/palettes/CGA2bModes */ \"./src/palette/palettes/CGA2bModes.ts\");\n/* harmony import */ var _palette_palettes_CGA4bRGBI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./palette/palettes/CGA4bRGBI */ \"./src/palette/palettes/CGA4bRGBI.ts\");\n/* harmony import */ var _palette_palettes_Cmdr644b__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./palette/palettes/Cmdr644b */ \"./src/palette/palettes/Cmdr644b.ts\");\n/* harmony import */ var _palette_palettes_Win4bRGBI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./palette/palettes/Win4bRGBI */ \"./src/palette/palettes/Win4bRGBI.ts\");\n/* harmony import */ var _palette_palettes_Win20cEx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./palette/palettes/Win20cEx */ \"./src/palette/palettes/Win20cEx.ts\");\n/* harmony import */ var _palette_palettes_ZX4bRGBI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./palette/palettes/ZX4bRGBI */ \"./src/palette/palettes/ZX4bRGBI.ts\");\n/* harmony import */ var _palette_palettes_Gameboy__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./palette/palettes/Gameboy */ \"./src/palette/palettes/Gameboy.ts\");\n/* harmony import */ var _palette_palettes_RGB__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./palette/palettes/RGB */ \"./src/palette/palettes/RGB.ts\");\n/* harmony import */ var _palette_palettes_Macintosh4b__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./palette/palettes/Macintosh4b */ \"./src/palette/palettes/Macintosh4b.ts\");\n/* harmony import */ var _palette_palettes_Auto__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./palette/palettes/Auto */ \"./src/palette/palettes/Auto.ts\");\n/* harmony import */ var _process_processes_Basic__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./process/processes/Basic */ \"./src/process/processes/Basic.ts\");\n/* harmony import */ var _process_processes_FloydSteinberg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./process/processes/FloydSteinberg */ \"./src/process/processes/FloydSteinberg.ts\");\n/* harmony import */ var _process_processes_BayerLike__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./process/processes/BayerLike */ \"./src/process/processes/BayerLike.ts\");\n/* harmony import */ var _process_processes_Weighted__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./process/processes/Weighted */ \"./src/process/processes/Weighted.ts\");\n/* harmony import */ var _palette_applyPalette__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./palette/applyPalette */ \"./src/palette/applyPalette.ts\");\n/* harmony import */ var _palette_AutoPalette__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./palette/AutoPalette */ \"./src/palette/AutoPalette.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/utils */ \"./src/utils/utils.ts\");\n/* harmony import */ var _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./palette/palettes/Mono */ \"./src/palette/palettes/Mono.ts\");\n/* harmony import */ var _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./palette/PaletteUtils */ \"./src/palette/PaletteUtils.ts\");\n/* harmony import */ var _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./palette/palettes/Duo */ \"./src/palette/palettes/Duo.ts\");\n/* harmony import */ var _palette_palettes_CMYK__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./palette/palettes/CMYK */ \"./src/palette/palettes/CMYK.ts\");\n// Palettes\n\n\n\n\n\n\n\n\n\n\n// Processes\n\n\n\n\n// Utils and functions\n\n\n\n\n\n\n\n// ================================================================================================ \\\\\n// Initialization ================================================================================== \\\\\n// Get both canvas elements and contexts\nconst imageCanvas = document.getElementById('canvasOriginal');\nconst outputCanvas = document.getElementById('canvasOutput');\n// Basic options\nconst fileInput = document.getElementById('fileInput');\nconst resizeInput = document.getElementById('resizeInput');\nconst paletteSelect = document.getElementById('paletteSelect');\nconst procSelect = document.getElementById('processSelect');\n// Advanced options\nconst advancedOptDiv = document.getElementById('advancedOptions');\nconst featGamma = document.getElementById('featGamma');\nconst allowSlow = document.getElementById('allowSlow');\nconst featThreads = document.getElementById('featThreads');\nconst autoThreads = document.getElementById('threadModeAuto');\nconst manualThreads = document.getElementById('threadModeManual');\nconst threadCount = document.getElementById('threadCount');\n// Buttons and warning banner\nconst toggleAdvanced = document.getElementById('toggleAdvanced');\nconst toggleOriginal = document.getElementById('toggleOriginal');\nconst btnStop = document.getElementById('abort');\nconst slowWarning = document.getElementById('slowWarning');\n// TODO: clean this up\nconst imageContext = imageCanvas.getContext('2d');\nallowSlow.addEventListener('change', function () {\n    allowSlow.checked ?\n        slowWarning.style.removeProperty('display') :\n        slowWarning.style.setProperty('display', 'none');\n    updateEnabledProcs();\n    updateEnabledPalettes();\n});\n// Load palette data and get the select element\nconst palettes = [\n    _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__.CGAm4p0l,\n    _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__.CGAm4p0h,\n    _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__.CGAm4p1l,\n    _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__.CGAm4p1h,\n    _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__.CGAm5l,\n    _palette_palettes_CGA2bModes__WEBPACK_IMPORTED_MODULE_0__.CGAm5h,\n    _palette_palettes_Cmdr644b__WEBPACK_IMPORTED_MODULE_2__.default,\n    _palette_palettes_Macintosh4b__WEBPACK_IMPORTED_MODULE_8__.default,\n    _palette_palettes_Win4bRGBI__WEBPACK_IMPORTED_MODULE_3__.default,\n    _palette_palettes_Win20cEx__WEBPACK_IMPORTED_MODULE_4__.default,\n    _palette_palettes_CGA4bRGBI__WEBPACK_IMPORTED_MODULE_1__.default,\n    _palette_palettes_ZX4bRGBI__WEBPACK_IMPORTED_MODULE_5__.default,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.Mono2W,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.Mono2G,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.Mono2A,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.Mono4W,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.Mono4A,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.Mono16,\n    _palette_palettes_Gameboy__WEBPACK_IMPORTED_MODULE_6__.GameBoy,\n    _palette_palettes_Mono__WEBPACK_IMPORTED_MODULE_17__.PipBoy,\n    _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__.DuoRC1,\n    _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__.DuoRC2,\n    _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__.DuoGM2,\n    _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__.DuoBY2,\n    _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__.DuoWA2,\n    _palette_palettes_Duo__WEBPACK_IMPORTED_MODULE_19__.DuoOG2,\n    _palette_palettes_RGB__WEBPACK_IMPORTED_MODULE_7__.RGB8,\n    _palette_palettes_RGB__WEBPACK_IMPORTED_MODULE_7__.RGB16,\n    _palette_palettes_RGB__WEBPACK_IMPORTED_MODULE_7__.RGB64,\n    _palette_palettes_RGB__WEBPACK_IMPORTED_MODULE_7__.RGB256,\n    _palette_palettes_Auto__WEBPACK_IMPORTED_MODULE_9__.Auto16,\n    _palette_palettes_Auto__WEBPACK_IMPORTED_MODULE_9__.Auto64,\n    _palette_palettes_Auto__WEBPACK_IMPORTED_MODULE_9__.Auto256,\n    _palette_palettes_CMYK__WEBPACK_IMPORTED_MODULE_20__.default\n];\nlet selectedPalette = _palette_palettes_Win4bRGBI__WEBPACK_IMPORTED_MODULE_3__.default;\n// Populate the palette select element\npalettes.forEach(palette => {\n    const option = document.createElement('option');\n    option.setAttribute('value', palette.name);\n    option.text = palette.name;\n    // Try and find the option group the palette belongs in\n    let group;\n    const groups = paletteSelect.getElementsByTagName('optgroup');\n    for (let i = 0; i < groups.length; i++)\n        if (groups[i].label === palette.group)\n            group = groups[i];\n    // If the group doesn't exist, create it\n    if (!group) {\n        group = document.createElement('optgroup');\n        group.label = palette.group;\n        paletteSelect.appendChild(group);\n    }\n    group.appendChild(option);\n});\npaletteSelect.value = selectedPalette.name;\n// Load processes and get the select element\nconst processes = [\n    _process_processes_Basic__WEBPACK_IMPORTED_MODULE_10__.default,\n    _process_processes_FloydSteinberg__WEBPACK_IMPORTED_MODULE_11__.default,\n    _process_processes_BayerLike__WEBPACK_IMPORTED_MODULE_12__.BayerLikeFast,\n    _process_processes_BayerLike__WEBPACK_IMPORTED_MODULE_12__.BayerLike,\n    _process_processes_Weighted__WEBPACK_IMPORTED_MODULE_13__.default\n];\nlet selectedProcess = _process_processes_Basic__WEBPACK_IMPORTED_MODULE_10__.default;\n// Populate the process select element\nprocesses.forEach(process => {\n    const option = document.createElement('option');\n    option.setAttribute('value', process.name);\n    option.text = process.name;\n    procSelect.appendChild(option);\n});\n// Add change handlers for settings\npaletteSelect.addEventListener('change', function (ev) {\n    selectedPalette = palettes.find(pal => pal.name === ev.target.value) || selectedPalette;\n    updateEnabledProcs();\n    update();\n});\nprocSelect.addEventListener('change', function (ev) {\n    selectedProcess = processes.find(proc => proc.name === ev.target.value) || selectedProcess;\n    updateEnabledPalettes();\n    update();\n});\n// Add file upload handling\nfunction onLoad(img) {\n    let w = img.width;\n    let h = img.height;\n    const maxSize = parseInt(resizeInput.value, 10);\n    if (w >= h && w > maxSize) {\n        h = maxSize * (h / w);\n        w = maxSize;\n    }\n    if (h > w && h > maxSize) {\n        w = maxSize * (w / h);\n        h = maxSize;\n    }\n    imageCanvas.width = w;\n    imageCanvas.height = h;\n    imageContext === null || imageContext === void 0 ? void 0 : imageContext.drawImage(img, 0, 0, w, h);\n    // Clear the cache of generated palettes\n    (0,_palette_AutoPalette__WEBPACK_IMPORTED_MODULE_15__.clearPaletteCache)();\n    update();\n}\nfileInput.addEventListener('change', function (ev) { (0,_utils_utils__WEBPACK_IMPORTED_MODULE_16__.loadFile)(ev).then(img => onLoad(img)); });\n// Add click handler for view original button\nfunction toggleViewOriginal() {\n    outputCanvas.classList.contains('clip') ?\n        outputCanvas.classList.remove('clip') :\n        outputCanvas.classList.add('clip');\n}\ntoggleOriginal.addEventListener('click', toggleViewOriginal);\n// Show/hide advanced options\nfunction toggleAdvOptions() {\n    const visible = getComputedStyle(advancedOptDiv).getPropertyValue('display') !== 'none';\n    visible ?\n        advancedOptDiv.style.setProperty('display', 'none') :\n        advancedOptDiv.style.removeProperty('display');\n    toggleAdvanced.innerHTML = `${visible ? 'Show' : 'Hide'} advanced options`;\n}\ntoggleAdvanced.addEventListener('click', toggleAdvOptions);\n// Thread options handling\nthreadCount.value = '2';\nthreadCount.min = '1';\nthreadCount.max = _palette_applyPalette__WEBPACK_IMPORTED_MODULE_14__.threadsAvailable.toString();\nfunction threadOptHandler() {\n    autoThreads.disabled = !featThreads.checked;\n    manualThreads.disabled = !featThreads.checked;\n    threadCount.disabled = !featThreads.checked || !manualThreads.checked;\n}\nfeatThreads.addEventListener('change', threadOptHandler);\nautoThreads.addEventListener('change', threadOptHandler);\nmanualThreads.addEventListener('change', threadOptHandler);\nthreadCount.addEventListener('change', threadOptHandler);\n// Stop button\nbtnStop.addEventListener('click', () => {\n    (0,_palette_applyPalette__WEBPACK_IMPORTED_MODULE_14__.terminateAllWorkers)();\n    btnStop.disabled = true;\n});\n// ================================================================================================ \\\\\n// Action functions ================================================================================ \\\\\nfunction update() {\n    outputCanvas.classList.remove('flash-anim');\n    const threads = !featThreads.checked ? 1 :\n        (autoThreads.checked ? 'auto' :\n            parseInt(threadCount.value, 10));\n    btnStop.disabled = false;\n    (0,_palette_applyPalette__WEBPACK_IMPORTED_MODULE_14__.processImageAsync)(imageCanvas, outputCanvas, selectedPalette, selectedProcess, 'cdRGB', {\n        gamma: featGamma.checked,\n        threads: threads\n    }).then(() => {\n        outputCanvas.classList.add('flash-anim');\n        btnStop.disabled = true;\n    });\n}\nfunction updateEnabledProcs() {\n    // Disable slow processes for large palettes\n    const procOpts = procSelect.children;\n    for (let i = 0; i < procOpts.length; i++) {\n        const option = procOpts[i];\n        const process = processes.find(proc => proc.name === option.value);\n        if (process) {\n            option.disabled = !allowSlow.checked && process.maxAllowedPaletteSize < _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_18__.default.getSize(selectedPalette);\n        }\n    }\n}\nfunction updateEnabledPalettes() {\n    // Disable too large palettes\n    const paletteOpts = paletteSelect.getElementsByTagName('option');\n    for (let i = 0; i < paletteOpts.length; i++) {\n        const option = paletteOpts[i];\n        const palette = palettes.find(pal => pal.name === option.value);\n        if (palette) {\n            option.disabled = !allowSlow.checked && selectedProcess.maxAllowedPaletteSize < _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_18__.default.getSize(palette);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL2luZGV4LnRzP2U5NGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3VHO0FBQ2xEO0FBQ0Y7QUFDRTtBQUNGO0FBQ0E7QUFDRTtBQUNlO0FBQ1g7QUFDUztBQUNsRTtBQUM4QztBQUNrQjtBQUNTO0FBQ2I7QUFDNUQ7QUFDa0c7QUFDeEM7QUFDakI7QUFDd0Q7QUFDL0M7QUFDc0M7QUFDN0M7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLElBQUksa0VBQVE7QUFDWixJQUFJLGtFQUFRO0FBQ1osSUFBSSxrRUFBUTtBQUNaLElBQUksa0VBQVE7QUFDWixJQUFJLGdFQUFNO0FBQ1YsSUFBSSxnRUFBTTtBQUNWLElBQUksK0RBQVE7QUFDWixJQUFJLGtFQUFXO0FBQ2YsSUFBSSxnRUFBUztBQUNiLElBQUksK0RBQVE7QUFDWixJQUFJLGdFQUFTO0FBQ2IsSUFBSSwrREFBUTtBQUNaLElBQUksMkRBQU07QUFDVixJQUFJLDJEQUFNO0FBQ1YsSUFBSSwyREFBTTtBQUNWLElBQUksMkRBQU07QUFDVixJQUFJLDJEQUFNO0FBQ1YsSUFBSSwyREFBTTtBQUNWLElBQUksOERBQU87QUFDWCxJQUFJLDJEQUFNO0FBQ1YsSUFBSSwwREFBTTtBQUNWLElBQUksMERBQU07QUFDVixJQUFJLDBEQUFNO0FBQ1YsSUFBSSwwREFBTTtBQUNWLElBQUksMERBQU07QUFDVixJQUFJLDBEQUFNO0FBQ1YsSUFBSSx1REFBSTtBQUNSLElBQUksd0RBQUs7QUFDVCxJQUFJLHdEQUFLO0FBQ1QsSUFBSSx5REFBTTtBQUNWLElBQUksMERBQU07QUFDVixJQUFJLDBEQUFNO0FBQ1YsSUFBSSwyREFBTztBQUNYLElBQUksNERBQUk7QUFDUjtBQUNBLHNCQUFzQixnRUFBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsSUFBSSw4REFBSztBQUNULElBQUksdUVBQWM7QUFDbEIsSUFBSSx3RUFBYTtBQUNqQixJQUFJLG9FQUFTO0FBQ2IsSUFBSSxpRUFBZ0I7QUFDcEI7QUFDQSxzQkFBc0IsOERBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksd0VBQWlCO0FBQ3JCO0FBQ0E7QUFDQSxvREFBb0QsQ0FBQyx1REFBUSw4QkFBOEIsRUFBRTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywwQkFBMEI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2RUFBeUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMkVBQW1CO0FBQ3ZCO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlFQUFpQjtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIscUJBQXFCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixtRUFBb0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHdCQUF3QjtBQUMzQztBQUNBO0FBQ0E7QUFDQSw0RkFBNEYsbUVBQW9CO0FBQ2hIO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9pbmRleC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFBhbGV0dGVzXG5pbXBvcnQgeyBDR0FtNHAwaCwgQ0dBbTRwMGwsIENHQW00cDFoLCBDR0FtNHAxbCwgQ0dBbTVoLCBDR0FtNWwgfSBmcm9tICcuL3BhbGV0dGUvcGFsZXR0ZXMvQ0dBMmJNb2Rlcyc7XG5pbXBvcnQgQ0dBNGJSR0JJIGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9DR0E0YlJHQkknO1xuaW1wb3J0IENtZHI2NDRiIGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9DbWRyNjQ0Yic7XG5pbXBvcnQgV2luNGJSR0JJIGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9XaW40YlJHQkknO1xuaW1wb3J0IFdpbjIwY0V4IGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9XaW4yMGNFeCc7XG5pbXBvcnQgWlg0YlJHQkkgZnJvbSAnLi9wYWxldHRlL3BhbGV0dGVzL1pYNGJSR0JJJztcbmltcG9ydCB7IEdhbWVCb3kgfSBmcm9tICcuL3BhbGV0dGUvcGFsZXR0ZXMvR2FtZWJveSc7XG5pbXBvcnQgeyBSR0IxNiwgUkdCMjU2LCBSR0I2NCwgUkdCOCB9IGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9SR0InO1xuaW1wb3J0IE1hY2ludG9zaDRiIGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9NYWNpbnRvc2g0Yic7XG5pbXBvcnQgeyBBdXRvMTYsIEF1dG8yNTYsIEF1dG82NCB9IGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9BdXRvJztcbi8vIFByb2Nlc3Nlc1xuaW1wb3J0IEJhc2ljIGZyb20gJy4vcHJvY2Vzcy9wcm9jZXNzZXMvQmFzaWMnO1xuaW1wb3J0IEZsb3lkU3RlaW5iZXJnIGZyb20gJy4vcHJvY2Vzcy9wcm9jZXNzZXMvRmxveWRTdGVpbmJlcmcnO1xuaW1wb3J0IHsgQmF5ZXJMaWtlLCBCYXllckxpa2VGYXN0IH0gZnJvbSAnLi9wcm9jZXNzL3Byb2Nlc3Nlcy9CYXllckxpa2UnO1xuaW1wb3J0IFdlaWdodGVkQ29sb3JNYXAgZnJvbSAnLi9wcm9jZXNzL3Byb2Nlc3Nlcy9XZWlnaHRlZCc7XG4vLyBVdGlscyBhbmQgZnVuY3Rpb25zXG5pbXBvcnQgeyBwcm9jZXNzSW1hZ2VBc3luYywgdGVybWluYXRlQWxsV29ya2VycywgdGhyZWFkc0F2YWlsYWJsZSB9IGZyb20gJy4vcGFsZXR0ZS9hcHBseVBhbGV0dGUnO1xuaW1wb3J0IHsgY2xlYXJQYWxldHRlQ2FjaGUgfSBmcm9tICcuL3BhbGV0dGUvQXV0b1BhbGV0dGUnO1xuaW1wb3J0IHsgbG9hZEZpbGUgfSBmcm9tICcuL3V0aWxzL3V0aWxzJztcbmltcG9ydCB7IE1vbm8yQSwgTW9ubzJHLCBNb25vMlcsIE1vbm80QSwgTW9ubzRXLCBNb25vMTYsIFBpcEJveSB9IGZyb20gJy4vcGFsZXR0ZS9wYWxldHRlcy9Nb25vJztcbmltcG9ydCBQYWxldHRlVXRpbHMgZnJvbSAnLi9wYWxldHRlL1BhbGV0dGVVdGlscyc7XG5pbXBvcnQgeyBEdW9CWTIsIER1b0dNMiwgRHVvT0cyLCBEdW9SQzEsIER1b1JDMiwgRHVvV0EyIH0gZnJvbSAnLi9wYWxldHRlL3BhbGV0dGVzL0R1byc7XG5pbXBvcnQgQ01ZSyBmcm9tICcuL3BhbGV0dGUvcGFsZXR0ZXMvQ01ZSyc7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gXFxcXFxuLy8gSW5pdGlhbGl6YXRpb24gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcXFxcXG4vLyBHZXQgYm90aCBjYW52YXMgZWxlbWVudHMgYW5kIGNvbnRleHRzXG5jb25zdCBpbWFnZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXNPcmlnaW5hbCcpO1xuY29uc3Qgb3V0cHV0Q2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhc091dHB1dCcpO1xuLy8gQmFzaWMgb3B0aW9uc1xuY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVJbnB1dCcpO1xuY29uc3QgcmVzaXplSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzaXplSW5wdXQnKTtcbmNvbnN0IHBhbGV0dGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFsZXR0ZVNlbGVjdCcpO1xuY29uc3QgcHJvY1NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9jZXNzU2VsZWN0Jyk7XG4vLyBBZHZhbmNlZCBvcHRpb25zXG5jb25zdCBhZHZhbmNlZE9wdERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZHZhbmNlZE9wdGlvbnMnKTtcbmNvbnN0IGZlYXRHYW1tYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWF0R2FtbWEnKTtcbmNvbnN0IGFsbG93U2xvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbGxvd1Nsb3cnKTtcbmNvbnN0IGZlYXRUaHJlYWRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlYXRUaHJlYWRzJyk7XG5jb25zdCBhdXRvVGhyZWFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aHJlYWRNb2RlQXV0bycpO1xuY29uc3QgbWFudWFsVGhyZWFkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aHJlYWRNb2RlTWFudWFsJyk7XG5jb25zdCB0aHJlYWRDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aHJlYWRDb3VudCcpO1xuLy8gQnV0dG9ucyBhbmQgd2FybmluZyBiYW5uZXJcbmNvbnN0IHRvZ2dsZUFkdmFuY2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZUFkdmFuY2VkJyk7XG5jb25zdCB0b2dnbGVPcmlnaW5hbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGVPcmlnaW5hbCcpO1xuY29uc3QgYnRuU3RvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhYm9ydCcpO1xuY29uc3Qgc2xvd1dhcm5pbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2xvd1dhcm5pbmcnKTtcbi8vIFRPRE86IGNsZWFuIHRoaXMgdXBcbmNvbnN0IGltYWdlQ29udGV4dCA9IGltYWdlQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5hbGxvd1Nsb3cuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIGFsbG93U2xvdy5jaGVja2VkID9cbiAgICAgICAgc2xvd1dhcm5pbmcuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKSA6XG4gICAgICAgIHNsb3dXYXJuaW5nLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICB1cGRhdGVFbmFibGVkUHJvY3MoKTtcbiAgICB1cGRhdGVFbmFibGVkUGFsZXR0ZXMoKTtcbn0pO1xuLy8gTG9hZCBwYWxldHRlIGRhdGEgYW5kIGdldCB0aGUgc2VsZWN0IGVsZW1lbnRcbmNvbnN0IHBhbGV0dGVzID0gW1xuICAgIENHQW00cDBsLFxuICAgIENHQW00cDBoLFxuICAgIENHQW00cDFsLFxuICAgIENHQW00cDFoLFxuICAgIENHQW01bCxcbiAgICBDR0FtNWgsXG4gICAgQ21kcjY0NGIsXG4gICAgTWFjaW50b3NoNGIsXG4gICAgV2luNGJSR0JJLFxuICAgIFdpbjIwY0V4LFxuICAgIENHQTRiUkdCSSxcbiAgICBaWDRiUkdCSSxcbiAgICBNb25vMlcsXG4gICAgTW9ubzJHLFxuICAgIE1vbm8yQSxcbiAgICBNb25vNFcsXG4gICAgTW9ubzRBLFxuICAgIE1vbm8xNixcbiAgICBHYW1lQm95LFxuICAgIFBpcEJveSxcbiAgICBEdW9SQzEsXG4gICAgRHVvUkMyLFxuICAgIER1b0dNMixcbiAgICBEdW9CWTIsXG4gICAgRHVvV0EyLFxuICAgIER1b09HMixcbiAgICBSR0I4LFxuICAgIFJHQjE2LFxuICAgIFJHQjY0LFxuICAgIFJHQjI1NixcbiAgICBBdXRvMTYsXG4gICAgQXV0bzY0LFxuICAgIEF1dG8yNTYsXG4gICAgQ01ZS1xuXTtcbmxldCBzZWxlY3RlZFBhbGV0dGUgPSBXaW40YlJHQkk7XG4vLyBQb3B1bGF0ZSB0aGUgcGFsZXR0ZSBzZWxlY3QgZWxlbWVudFxucGFsZXR0ZXMuZm9yRWFjaChwYWxldHRlID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICBvcHRpb24uc2V0QXR0cmlidXRlKCd2YWx1ZScsIHBhbGV0dGUubmFtZSk7XG4gICAgb3B0aW9uLnRleHQgPSBwYWxldHRlLm5hbWU7XG4gICAgLy8gVHJ5IGFuZCBmaW5kIHRoZSBvcHRpb24gZ3JvdXAgdGhlIHBhbGV0dGUgYmVsb25ncyBpblxuICAgIGxldCBncm91cDtcbiAgICBjb25zdCBncm91cHMgPSBwYWxldHRlU2VsZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdvcHRncm91cCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoZ3JvdXBzW2ldLmxhYmVsID09PSBwYWxldHRlLmdyb3VwKVxuICAgICAgICAgICAgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgLy8gSWYgdGhlIGdyb3VwIGRvZXNuJ3QgZXhpc3QsIGNyZWF0ZSBpdFxuICAgIGlmICghZ3JvdXApIHtcbiAgICAgICAgZ3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xuICAgICAgICBncm91cC5sYWJlbCA9IHBhbGV0dGUuZ3JvdXA7XG4gICAgICAgIHBhbGV0dGVTZWxlY3QuYXBwZW5kQ2hpbGQoZ3JvdXApO1xuICAgIH1cbiAgICBncm91cC5hcHBlbmRDaGlsZChvcHRpb24pO1xufSk7XG5wYWxldHRlU2VsZWN0LnZhbHVlID0gc2VsZWN0ZWRQYWxldHRlLm5hbWU7XG4vLyBMb2FkIHByb2Nlc3NlcyBhbmQgZ2V0IHRoZSBzZWxlY3QgZWxlbWVudFxuY29uc3QgcHJvY2Vzc2VzID0gW1xuICAgIEJhc2ljLFxuICAgIEZsb3lkU3RlaW5iZXJnLFxuICAgIEJheWVyTGlrZUZhc3QsXG4gICAgQmF5ZXJMaWtlLFxuICAgIFdlaWdodGVkQ29sb3JNYXBcbl07XG5sZXQgc2VsZWN0ZWRQcm9jZXNzID0gQmFzaWM7XG4vLyBQb3B1bGF0ZSB0aGUgcHJvY2VzcyBzZWxlY3QgZWxlbWVudFxucHJvY2Vzc2VzLmZvckVhY2gocHJvY2VzcyA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgb3B0aW9uLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBwcm9jZXNzLm5hbWUpO1xuICAgIG9wdGlvbi50ZXh0ID0gcHJvY2Vzcy5uYW1lO1xuICAgIHByb2NTZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbn0pO1xuLy8gQWRkIGNoYW5nZSBoYW5kbGVycyBmb3Igc2V0dGluZ3NcbnBhbGV0dGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgc2VsZWN0ZWRQYWxldHRlID0gcGFsZXR0ZXMuZmluZChwYWwgPT4gcGFsLm5hbWUgPT09IGV2LnRhcmdldC52YWx1ZSkgfHwgc2VsZWN0ZWRQYWxldHRlO1xuICAgIHVwZGF0ZUVuYWJsZWRQcm9jcygpO1xuICAgIHVwZGF0ZSgpO1xufSk7XG5wcm9jU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIChldikge1xuICAgIHNlbGVjdGVkUHJvY2VzcyA9IHByb2Nlc3Nlcy5maW5kKHByb2MgPT4gcHJvYy5uYW1lID09PSBldi50YXJnZXQudmFsdWUpIHx8IHNlbGVjdGVkUHJvY2VzcztcbiAgICB1cGRhdGVFbmFibGVkUGFsZXR0ZXMoKTtcbiAgICB1cGRhdGUoKTtcbn0pO1xuLy8gQWRkIGZpbGUgdXBsb2FkIGhhbmRsaW5nXG5mdW5jdGlvbiBvbkxvYWQoaW1nKSB7XG4gICAgbGV0IHcgPSBpbWcud2lkdGg7XG4gICAgbGV0IGggPSBpbWcuaGVpZ2h0O1xuICAgIGNvbnN0IG1heFNpemUgPSBwYXJzZUludChyZXNpemVJbnB1dC52YWx1ZSwgMTApO1xuICAgIGlmICh3ID49IGggJiYgdyA+IG1heFNpemUpIHtcbiAgICAgICAgaCA9IG1heFNpemUgKiAoaCAvIHcpO1xuICAgICAgICB3ID0gbWF4U2l6ZTtcbiAgICB9XG4gICAgaWYgKGggPiB3ICYmIGggPiBtYXhTaXplKSB7XG4gICAgICAgIHcgPSBtYXhTaXplICogKHcgLyBoKTtcbiAgICAgICAgaCA9IG1heFNpemU7XG4gICAgfVxuICAgIGltYWdlQ2FudmFzLndpZHRoID0gdztcbiAgICBpbWFnZUNhbnZhcy5oZWlnaHQgPSBoO1xuICAgIGltYWdlQ29udGV4dCA9PT0gbnVsbCB8fCBpbWFnZUNvbnRleHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGltYWdlQ29udGV4dC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3LCBoKTtcbiAgICAvLyBDbGVhciB0aGUgY2FjaGUgb2YgZ2VuZXJhdGVkIHBhbGV0dGVzXG4gICAgY2xlYXJQYWxldHRlQ2FjaGUoKTtcbiAgICB1cGRhdGUoKTtcbn1cbmZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXYpIHsgbG9hZEZpbGUoZXYpLnRoZW4oaW1nID0+IG9uTG9hZChpbWcpKTsgfSk7XG4vLyBBZGQgY2xpY2sgaGFuZGxlciBmb3IgdmlldyBvcmlnaW5hbCBidXR0b25cbmZ1bmN0aW9uIHRvZ2dsZVZpZXdPcmlnaW5hbCgpIHtcbiAgICBvdXRwdXRDYW52YXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGlwJykgP1xuICAgICAgICBvdXRwdXRDYW52YXMuY2xhc3NMaXN0LnJlbW92ZSgnY2xpcCcpIDpcbiAgICAgICAgb3V0cHV0Q2FudmFzLmNsYXNzTGlzdC5hZGQoJ2NsaXAnKTtcbn1cbnRvZ2dsZU9yaWdpbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlVmlld09yaWdpbmFsKTtcbi8vIFNob3cvaGlkZSBhZHZhbmNlZCBvcHRpb25zXG5mdW5jdGlvbiB0b2dnbGVBZHZPcHRpb25zKCkge1xuICAgIGNvbnN0IHZpc2libGUgPSBnZXRDb21wdXRlZFN0eWxlKGFkdmFuY2VkT3B0RGl2KS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXNwbGF5JykgIT09ICdub25lJztcbiAgICB2aXNpYmxlID9cbiAgICAgICAgYWR2YW5jZWRPcHREaXYuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpIDpcbiAgICAgICAgYWR2YW5jZWRPcHREaXYuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ2Rpc3BsYXknKTtcbiAgICB0b2dnbGVBZHZhbmNlZC5pbm5lckhUTUwgPSBgJHt2aXNpYmxlID8gJ1Nob3cnIDogJ0hpZGUnfSBhZHZhbmNlZCBvcHRpb25zYDtcbn1cbnRvZ2dsZUFkdmFuY2VkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlQWR2T3B0aW9ucyk7XG4vLyBUaHJlYWQgb3B0aW9ucyBoYW5kbGluZ1xudGhyZWFkQ291bnQudmFsdWUgPSAnMic7XG50aHJlYWRDb3VudC5taW4gPSAnMSc7XG50aHJlYWRDb3VudC5tYXggPSB0aHJlYWRzQXZhaWxhYmxlLnRvU3RyaW5nKCk7XG5mdW5jdGlvbiB0aHJlYWRPcHRIYW5kbGVyKCkge1xuICAgIGF1dG9UaHJlYWRzLmRpc2FibGVkID0gIWZlYXRUaHJlYWRzLmNoZWNrZWQ7XG4gICAgbWFudWFsVGhyZWFkcy5kaXNhYmxlZCA9ICFmZWF0VGhyZWFkcy5jaGVja2VkO1xuICAgIHRocmVhZENvdW50LmRpc2FibGVkID0gIWZlYXRUaHJlYWRzLmNoZWNrZWQgfHwgIW1hbnVhbFRocmVhZHMuY2hlY2tlZDtcbn1cbmZlYXRUaHJlYWRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRocmVhZE9wdEhhbmRsZXIpO1xuYXV0b1RocmVhZHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhyZWFkT3B0SGFuZGxlcik7XG5tYW51YWxUaHJlYWRzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRocmVhZE9wdEhhbmRsZXIpO1xudGhyZWFkQ291bnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhyZWFkT3B0SGFuZGxlcik7XG4vLyBTdG9wIGJ1dHRvblxuYnRuU3RvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB0ZXJtaW5hdGVBbGxXb3JrZXJzKCk7XG4gICAgYnRuU3RvcC5kaXNhYmxlZCA9IHRydWU7XG59KTtcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcXFxcXG4vLyBBY3Rpb24gZnVuY3Rpb25zID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFxcXFxcbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBvdXRwdXRDYW52YXMuY2xhc3NMaXN0LnJlbW92ZSgnZmxhc2gtYW5pbScpO1xuICAgIGNvbnN0IHRocmVhZHMgPSAhZmVhdFRocmVhZHMuY2hlY2tlZCA/IDEgOlxuICAgICAgICAoYXV0b1RocmVhZHMuY2hlY2tlZCA/ICdhdXRvJyA6XG4gICAgICAgICAgICBwYXJzZUludCh0aHJlYWRDb3VudC52YWx1ZSwgMTApKTtcbiAgICBidG5TdG9wLmRpc2FibGVkID0gZmFsc2U7XG4gICAgcHJvY2Vzc0ltYWdlQXN5bmMoaW1hZ2VDYW52YXMsIG91dHB1dENhbnZhcywgc2VsZWN0ZWRQYWxldHRlLCBzZWxlY3RlZFByb2Nlc3MsICdjZFJHQicsIHtcbiAgICAgICAgZ2FtbWE6IGZlYXRHYW1tYS5jaGVja2VkLFxuICAgICAgICB0aHJlYWRzOiB0aHJlYWRzXG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIG91dHB1dENhbnZhcy5jbGFzc0xpc3QuYWRkKCdmbGFzaC1hbmltJyk7XG4gICAgICAgIGJ0blN0b3AuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlRW5hYmxlZFByb2NzKCkge1xuICAgIC8vIERpc2FibGUgc2xvdyBwcm9jZXNzZXMgZm9yIGxhcmdlIHBhbGV0dGVzXG4gICAgY29uc3QgcHJvY09wdHMgPSBwcm9jU2VsZWN0LmNoaWxkcmVuO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvY09wdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gcHJvY09wdHNbaV07XG4gICAgICAgIGNvbnN0IHByb2Nlc3MgPSBwcm9jZXNzZXMuZmluZChwcm9jID0+IHByb2MubmFtZSA9PT0gb3B0aW9uLnZhbHVlKTtcbiAgICAgICAgaWYgKHByb2Nlc3MpIHtcbiAgICAgICAgICAgIG9wdGlvbi5kaXNhYmxlZCA9ICFhbGxvd1Nsb3cuY2hlY2tlZCAmJiBwcm9jZXNzLm1heEFsbG93ZWRQYWxldHRlU2l6ZSA8IFBhbGV0dGVVdGlscy5nZXRTaXplKHNlbGVjdGVkUGFsZXR0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVFbmFibGVkUGFsZXR0ZXMoKSB7XG4gICAgLy8gRGlzYWJsZSB0b28gbGFyZ2UgcGFsZXR0ZXNcbiAgICBjb25zdCBwYWxldHRlT3B0cyA9IHBhbGV0dGVTZWxlY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ29wdGlvbicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFsZXR0ZU9wdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gcGFsZXR0ZU9wdHNbaV07XG4gICAgICAgIGNvbnN0IHBhbGV0dGUgPSBwYWxldHRlcy5maW5kKHBhbCA9PiBwYWwubmFtZSA9PT0gb3B0aW9uLnZhbHVlKTtcbiAgICAgICAgaWYgKHBhbGV0dGUpIHtcbiAgICAgICAgICAgIG9wdGlvbi5kaXNhYmxlZCA9ICFhbGxvd1Nsb3cuY2hlY2tlZCAmJiBzZWxlY3RlZFByb2Nlc3MubWF4QWxsb3dlZFBhbGV0dGVTaXplIDwgUGFsZXR0ZVV0aWxzLmdldFNpemUocGFsZXR0ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/palette/AutoPalette.ts":
/*!************************************!*\
  !*** ./src/palette/AutoPalette.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getAutoPalette\": () => (/* binding */ getAutoPalette),\n/* harmony export */   \"clearPaletteCache\": () => (/* binding */ clearPaletteCache)\n/* harmony export */ });\n/* harmony import */ var _paletteGen_PaletteGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../paletteGen/PaletteGenerator */ \"./src/paletteGen/PaletteGenerator.ts\");\n\nconst paletteCache = [];\nfunction getAutoPalette(options, imageData) {\n    const key = `AUTO_${options.size}L${options.levels}R${options.reservedLevel}`;\n    const cached = paletteCache.find(entry => entry.key === key);\n    if (cached)\n        return cached.palette;\n    else {\n        // Replace the 'template' auto palette with the appropriate\n        // palette generated from the image\n        const palette = (0,_paletteGen_PaletteGenerator__WEBPACK_IMPORTED_MODULE_0__.generatePalette)(options, imageData);\n        paletteCache.push({ key, palette });\n        return palette;\n    }\n}\nfunction clearPaletteCache() {\n    paletteCache.splice(0);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvQXV0b1BhbGV0dGUudHM/ZTY0NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUU7QUFDakU7QUFDTztBQUNQLHdCQUF3QixhQUFhLEdBQUcsZUFBZSxHQUFHLHNCQUFzQjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkVBQWU7QUFDdkMsMkJBQTJCLGVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvQXV0b1BhbGV0dGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZW5lcmF0ZVBhbGV0dGUgfSBmcm9tICcuLi9wYWxldHRlR2VuL1BhbGV0dGVHZW5lcmF0b3InO1xuY29uc3QgcGFsZXR0ZUNhY2hlID0gW107XG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0b1BhbGV0dGUob3B0aW9ucywgaW1hZ2VEYXRhKSB7XG4gICAgY29uc3Qga2V5ID0gYEFVVE9fJHtvcHRpb25zLnNpemV9TCR7b3B0aW9ucy5sZXZlbHN9UiR7b3B0aW9ucy5yZXNlcnZlZExldmVsfWA7XG4gICAgY29uc3QgY2FjaGVkID0gcGFsZXR0ZUNhY2hlLmZpbmQoZW50cnkgPT4gZW50cnkua2V5ID09PSBrZXkpO1xuICAgIGlmIChjYWNoZWQpXG4gICAgICAgIHJldHVybiBjYWNoZWQucGFsZXR0ZTtcbiAgICBlbHNlIHtcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgJ3RlbXBsYXRlJyBhdXRvIHBhbGV0dGUgd2l0aCB0aGUgYXBwcm9wcmlhdGVcbiAgICAgICAgLy8gcGFsZXR0ZSBnZW5lcmF0ZWQgZnJvbSB0aGUgaW1hZ2VcbiAgICAgICAgY29uc3QgcGFsZXR0ZSA9IGdlbmVyYXRlUGFsZXR0ZShvcHRpb25zLCBpbWFnZURhdGEpO1xuICAgICAgICBwYWxldHRlQ2FjaGUucHVzaCh7IGtleSwgcGFsZXR0ZSB9KTtcbiAgICAgICAgcmV0dXJuIHBhbGV0dGU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUGFsZXR0ZUNhY2hlKCkge1xuICAgIHBhbGV0dGVDYWNoZS5zcGxpY2UoMCk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/AutoPalette.ts\n");

/***/ }),

/***/ "./src/palette/PaletteGroup.ts":
/*!*************************************!*\
  !*** ./src/palette/PaletteGroup.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar PaletteGroup;\n(function (PaletteGroup) {\n    PaletteGroup[\"Indexed2Bit\"] = \"2-bit (4 color) Indexed\";\n    PaletteGroup[\"Indexed4Bit\"] = \"4-bit (16 color) Indexed\";\n    PaletteGroup[\"Mono\"] = \"Monochrome\";\n    PaletteGroup[\"Duo\"] = \"Dual tone\";\n    PaletteGroup[\"RGB\"] = \"RGB\";\n    PaletteGroup[\"RGBI\"] = \"4-bit (16 color) RGBI\";\n    PaletteGroup[\"Auto\"] = \"Optimized (Auto)\";\n    PaletteGroup[\"Other\"] = \"Other\";\n    PaletteGroup[\"Generated\"] = \"AUTOGENERATED PALETTE\";\n})(PaletteGroup || (PaletteGroup = {}));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaletteGroup);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvUGFsZXR0ZUdyb3VwLnRzPzNjNmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9DQUFvQztBQUNyQyxpRUFBZSxZQUFZLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZS9QYWxldHRlR3JvdXAudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUGFsZXR0ZUdyb3VwO1xuKGZ1bmN0aW9uIChQYWxldHRlR3JvdXApIHtcbiAgICBQYWxldHRlR3JvdXBbXCJJbmRleGVkMkJpdFwiXSA9IFwiMi1iaXQgKDQgY29sb3IpIEluZGV4ZWRcIjtcbiAgICBQYWxldHRlR3JvdXBbXCJJbmRleGVkNEJpdFwiXSA9IFwiNC1iaXQgKDE2IGNvbG9yKSBJbmRleGVkXCI7XG4gICAgUGFsZXR0ZUdyb3VwW1wiTW9ub1wiXSA9IFwiTW9ub2Nocm9tZVwiO1xuICAgIFBhbGV0dGVHcm91cFtcIkR1b1wiXSA9IFwiRHVhbCB0b25lXCI7XG4gICAgUGFsZXR0ZUdyb3VwW1wiUkdCXCJdID0gXCJSR0JcIjtcbiAgICBQYWxldHRlR3JvdXBbXCJSR0JJXCJdID0gXCI0LWJpdCAoMTYgY29sb3IpIFJHQklcIjtcbiAgICBQYWxldHRlR3JvdXBbXCJBdXRvXCJdID0gXCJPcHRpbWl6ZWQgKEF1dG8pXCI7XG4gICAgUGFsZXR0ZUdyb3VwW1wiT3RoZXJcIl0gPSBcIk90aGVyXCI7XG4gICAgUGFsZXR0ZUdyb3VwW1wiR2VuZXJhdGVkXCJdID0gXCJBVVRPR0VORVJBVEVEIFBBTEVUVEVcIjtcbn0pKFBhbGV0dGVHcm91cCB8fCAoUGFsZXR0ZUdyb3VwID0ge30pKTtcbmV4cG9ydCBkZWZhdWx0IFBhbGV0dGVHcm91cDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/palette/PaletteGroup.ts\n");

/***/ }),

/***/ "./src/palette/PaletteType.ts":
/*!************************************!*\
  !*** ./src/palette/PaletteType.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar PaletteType;\n(function (PaletteType) {\n    PaletteType[PaletteType[\"Indexed\"] = 0] = \"Indexed\";\n    PaletteType[PaletteType[\"Mono\"] = 1] = \"Mono\";\n    PaletteType[PaletteType[\"DualTone\"] = 2] = \"DualTone\";\n    PaletteType[PaletteType[\"RGB\"] = 3] = \"RGB\";\n    PaletteType[PaletteType[\"Auto\"] = 4] = \"Auto\";\n})(PaletteType || (PaletteType = {}));\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaletteType);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvUGFsZXR0ZVR5cGUudHM/YjgwMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQyxpRUFBZSxXQUFXLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZS9QYWxldHRlVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBQYWxldHRlVHlwZTtcbihmdW5jdGlvbiAoUGFsZXR0ZVR5cGUpIHtcbiAgICBQYWxldHRlVHlwZVtQYWxldHRlVHlwZVtcIkluZGV4ZWRcIl0gPSAwXSA9IFwiSW5kZXhlZFwiO1xuICAgIFBhbGV0dGVUeXBlW1BhbGV0dGVUeXBlW1wiTW9ub1wiXSA9IDFdID0gXCJNb25vXCI7XG4gICAgUGFsZXR0ZVR5cGVbUGFsZXR0ZVR5cGVbXCJEdWFsVG9uZVwiXSA9IDJdID0gXCJEdWFsVG9uZVwiO1xuICAgIFBhbGV0dGVUeXBlW1BhbGV0dGVUeXBlW1wiUkdCXCJdID0gM10gPSBcIlJHQlwiO1xuICAgIFBhbGV0dGVUeXBlW1BhbGV0dGVUeXBlW1wiQXV0b1wiXSA9IDRdID0gXCJBdXRvXCI7XG59KShQYWxldHRlVHlwZSB8fCAoUGFsZXR0ZVR5cGUgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgUGFsZXR0ZVR5cGU7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/PaletteType.ts\n");

/***/ }),

/***/ "./src/palette/PaletteUtils.ts":
/*!*************************************!*\
  !*** ./src/palette/PaletteUtils.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nclass PaletteUtils {\n    static getSize(palette) {\n        switch (palette.type) {\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed:\n                return palette.data.length / 3;\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono:\n                return palette.data[0];\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone:\n                return palette.data[0] * palette.data[1];\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.RGB:\n                return palette.data[0] * palette.data[1] * palette.data[2];\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Auto:\n                return palette.data[0];\n            default:\n                return 0;\n        }\n    }\n    static getColor(palette, i) {\n        if (i < 0 || i >= this.getSize(palette))\n            throw new Error(`Color index ${i} out of bounds`);\n        switch (palette.type) {\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed:\n                return palette.data.slice(i * 3, i * 3 + 3);\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono:\n                return palette.data.slice(2, 5).map(vMax => {\n                    const vMin = vMax * palette.data[1];\n                    const vRange = vMax - vMin;\n                    return vMin + i * ~~(vRange / (palette.data[0] - 1));\n                });\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone: {\n                const value = [0, 0, 0];\n                // For each color add to value\n                for (let j = 0; j < 2; j++) {\n                    // Decode step for this channel\n                    const step = j === 0 ? (i % palette.data[0]) : ~~(i / palette.data[0]);\n                    // Get max value, calculate min value, step, and value component\n                    palette.data.slice(4 + j * 3, 7 + j * 3).forEach((vMax, k) => {\n                        const vMin = vMax * palette.data[2 + j];\n                        const vRange = vMax - vMin;\n                        value[k] += vMin + step * ~~(vRange / (palette.data[j] - 1));\n                    });\n                }\n                return value;\n            }\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.RGB: {\n                const b = i % palette.data[2];\n                const g = ~~(i / palette.data[2]) % palette.data[1];\n                const r = ~~(i / (palette.data[2] * palette.data[1]));\n                return [r, g, b].map((level, i) => level * ~~(255 / (palette.data[i] - 1)));\n            }\n            case _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Auto:\n            default:\n                throw new Error('Invalid or Auto palette type');\n        }\n    }\n    static getColors(palette) {\n        return Array.from({ length: this.getSize(palette) }, (_, i) => this.getColor(palette, i));\n    }\n    static transform(palette, transform) {\n        const colors = this.getColors(palette).map(color => transform(color));\n        return {\n            name: `${palette.name} :: ${transform.name}`,\n            type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n            group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Generated,\n            data: colors.reduce((flat, color) => flat.concat(color))\n        };\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PaletteUtils);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvUGFsZXR0ZVV0aWxzLnRzPzEyNzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBQ0Y7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFtQjtBQUNwQztBQUNBLGlCQUFpQixzREFBZ0I7QUFDakM7QUFDQSxpQkFBaUIsMERBQW9CO0FBQ3JDO0FBQ0EsaUJBQWlCLHFEQUFlO0FBQ2hDO0FBQ0EsaUJBQWlCLHNEQUFnQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxFQUFFO0FBQzdDO0FBQ0EsaUJBQWlCLHlEQUFtQjtBQUNwQztBQUNBLGlCQUFpQixzREFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsaUJBQWlCLDBEQUFvQjtBQUNyQztBQUNBO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHFEQUFlO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsc0RBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGFBQWEsTUFBTSxlQUFlO0FBQ3ZELGtCQUFrQix5REFBbUI7QUFDckMsbUJBQW1CLDREQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFlBQVksRUFBQyIsImZpbGUiOiIuL3NyYy9wYWxldHRlL1BhbGV0dGVVdGlscy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi9QYWxldHRlR3JvdXAnO1xuaW1wb3J0IFBhbGV0dGVUeXBlIGZyb20gJy4vUGFsZXR0ZVR5cGUnO1xuY2xhc3MgUGFsZXR0ZVV0aWxzIHtcbiAgICBzdGF0aWMgZ2V0U2l6ZShwYWxldHRlKSB7XG4gICAgICAgIHN3aXRjaCAocGFsZXR0ZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhbGV0dGVUeXBlLkluZGV4ZWQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbGV0dGUuZGF0YS5sZW5ndGggLyAzO1xuICAgICAgICAgICAgY2FzZSBQYWxldHRlVHlwZS5Nb25vOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYWxldHRlLmRhdGFbMF07XG4gICAgICAgICAgICBjYXNlIFBhbGV0dGVUeXBlLkR1YWxUb25lOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYWxldHRlLmRhdGFbMF0gKiBwYWxldHRlLmRhdGFbMV07XG4gICAgICAgICAgICBjYXNlIFBhbGV0dGVUeXBlLlJHQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFsZXR0ZS5kYXRhWzBdICogcGFsZXR0ZS5kYXRhWzFdICogcGFsZXR0ZS5kYXRhWzJdO1xuICAgICAgICAgICAgY2FzZSBQYWxldHRlVHlwZS5BdXRvOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYWxldHRlLmRhdGFbMF07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRDb2xvcihwYWxldHRlLCBpKSB7XG4gICAgICAgIGlmIChpIDwgMCB8fCBpID49IHRoaXMuZ2V0U2l6ZShwYWxldHRlKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29sb3IgaW5kZXggJHtpfSBvdXQgb2YgYm91bmRzYCk7XG4gICAgICAgIHN3aXRjaCAocGFsZXR0ZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhbGV0dGVUeXBlLkluZGV4ZWQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhbGV0dGUuZGF0YS5zbGljZShpICogMywgaSAqIDMgKyAzKTtcbiAgICAgICAgICAgIGNhc2UgUGFsZXR0ZVR5cGUuTW9ubzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFsZXR0ZS5kYXRhLnNsaWNlKDIsIDUpLm1hcCh2TWF4ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdk1pbiA9IHZNYXggKiBwYWxldHRlLmRhdGFbMV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZSYW5nZSA9IHZNYXggLSB2TWluO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdk1pbiArIGkgKiB+fih2UmFuZ2UgLyAocGFsZXR0ZS5kYXRhWzBdIC0gMSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FzZSBQYWxldHRlVHlwZS5EdWFsVG9uZToge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gWzAsIDAsIDBdO1xuICAgICAgICAgICAgICAgIC8vIEZvciBlYWNoIGNvbG9yIGFkZCB0byB2YWx1ZVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERlY29kZSBzdGVwIGZvciB0aGlzIGNoYW5uZWxcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGogPT09IDAgPyAoaSAlIHBhbGV0dGUuZGF0YVswXSkgOiB+fihpIC8gcGFsZXR0ZS5kYXRhWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IG1heCB2YWx1ZSwgY2FsY3VsYXRlIG1pbiB2YWx1ZSwgc3RlcCwgYW5kIHZhbHVlIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICBwYWxldHRlLmRhdGEuc2xpY2UoNCArIGogKiAzLCA3ICsgaiAqIDMpLmZvckVhY2goKHZNYXgsIGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZNaW4gPSB2TWF4ICogcGFsZXR0ZS5kYXRhWzIgKyBqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZSYW5nZSA9IHZNYXggLSB2TWluO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVba10gKz0gdk1pbiArIHN0ZXAgKiB+fih2UmFuZ2UgLyAocGFsZXR0ZS5kYXRhW2pdIC0gMSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQYWxldHRlVHlwZS5SR0I6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBiID0gaSAlIHBhbGV0dGUuZGF0YVsyXTtcbiAgICAgICAgICAgICAgICBjb25zdCBnID0gfn4oaSAvIHBhbGV0dGUuZGF0YVsyXSkgJSBwYWxldHRlLmRhdGFbMV07XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IH5+KGkgLyAocGFsZXR0ZS5kYXRhWzJdICogcGFsZXR0ZS5kYXRhWzFdKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyLCBnLCBiXS5tYXAoKGxldmVsLCBpKSA9PiBsZXZlbCAqIH5+KDI1NSAvIChwYWxldHRlLmRhdGFbaV0gLSAxKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBQYWxldHRlVHlwZS5BdXRvOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgb3IgQXV0byBwYWxldHRlIHR5cGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0Q29sb3JzKHBhbGV0dGUpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IHRoaXMuZ2V0U2l6ZShwYWxldHRlKSB9LCAoXywgaSkgPT4gdGhpcy5nZXRDb2xvcihwYWxldHRlLCBpKSk7XG4gICAgfVxuICAgIHN0YXRpYyB0cmFuc2Zvcm0ocGFsZXR0ZSwgdHJhbnNmb3JtKSB7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IHRoaXMuZ2V0Q29sb3JzKHBhbGV0dGUpLm1hcChjb2xvciA9PiB0cmFuc2Zvcm0oY29sb3IpKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGAke3BhbGV0dGUubmFtZX0gOjogJHt0cmFuc2Zvcm0ubmFtZX1gLFxuICAgICAgICAgICAgdHlwZTogUGFsZXR0ZVR5cGUuSW5kZXhlZCxcbiAgICAgICAgICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuR2VuZXJhdGVkLFxuICAgICAgICAgICAgZGF0YTogY29sb3JzLnJlZHVjZSgoZmxhdCwgY29sb3IpID0+IGZsYXQuY29uY2F0KGNvbG9yKSlcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBQYWxldHRlVXRpbHM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/PaletteUtils.ts\n");

/***/ }),

/***/ "./src/palette/applyPalette.ts":
/*!*************************************!*\
  !*** ./src/palette/applyPalette.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"threadsAvailable\": () => (/* binding */ threadsAvailable),\n/* harmony export */   \"maxAutoThreads\": () => (/* binding */ maxAutoThreads),\n/* harmony export */   \"processImage\": () => (/* binding */ processImage),\n/* harmony export */   \"processImageAsync\": () => (/* binding */ processImageAsync),\n/* harmony export */   \"terminateAllWorkers\": () => (/* binding */ terminateAllWorkers)\n/* harmony export */ });\n/* harmony import */ var _process_ProcessWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../process/ProcessWorker */ \"./src/process/ProcessWorker.ts\");\n/* harmony import */ var _prepPalette__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prepPalette */ \"./src/palette/prepPalette.ts\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/utils */ \"./src/utils/utils.ts\");\n\n\n\nconst threadsAvailable = navigator.hardwareConcurrency;\nconst maxAutoThreads = Math.max(~~(threadsAvailable / 2), 1);\nconst activeWorkers = [];\nfunction processImage(cvIn, cvOut, palette, process, distFn, features) {\n    cvOut.width = cvIn.width;\n    cvOut.height = cvIn.height;\n    const ctxIn = cvIn.getContext('2d');\n    if (!ctxIn)\n        throw new Error('Unable to get input context');\n    const ctxOut = cvOut.getContext('2d');\n    if (!ctxOut)\n        throw new Error('Unable to get output context');\n    const imageData = ctxIn.getImageData(0, 0, cvIn.width, cvIn.height);\n    if (!imageData)\n        throw new Error('Unable to get image data from context');\n    // Special handling for certain palettes\n    //if (palette.type === PaletteType.PAuto) palette = getAutoPalette(palette, imageData);\n    // Convert image using the passed process\n    process.procFn(imageData, palette, distFn, features, null);\n    ctxOut === null || ctxOut === void 0 ? void 0 : ctxOut.putImageData(imageData, 0, 0);\n}\nfunction processImageAsync(cvIn, cvOut, palette, process, distFnId, features) {\n    return new Promise((resolve, reject) => {\n        cvOut.width = cvIn.width;\n        cvOut.height = cvIn.height;\n        const ctxIn = cvIn.getContext('2d');\n        if (!ctxIn)\n            throw new Error('Unable to get input context');\n        const ctxOut = cvOut.getContext('2d');\n        if (!ctxOut)\n            throw new Error('Unable to get output context');\n        // Do any palette processing here so it's done on the whole image\n        // and generated palettes are cached properly\n        let startTime = new Date().getTime();\n        const imageData = ctxIn.getImageData(0, 0, cvIn.width, cvIn.height);\n        palette = (0,_prepPalette__WEBPACK_IMPORTED_MODULE_1__.default)(palette, process, imageData);\n        console.log(`Palette processing done in ${new Date().getTime() - startTime}ms`);\n        let nThreads;\n        if (!process.supports.threads)\n            nThreads = 1;\n        else if (features.threads === 'auto') {\n            // Calculate the number of threads needed based on\n            // process complexity and image size\n            const cr = (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.getComplexityRating)(process, palette);\n            const size = cvIn.width * cvIn.height;\n            // Assign roughly one thread per 50k pixels for a complexity rating of 2048\n            // CR=2048 is a 64 color palette at O(n²/2) or 8 color palette at O(n²/2 * 64)\n            const wantThreads = ~~(size / 50000 * cr / 2048) + 1;\n            // Need at least one thread, limit to max auto threads (half the available threads)\n            nThreads = (wantThreads > maxAutoThreads ? maxAutoThreads : wantThreads);\n            console.log(`Want ${wantThreads} threads for ${size}px @CR${cr}, got ${nThreads} (max ${maxAutoThreads})`);\n        }\n        else\n            nThreads = features.threads;\n        let activeThreads = 0;\n        // Ensure part width is a multiple of 8, prevents dithering seams\n        const partWidth = ~~(cvIn.width / nThreads / 8) * 8;\n        // Account for the last few pixels that may have been lost in rounding\n        const error = cvIn.width - (partWidth * nThreads);\n        startTime = new Date().getTime();\n        for (let t = 0; t < nThreads; t++) {\n            const err8 = ~~(error / 8);\n            const x = t * partWidth + 8 * (err8 < t ? err8 : t);\n            const w = partWidth + (t === nThreads - 1 ? error % 8 : err8 > t ? 8 : 0);\n            const partData = ctxIn.getImageData(x, 0, w, cvIn.height);\n            if (!partData)\n                reject('Unable to get image data from context');\n            const part = { data: partData, x: x, y: 0 };\n            const worker = new _process_ProcessWorker__WEBPACK_IMPORTED_MODULE_0__.default();\n            worker.onprogress = (progress) => {\n                if (progress.partial)\n                    ctxOut.putImageData(progress.partial.data, x, 0);\n                ctxOut.fillStyle = '#ff00ff';\n                ctxOut.fillRect(x, progress.current / (w * 4), w, 2);\n            };\n            worker.onfinish = (result) => {\n                ctxOut.putImageData(result.data, x, 0);\n                activeThreads--;\n                activeWorkers.splice(activeWorkers.indexOf(worker), 1);\n                const endTime = new Date().getTime();\n                console.log(`Worker thread ${t + 1} done in ${endTime - startTime}ms`);\n                if (activeThreads === 0) {\n                    console.log(`${nThreads} worker threads done in ${endTime - startTime}ms`);\n                    resolve();\n                }\n            };\n            worker.onerror = (error) => reject(`Error in worker thread: ${error}`);\n            console.log(`Starting worker thread ${t + 1}/${nThreads} w=${w}`);\n            worker.start(part, palette, process.id, distFnId, features);\n            activeThreads++;\n            activeWorkers.push(worker);\n        }\n    });\n}\nconst terminateAllWorkers = () => {\n    activeWorkers.forEach(worker => worker.terminate());\n    activeWorkers.splice(0);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvYXBwbHlQYWxldHRlLnRzPzdiN2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDYjtBQUNhO0FBQzlDO0FBQ0E7QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVc7QUFDN0Isa0RBQWtELGlDQUFpQztBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUVBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxZQUFZLGVBQWUsS0FBSyxRQUFRLEdBQUcsUUFBUSxTQUFTLFFBQVEsZUFBZTtBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsY0FBYztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsK0JBQStCLDJEQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsTUFBTSxXQUFXLG9CQUFvQjtBQUNsRjtBQUNBLG1DQUFtQyxTQUFTLDBCQUEwQixvQkFBb0I7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLE1BQU07QUFDaEYsa0RBQWtELE1BQU0sR0FBRyxTQUFTLEtBQUssRUFBRTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvYXBwbHlQYWxldHRlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb2Nlc3NXb3JrZXIgZnJvbSAnLi4vcHJvY2Vzcy9Qcm9jZXNzV29ya2VyJztcbmltcG9ydCBwcmVwUGFsZXR0ZSBmcm9tICcuL3ByZXBQYWxldHRlJztcbmltcG9ydCB7IGdldENvbXBsZXhpdHlSYXRpbmcgfSBmcm9tICcuLi91dGlscy91dGlscyc7XG5leHBvcnQgY29uc3QgdGhyZWFkc0F2YWlsYWJsZSA9IG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5O1xuZXhwb3J0IGNvbnN0IG1heEF1dG9UaHJlYWRzID0gTWF0aC5tYXgofn4odGhyZWFkc0F2YWlsYWJsZSAvIDIpLCAxKTtcbmNvbnN0IGFjdGl2ZVdvcmtlcnMgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSW1hZ2UoY3ZJbiwgY3ZPdXQsIHBhbGV0dGUsIHByb2Nlc3MsIGRpc3RGbiwgZmVhdHVyZXMpIHtcbiAgICBjdk91dC53aWR0aCA9IGN2SW4ud2lkdGg7XG4gICAgY3ZPdXQuaGVpZ2h0ID0gY3ZJbi5oZWlnaHQ7XG4gICAgY29uc3QgY3R4SW4gPSBjdkluLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKCFjdHhJbilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZ2V0IGlucHV0IGNvbnRleHQnKTtcbiAgICBjb25zdCBjdHhPdXQgPSBjdk91dC5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY3R4T3V0KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgb3V0cHV0IGNvbnRleHQnKTtcbiAgICBjb25zdCBpbWFnZURhdGEgPSBjdHhJbi5nZXRJbWFnZURhdGEoMCwgMCwgY3ZJbi53aWR0aCwgY3ZJbi5oZWlnaHQpO1xuICAgIGlmICghaW1hZ2VEYXRhKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgaW1hZ2UgZGF0YSBmcm9tIGNvbnRleHQnKTtcbiAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBjZXJ0YWluIHBhbGV0dGVzXG4gICAgLy9pZiAocGFsZXR0ZS50eXBlID09PSBQYWxldHRlVHlwZS5QQXV0bykgcGFsZXR0ZSA9IGdldEF1dG9QYWxldHRlKHBhbGV0dGUsIGltYWdlRGF0YSk7XG4gICAgLy8gQ29udmVydCBpbWFnZSB1c2luZyB0aGUgcGFzc2VkIHByb2Nlc3NcbiAgICBwcm9jZXNzLnByb2NGbihpbWFnZURhdGEsIHBhbGV0dGUsIGRpc3RGbiwgZmVhdHVyZXMsIG51bGwpO1xuICAgIGN0eE91dCA9PT0gbnVsbCB8fCBjdHhPdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN0eE91dC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzSW1hZ2VBc3luYyhjdkluLCBjdk91dCwgcGFsZXR0ZSwgcHJvY2VzcywgZGlzdEZuSWQsIGZlYXR1cmVzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY3ZPdXQud2lkdGggPSBjdkluLndpZHRoO1xuICAgICAgICBjdk91dC5oZWlnaHQgPSBjdkluLmhlaWdodDtcbiAgICAgICAgY29uc3QgY3R4SW4gPSBjdkluLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICghY3R4SW4pXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBnZXQgaW5wdXQgY29udGV4dCcpO1xuICAgICAgICBjb25zdCBjdHhPdXQgPSBjdk91dC5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWN0eE91dClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGdldCBvdXRwdXQgY29udGV4dCcpO1xuICAgICAgICAvLyBEbyBhbnkgcGFsZXR0ZSBwcm9jZXNzaW5nIGhlcmUgc28gaXQncyBkb25lIG9uIHRoZSB3aG9sZSBpbWFnZVxuICAgICAgICAvLyBhbmQgZ2VuZXJhdGVkIHBhbGV0dGVzIGFyZSBjYWNoZWQgcHJvcGVybHlcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICBjb25zdCBpbWFnZURhdGEgPSBjdHhJbi5nZXRJbWFnZURhdGEoMCwgMCwgY3ZJbi53aWR0aCwgY3ZJbi5oZWlnaHQpO1xuICAgICAgICBwYWxldHRlID0gcHJlcFBhbGV0dGUocGFsZXR0ZSwgcHJvY2VzcywgaW1hZ2VEYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coYFBhbGV0dGUgcHJvY2Vzc2luZyBkb25lIGluICR7bmV3IERhdGUoKS5nZXRUaW1lKCkgLSBzdGFydFRpbWV9bXNgKTtcbiAgICAgICAgbGV0IG5UaHJlYWRzO1xuICAgICAgICBpZiAoIXByb2Nlc3Muc3VwcG9ydHMudGhyZWFkcylcbiAgICAgICAgICAgIG5UaHJlYWRzID0gMTtcbiAgICAgICAgZWxzZSBpZiAoZmVhdHVyZXMudGhyZWFkcyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiB0aHJlYWRzIG5lZWRlZCBiYXNlZCBvblxuICAgICAgICAgICAgLy8gcHJvY2VzcyBjb21wbGV4aXR5IGFuZCBpbWFnZSBzaXplXG4gICAgICAgICAgICBjb25zdCBjciA9IGdldENvbXBsZXhpdHlSYXRpbmcocHJvY2VzcywgcGFsZXR0ZSk7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gY3ZJbi53aWR0aCAqIGN2SW4uaGVpZ2h0O1xuICAgICAgICAgICAgLy8gQXNzaWduIHJvdWdobHkgb25lIHRocmVhZCBwZXIgNTBrIHBpeGVscyBmb3IgYSBjb21wbGV4aXR5IHJhdGluZyBvZiAyMDQ4XG4gICAgICAgICAgICAvLyBDUj0yMDQ4IGlzIGEgNjQgY29sb3IgcGFsZXR0ZSBhdCBPKG7Csi8yKSBvciA4IGNvbG9yIHBhbGV0dGUgYXQgTyhuwrIvMiAqIDY0KVxuICAgICAgICAgICAgY29uc3Qgd2FudFRocmVhZHMgPSB+fihzaXplIC8gNTAwMDAgKiBjciAvIDIwNDgpICsgMTtcbiAgICAgICAgICAgIC8vIE5lZWQgYXQgbGVhc3Qgb25lIHRocmVhZCwgbGltaXQgdG8gbWF4IGF1dG8gdGhyZWFkcyAoaGFsZiB0aGUgYXZhaWxhYmxlIHRocmVhZHMpXG4gICAgICAgICAgICBuVGhyZWFkcyA9ICh3YW50VGhyZWFkcyA+IG1heEF1dG9UaHJlYWRzID8gbWF4QXV0b1RocmVhZHMgOiB3YW50VGhyZWFkcyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgV2FudCAke3dhbnRUaHJlYWRzfSB0aHJlYWRzIGZvciAke3NpemV9cHggQENSJHtjcn0sIGdvdCAke25UaHJlYWRzfSAobWF4ICR7bWF4QXV0b1RocmVhZHN9KWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG5UaHJlYWRzID0gZmVhdHVyZXMudGhyZWFkcztcbiAgICAgICAgbGV0IGFjdGl2ZVRocmVhZHMgPSAwO1xuICAgICAgICAvLyBFbnN1cmUgcGFydCB3aWR0aCBpcyBhIG11bHRpcGxlIG9mIDgsIHByZXZlbnRzIGRpdGhlcmluZyBzZWFtc1xuICAgICAgICBjb25zdCBwYXJ0V2lkdGggPSB+fihjdkluLndpZHRoIC8gblRocmVhZHMgLyA4KSAqIDg7XG4gICAgICAgIC8vIEFjY291bnQgZm9yIHRoZSBsYXN0IGZldyBwaXhlbHMgdGhhdCBtYXkgaGF2ZSBiZWVuIGxvc3QgaW4gcm91bmRpbmdcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjdkluLndpZHRoIC0gKHBhcnRXaWR0aCAqIG5UaHJlYWRzKTtcbiAgICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgblRocmVhZHM7IHQrKykge1xuICAgICAgICAgICAgY29uc3QgZXJyOCA9IH5+KGVycm9yIC8gOCk7XG4gICAgICAgICAgICBjb25zdCB4ID0gdCAqIHBhcnRXaWR0aCArIDggKiAoZXJyOCA8IHQgPyBlcnI4IDogdCk7XG4gICAgICAgICAgICBjb25zdCB3ID0gcGFydFdpZHRoICsgKHQgPT09IG5UaHJlYWRzIC0gMSA/IGVycm9yICUgOCA6IGVycjggPiB0ID8gOCA6IDApO1xuICAgICAgICAgICAgY29uc3QgcGFydERhdGEgPSBjdHhJbi5nZXRJbWFnZURhdGEoeCwgMCwgdywgY3ZJbi5oZWlnaHQpO1xuICAgICAgICAgICAgaWYgKCFwYXJ0RGF0YSlcbiAgICAgICAgICAgICAgICByZWplY3QoJ1VuYWJsZSB0byBnZXQgaW1hZ2UgZGF0YSBmcm9tIGNvbnRleHQnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB7IGRhdGE6IHBhcnREYXRhLCB4OiB4LCB5OiAwIH07XG4gICAgICAgICAgICBjb25zdCB3b3JrZXIgPSBuZXcgUHJvY2Vzc1dvcmtlcigpO1xuICAgICAgICAgICAgd29ya2VyLm9ucHJvZ3Jlc3MgPSAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MucGFydGlhbClcbiAgICAgICAgICAgICAgICAgICAgY3R4T3V0LnB1dEltYWdlRGF0YShwcm9ncmVzcy5wYXJ0aWFsLmRhdGEsIHgsIDApO1xuICAgICAgICAgICAgICAgIGN0eE91dC5maWxsU3R5bGUgPSAnI2ZmMDBmZic7XG4gICAgICAgICAgICAgICAgY3R4T3V0LmZpbGxSZWN0KHgsIHByb2dyZXNzLmN1cnJlbnQgLyAodyAqIDQpLCB3LCAyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3b3JrZXIub25maW5pc2ggPSAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY3R4T3V0LnB1dEltYWdlRGF0YShyZXN1bHQuZGF0YSwgeCwgMCk7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGhyZWFkcy0tO1xuICAgICAgICAgICAgICAgIGFjdGl2ZVdvcmtlcnMuc3BsaWNlKGFjdGl2ZVdvcmtlcnMuaW5kZXhPZih3b3JrZXIpLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdvcmtlciB0aHJlYWQgJHt0ICsgMX0gZG9uZSBpbiAke2VuZFRpbWUgLSBzdGFydFRpbWV9bXNgKTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVGhyZWFkcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtuVGhyZWFkc30gd29ya2VyIHRocmVhZHMgZG9uZSBpbiAke2VuZFRpbWUgLSBzdGFydFRpbWV9bXNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3b3JrZXIub25lcnJvciA9IChlcnJvcikgPT4gcmVqZWN0KGBFcnJvciBpbiB3b3JrZXIgdGhyZWFkOiAke2Vycm9yfWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFN0YXJ0aW5nIHdvcmtlciB0aHJlYWQgJHt0ICsgMX0vJHtuVGhyZWFkc30gdz0ke3d9YCk7XG4gICAgICAgICAgICB3b3JrZXIuc3RhcnQocGFydCwgcGFsZXR0ZSwgcHJvY2Vzcy5pZCwgZGlzdEZuSWQsIGZlYXR1cmVzKTtcbiAgICAgICAgICAgIGFjdGl2ZVRocmVhZHMrKztcbiAgICAgICAgICAgIGFjdGl2ZVdvcmtlcnMucHVzaCh3b3JrZXIpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgdGVybWluYXRlQWxsV29ya2VycyA9ICgpID0+IHtcbiAgICBhY3RpdmVXb3JrZXJzLmZvckVhY2god29ya2VyID0+IHdvcmtlci50ZXJtaW5hdGUoKSk7XG4gICAgYWN0aXZlV29ya2Vycy5zcGxpY2UoMCk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/palette/applyPalette.ts\n");

/***/ }),

/***/ "./src/palette/paletteMap.ts":
/*!***********************************!*\
  !*** ./src/palette/paletteMap.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"paletteMap\": () => (/* binding */ paletteMap)\n/* harmony export */ });\n// Default palette mapping\n// Uses a simple distance check\nfunction paletteMap(color, palette, distFn) {\n    let closest = [];\n    let dMin = Number.POSITIVE_INFINITY;\n    for (let i = 0; i < palette.length; i++) {\n        const dsq = distFn(color, palette[i]);\n        if (dsq <= dMin) {\n            closest = palette[i];\n            dMin = dsq;\n        }\n    }\n    ;\n    return closest;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZU1hcC50cz9mM2M5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUJBQW1CLG9CQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZS9wYWxldHRlTWFwLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRGVmYXVsdCBwYWxldHRlIG1hcHBpbmdcbi8vIFVzZXMgYSBzaW1wbGUgZGlzdGFuY2UgY2hlY2tcbmV4cG9ydCBmdW5jdGlvbiBwYWxldHRlTWFwKGNvbG9yLCBwYWxldHRlLCBkaXN0Rm4pIHtcbiAgICBsZXQgY2xvc2VzdCA9IFtdO1xuICAgIGxldCBkTWluID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFsZXR0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkc3EgPSBkaXN0Rm4oY29sb3IsIHBhbGV0dGVbaV0pO1xuICAgICAgICBpZiAoZHNxIDw9IGRNaW4pIHtcbiAgICAgICAgICAgIGNsb3Nlc3QgPSBwYWxldHRlW2ldO1xuICAgICAgICAgICAgZE1pbiA9IGRzcTtcbiAgICAgICAgfVxuICAgIH1cbiAgICA7XG4gICAgcmV0dXJuIGNsb3Nlc3Q7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/paletteMap.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Auto.ts":
/*!**************************************!*\
  !*** ./src/palette/palettes/Auto.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Auto16\": () => (/* binding */ Auto16),\n/* harmony export */   \"Auto64\": () => (/* binding */ Auto64),\n/* harmony export */   \"Auto256\": () => (/* binding */ Auto256)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst Auto16 = {\n    name: 'Auto 16-color (4-bit indexed)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Auto,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Auto,\n    data: [16, -1, 4, 1]\n};\nconst Auto64 = {\n    name: 'Auto 64-color (6-bit indexed)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Auto,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Auto,\n    data: [64, 1, 5, 1]\n};\nconst Auto256 = {\n    name: 'Auto 256-color (8-bit indexed)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Auto,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Auto,\n    data: [256, 2, 5, 1]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQXV0by50cz8wZTI3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ0Y7QUFDbEM7QUFDUDtBQUNBLFVBQVUsc0RBQWdCO0FBQzFCLFdBQVcsdURBQWlCO0FBQzVCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsVUFBVSxzREFBZ0I7QUFDMUIsV0FBVyx1REFBaUI7QUFDNUI7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLHNEQUFnQjtBQUMxQixXQUFXLHVEQUFpQjtBQUM1QjtBQUNBIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQXV0by50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5leHBvcnQgY29uc3QgQXV0bzE2ID0ge1xuICAgIG5hbWU6ICdBdXRvIDE2LWNvbG9yICg0LWJpdCBpbmRleGVkKScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuQXV0byxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkF1dG8sXG4gICAgZGF0YTogWzE2LCAtMSwgNCwgMV1cbn07XG5leHBvcnQgY29uc3QgQXV0bzY0ID0ge1xuICAgIG5hbWU6ICdBdXRvIDY0LWNvbG9yICg2LWJpdCBpbmRleGVkKScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuQXV0byxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkF1dG8sXG4gICAgZGF0YTogWzY0LCAxLCA1LCAxXVxufTtcbmV4cG9ydCBjb25zdCBBdXRvMjU2ID0ge1xuICAgIG5hbWU6ICdBdXRvIDI1Ni1jb2xvciAoOC1iaXQgaW5kZXhlZCknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkF1dG8sXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5BdXRvLFxuICAgIGRhdGE6IFsyNTYsIDIsIDUsIDFdXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/palette/palettes/Auto.ts\n");

/***/ }),

/***/ "./src/palette/palettes/CGA2bModes.ts":
/*!********************************************!*\
  !*** ./src/palette/palettes/CGA2bModes.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CGAm4p0l\": () => (/* binding */ CGAm4p0l),\n/* harmony export */   \"CGAm4p0h\": () => (/* binding */ CGAm4p0h),\n/* harmony export */   \"CGAm4p1l\": () => (/* binding */ CGAm4p1l),\n/* harmony export */   \"CGAm4p1h\": () => (/* binding */ CGAm4p1h),\n/* harmony export */   \"CGAm5l\": () => (/* binding */ CGAm5l),\n/* harmony export */   \"CGAm5h\": () => (/* binding */ CGAm5h)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst CGAm4p0l = {\n    name: 'CGA Mode 4 Palette 0 (low)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed2Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0xAA, 0x00,\n        0xAA, 0x00, 0x00,\n        0xAA, 0x55, 0x00 // Brown\n    ]\n};\nconst CGAm4p0h = {\n    name: 'CGA Mode 4 Palette 0 (high)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed2Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x55, 0xFF, 0x55,\n        0xFF, 0x55, 0x55,\n        0xFF, 0xFF, 0x55 // Yellow\n    ]\n};\nconst CGAm4p1l = {\n    name: 'CGA Mode 4 Palette 1 (low)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed2Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0xAA, 0xAA,\n        0xAA, 0x00, 0xAA,\n        0xAA, 0xAA, 0xAA // Light Grey\n    ]\n};\nconst CGAm4p1h = {\n    name: 'CGA Mode 4 Palette 1 (high)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed2Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x55, 0xFF, 0xFF,\n        0xFF, 0x55, 0xFF,\n        0xFF, 0xFF, 0xFF // White\n    ]\n};\nconst CGAm5l = {\n    name: 'CGA Mode 5 (low)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed2Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0xAA, 0xAA,\n        0xAA, 0x00, 0x00,\n        0xAA, 0xAA, 0xAA // Light Grey\n    ]\n};\nconst CGAm5h = {\n    name: 'CGA Mode 5 (high)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed2Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x55, 0xFF, 0xFF,\n        0xFF, 0x55, 0x55,\n        0xFF, 0xFF, 0xFF // White\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ0dBMmJNb2Rlcy50cz9jYWNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ0Y7QUFDbEM7QUFDUDtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsOERBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsOERBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsOERBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsOERBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsOERBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsOERBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ0dBMmJNb2Rlcy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5leHBvcnQgY29uc3QgQ0dBbTRwMGwgPSB7XG4gICAgbmFtZTogJ0NHQSBNb2RlIDQgUGFsZXR0ZSAwIChsb3cpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuSW5kZXhlZDJCaXQsXG4gICAgZGF0YTogW1xuICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAweDAwLCAweEFBLCAweDAwLFxuICAgICAgICAweEFBLCAweDAwLCAweDAwLFxuICAgICAgICAweEFBLCAweDU1LCAweDAwIC8vIEJyb3duXG4gICAgXVxufTtcbmV4cG9ydCBjb25zdCBDR0FtNHAwaCA9IHtcbiAgICBuYW1lOiAnQ0dBIE1vZGUgNCBQYWxldHRlIDAgKGhpZ2gpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuSW5kZXhlZDJCaXQsXG4gICAgZGF0YTogW1xuICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAweDU1LCAweEZGLCAweDU1LFxuICAgICAgICAweEZGLCAweDU1LCAweDU1LFxuICAgICAgICAweEZGLCAweEZGLCAweDU1IC8vIFllbGxvd1xuICAgIF1cbn07XG5leHBvcnQgY29uc3QgQ0dBbTRwMWwgPSB7XG4gICAgbmFtZTogJ0NHQSBNb2RlIDQgUGFsZXR0ZSAxIChsb3cpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuSW5kZXhlZDJCaXQsXG4gICAgZGF0YTogW1xuICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAweDAwLCAweEFBLCAweEFBLFxuICAgICAgICAweEFBLCAweDAwLCAweEFBLFxuICAgICAgICAweEFBLCAweEFBLCAweEFBIC8vIExpZ2h0IEdyZXlcbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IENHQW00cDFoID0ge1xuICAgIG5hbWU6ICdDR0EgTW9kZSA0IFBhbGV0dGUgMSAoaGlnaCknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkluZGV4ZWQsXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5JbmRleGVkMkJpdCxcbiAgICBkYXRhOiBbXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4NTUsIDB4RkYsIDB4RkYsXG4gICAgICAgIDB4RkYsIDB4NTUsIDB4RkYsXG4gICAgICAgIDB4RkYsIDB4RkYsIDB4RkYgLy8gV2hpdGVcbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IENHQW01bCA9IHtcbiAgICBuYW1lOiAnQ0dBIE1vZGUgNSAobG93KScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuSW5kZXhlZCxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkluZGV4ZWQyQml0LFxuICAgIGRhdGE6IFtcbiAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHgwMCwgMHhBQSwgMHhBQSxcbiAgICAgICAgMHhBQSwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHhBQSwgMHhBQSwgMHhBQSAvLyBMaWdodCBHcmV5XG4gICAgXVxufTtcbmV4cG9ydCBjb25zdCBDR0FtNWggPSB7XG4gICAgbmFtZTogJ0NHQSBNb2RlIDUgKGhpZ2gpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuSW5kZXhlZDJCaXQsXG4gICAgZGF0YTogW1xuICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAweDU1LCAweEZGLCAweEZGLFxuICAgICAgICAweEZGLCAweDU1LCAweDU1LFxuICAgICAgICAweEZGLCAweEZGLCAweEZGIC8vIFdoaXRlXG4gICAgXVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/palette/palettes/CGA2bModes.ts\n");

/***/ }),

/***/ "./src/palette/palettes/CGA4bRGBI.ts":
/*!*******************************************!*\
  !*** ./src/palette/palettes/CGA4bRGBI.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst CGA4bRGBI = {\n    name: 'CGA 4-bit RGBI (IBM)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGBI,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0x00, 0xAA,\n        0x00, 0xAA, 0x00,\n        0x00, 0xAA, 0xAA,\n        0xAA, 0x00, 0x00,\n        0xAA, 0x00, 0xAA,\n        0xAA, 0x55, 0x00,\n        0xAA, 0xAA, 0xAA,\n        0x55, 0x55, 0x55,\n        0x55, 0x55, 0xFF,\n        0x55, 0xFF, 0x55,\n        0x55, 0xFF, 0xFF,\n        0xFF, 0x55, 0x55,\n        0xFF, 0x55, 0xFF,\n        0xFF, 0xFF, 0x55,\n        0xFF, 0xFF, 0xFF // White\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CGA4bRGBI);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ0dBNGJSR0JJLnRzP2U5MWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ0Y7QUFDekM7QUFDQTtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsdURBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsU0FBUyxFQUFDIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ0dBNGJSR0JJLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhbGV0dGVHcm91cCBmcm9tICcuLi9QYWxldHRlR3JvdXAnO1xuaW1wb3J0IFBhbGV0dGVUeXBlIGZyb20gJy4uL1BhbGV0dGVUeXBlJztcbmNvbnN0IENHQTRiUkdCSSA9IHtcbiAgICBuYW1lOiAnQ0dBIDQtYml0IFJHQkkgKElCTSknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkluZGV4ZWQsXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5SR0JJLFxuICAgIGRhdGE6IFtcbiAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHgwMCwgMHgwMCwgMHhBQSxcbiAgICAgICAgMHgwMCwgMHhBQSwgMHgwMCxcbiAgICAgICAgMHgwMCwgMHhBQSwgMHhBQSxcbiAgICAgICAgMHhBQSwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHhBQSwgMHgwMCwgMHhBQSxcbiAgICAgICAgMHhBQSwgMHg1NSwgMHgwMCxcbiAgICAgICAgMHhBQSwgMHhBQSwgMHhBQSxcbiAgICAgICAgMHg1NSwgMHg1NSwgMHg1NSxcbiAgICAgICAgMHg1NSwgMHg1NSwgMHhGRixcbiAgICAgICAgMHg1NSwgMHhGRiwgMHg1NSxcbiAgICAgICAgMHg1NSwgMHhGRiwgMHhGRixcbiAgICAgICAgMHhGRiwgMHg1NSwgMHg1NSxcbiAgICAgICAgMHhGRiwgMHg1NSwgMHhGRixcbiAgICAgICAgMHhGRiwgMHhGRiwgMHg1NSxcbiAgICAgICAgMHhGRiwgMHhGRiwgMHhGRiAvLyBXaGl0ZVxuICAgIF1cbn07XG5leHBvcnQgZGVmYXVsdCBDR0E0YlJHQkk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/palettes/CGA4bRGBI.ts\n");

/***/ }),

/***/ "./src/palette/palettes/CMYK.ts":
/*!**************************************!*\
  !*** ./src/palette/palettes/CMYK.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst CMYK = {\n    name: 'CMYK',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Other,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0xFF, 0xFF,\n        0xFF, 0x00, 0xFF,\n        0xFF, 0xFF, 0x00,\n        0xFF, 0xFF, 0xFF // White\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CMYK);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ01ZSy50cz8xMjI4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNGO0FBQ3pDO0FBQ0E7QUFDQSxVQUFVLHlEQUFtQjtBQUM3QixXQUFXLHdEQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsSUFBSSxFQUFDIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ01ZSy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5jb25zdCBDTVlLID0ge1xuICAgIG5hbWU6ICdDTVlLJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuT3RoZXIsXG4gICAgZGF0YTogW1xuICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAweDAwLCAweEZGLCAweEZGLFxuICAgICAgICAweEZGLCAweDAwLCAweEZGLFxuICAgICAgICAweEZGLCAweEZGLCAweDAwLFxuICAgICAgICAweEZGLCAweEZGLCAweEZGIC8vIFdoaXRlXG4gICAgXVxufTtcbmV4cG9ydCBkZWZhdWx0IENNWUs7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/palettes/CMYK.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Cmdr644b.ts":
/*!******************************************!*\
  !*** ./src/palette/palettes/Cmdr644b.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst Cmdr644b = {\n    name: 'Commodore 64',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed4Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x62, 0x62, 0x52,\n        0x89, 0x89, 0x89,\n        0xAD, 0xAD, 0xAD,\n        0xFF, 0xFF, 0xFF,\n        0x9F, 0x4E, 0x44,\n        0xCB, 0x7E, 0x75,\n        0x6D, 0x54, 0x12,\n        0xA1, 0x68, 0x3C,\n        0xC9, 0xD4, 0x87,\n        0x9A, 0xE2, 0x9B,\n        0x5C, 0xAB, 0x5E,\n        0x6A, 0xBF, 0xC6,\n        0x88, 0x7E, 0xCB,\n        0x50, 0x45, 0x9B,\n        0xA0, 0x57, 0xA3 // Purple\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Cmdr644b);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvQ21kcjY0NGIudHM/NjhjZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDRjtBQUN6QztBQUNBO0FBQ0EsVUFBVSx5REFBbUI7QUFDN0IsV0FBVyw4REFBd0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxRQUFRLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZS9wYWxldHRlcy9DbWRyNjQ0Yi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5jb25zdCBDbWRyNjQ0YiA9IHtcbiAgICBuYW1lOiAnQ29tbW9kb3JlIDY0JyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuSW5kZXhlZDRCaXQsXG4gICAgZGF0YTogW1xuICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAweDYyLCAweDYyLCAweDUyLFxuICAgICAgICAweDg5LCAweDg5LCAweDg5LFxuICAgICAgICAweEFELCAweEFELCAweEFELFxuICAgICAgICAweEZGLCAweEZGLCAweEZGLFxuICAgICAgICAweDlGLCAweDRFLCAweDQ0LFxuICAgICAgICAweENCLCAweDdFLCAweDc1LFxuICAgICAgICAweDZELCAweDU0LCAweDEyLFxuICAgICAgICAweEExLCAweDY4LCAweDNDLFxuICAgICAgICAweEM5LCAweEQ0LCAweDg3LFxuICAgICAgICAweDlBLCAweEUyLCAweDlCLFxuICAgICAgICAweDVDLCAweEFCLCAweDVFLFxuICAgICAgICAweDZBLCAweEJGLCAweEM2LFxuICAgICAgICAweDg4LCAweDdFLCAweENCLFxuICAgICAgICAweDUwLCAweDQ1LCAweDlCLFxuICAgICAgICAweEEwLCAweDU3LCAweEEzIC8vIFB1cnBsZVxuICAgIF1cbn07XG5leHBvcnQgZGVmYXVsdCBDbWRyNjQ0YjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/palette/palettes/Cmdr644b.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Duo.ts":
/*!*************************************!*\
  !*** ./src/palette/palettes/Duo.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DuoRC1\": () => (/* binding */ DuoRC1),\n/* harmony export */   \"DuoRC2\": () => (/* binding */ DuoRC2),\n/* harmony export */   \"DuoGM2\": () => (/* binding */ DuoGM2),\n/* harmony export */   \"DuoBY2\": () => (/* binding */ DuoBY2),\n/* harmony export */   \"DuoWA2\": () => (/* binding */ DuoWA2),\n/* harmony export */   \"DuoOG2\": () => (/* binding */ DuoOG2)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst DuoRC1 = {\n    name: 'Dual Tone R/C (2-bit, 1bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Duo,\n    data: [\n        2, 2, 0, 0,\n        255, 0, 0,\n        0, 255, 255\n    ]\n};\nconst DuoRC2 = {\n    name: 'Dual Tone R/C (4-bit, 2bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Duo,\n    data: [\n        4, 4, 0, 0,\n        255, 0, 0,\n        0, 255, 255\n    ]\n};\nconst DuoGM2 = {\n    name: 'Dual Tone G/M (4-bit, 2bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Duo,\n    data: [\n        4, 4, 0, 0,\n        0, 255, 0,\n        255, 0, 255\n    ]\n};\nconst DuoBY2 = {\n    name: 'Dual Tone B/Y (4-bit, 2bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Duo,\n    data: [\n        4, 4, 0, 0,\n        0, 0, 255,\n        255, 255, 0\n    ]\n};\nconst DuoWA2 = {\n    name: 'Dual Tone W/A (4-bit, 2bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Duo,\n    data: [\n        4, 4, 0, 0,\n        255, 255, 255,\n        255, 200, 15\n    ]\n};\nconst DuoOG2 = {\n    name: 'Dual Tone O/G (4-bit, 2bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.DualTone,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Duo,\n    data: [\n        4, 4, 0, 0,\n        240, 110, 50,\n        20, 75, 65\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvRHVvLnRzPzc3NDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkM7QUFDRjtBQUNsQztBQUNQO0FBQ0EsVUFBVSwwREFBb0I7QUFDOUIsV0FBVyxzREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUsMERBQW9CO0FBQzlCLFdBQVcsc0RBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLDBEQUFvQjtBQUM5QixXQUFXLHNEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsVUFBVSwwREFBb0I7QUFDOUIsV0FBVyxzREFBZ0I7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUsMERBQW9CO0FBQzlCLFdBQVcsc0RBQWdCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLDBEQUFvQjtBQUM5QixXQUFXLHNEQUFnQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZS9wYWxldHRlcy9EdW8udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFsZXR0ZUdyb3VwIGZyb20gJy4uL1BhbGV0dGVHcm91cCc7XG5pbXBvcnQgUGFsZXR0ZVR5cGUgZnJvbSAnLi4vUGFsZXR0ZVR5cGUnO1xuZXhwb3J0IGNvbnN0IER1b1JDMSA9IHtcbiAgICBuYW1lOiAnRHVhbCBUb25lIFIvQyAoMi1iaXQsIDFicGMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5EdWFsVG9uZSxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkR1byxcbiAgICBkYXRhOiBbXG4gICAgICAgIDIsIDIsIDAsIDAsXG4gICAgICAgIDI1NSwgMCwgMCxcbiAgICAgICAgMCwgMjU1LCAyNTVcbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IER1b1JDMiA9IHtcbiAgICBuYW1lOiAnRHVhbCBUb25lIFIvQyAoNC1iaXQsIDJicGMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5EdWFsVG9uZSxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkR1byxcbiAgICBkYXRhOiBbXG4gICAgICAgIDQsIDQsIDAsIDAsXG4gICAgICAgIDI1NSwgMCwgMCxcbiAgICAgICAgMCwgMjU1LCAyNTVcbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IER1b0dNMiA9IHtcbiAgICBuYW1lOiAnRHVhbCBUb25lIEcvTSAoNC1iaXQsIDJicGMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5EdWFsVG9uZSxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkR1byxcbiAgICBkYXRhOiBbXG4gICAgICAgIDQsIDQsIDAsIDAsXG4gICAgICAgIDAsIDI1NSwgMCxcbiAgICAgICAgMjU1LCAwLCAyNTVcbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IER1b0JZMiA9IHtcbiAgICBuYW1lOiAnRHVhbCBUb25lIEIvWSAoNC1iaXQsIDJicGMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5EdWFsVG9uZSxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkR1byxcbiAgICBkYXRhOiBbXG4gICAgICAgIDQsIDQsIDAsIDAsXG4gICAgICAgIDAsIDAsIDI1NSxcbiAgICAgICAgMjU1LCAyNTUsIDBcbiAgICBdXG59O1xuZXhwb3J0IGNvbnN0IER1b1dBMiA9IHtcbiAgICBuYW1lOiAnRHVhbCBUb25lIFcvQSAoNC1iaXQsIDJicGMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5EdWFsVG9uZSxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkR1byxcbiAgICBkYXRhOiBbXG4gICAgICAgIDQsIDQsIDAsIDAsXG4gICAgICAgIDI1NSwgMjU1LCAyNTUsXG4gICAgICAgIDI1NSwgMjAwLCAxNVxuICAgIF1cbn07XG5leHBvcnQgY29uc3QgRHVvT0cyID0ge1xuICAgIG5hbWU6ICdEdWFsIFRvbmUgTy9HICg0LWJpdCwgMmJwYyknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkR1YWxUb25lLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuRHVvLFxuICAgIGRhdGE6IFtcbiAgICAgICAgNCwgNCwgMCwgMCxcbiAgICAgICAgMjQwLCAxMTAsIDUwLFxuICAgICAgICAyMCwgNzUsIDY1XG4gICAgXVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/palette/palettes/Duo.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Gameboy.ts":
/*!*****************************************!*\
  !*** ./src/palette/palettes/Gameboy.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameBoy\": () => (/* binding */ GameBoy)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst GameBoy = {\n    name: 'Game Boy (2-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [\n        0x0F, 0x38, 0x0F,\n        0x30, 0x62, 0x30,\n        0x8B, 0xAC, 0x0F,\n        0x9B, 0xBC, 0x0F\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvR2FtZWJveS50cz9mOTc3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNGO0FBQ2xDO0FBQ1A7QUFDQSxVQUFVLHlEQUFtQjtBQUM3QixXQUFXLHVEQUFpQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9wYWxldHRlL3BhbGV0dGVzL0dhbWVib3kudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFsZXR0ZUdyb3VwIGZyb20gJy4uL1BhbGV0dGVHcm91cCc7XG5pbXBvcnQgUGFsZXR0ZVR5cGUgZnJvbSAnLi4vUGFsZXR0ZVR5cGUnO1xuZXhwb3J0IGNvbnN0IEdhbWVCb3kgPSB7XG4gICAgbmFtZTogJ0dhbWUgQm95ICgyLWJpdCBNQyknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkluZGV4ZWQsXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5Nb25vLFxuICAgIGRhdGE6IFtcbiAgICAgICAgMHgwRiwgMHgzOCwgMHgwRixcbiAgICAgICAgMHgzMCwgMHg2MiwgMHgzMCxcbiAgICAgICAgMHg4QiwgMHhBQywgMHgwRixcbiAgICAgICAgMHg5QiwgMHhCQywgMHgwRlxuICAgIF1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/palettes/Gameboy.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Macintosh4b.ts":
/*!*********************************************!*\
  !*** ./src/palette/palettes/Macintosh4b.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst Macintosh4b = {\n    name: 'Macintosh II (1987)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed4Bit,\n    data: [\n        0xFF, 0xFF, 0xFF,\n        0xFF, 0xFF, 0x00,\n        0xFF, 0x66, 0x00,\n        0xDD, 0x00, 0x00,\n        0xFF, 0x00, 0x99,\n        0x33, 0x00, 0x99,\n        0x00, 0x00, 0xCC,\n        0x00, 0x99, 0xFF,\n        0x00, 0xAA, 0x00,\n        0x00, 0x66, 0x00,\n        0x66, 0x33, 0x00,\n        0x99, 0x66, 0x33,\n        0xBB, 0xBB, 0xBB,\n        0x88, 0x88, 0x88,\n        0x44, 0x44, 0x44,\n        0x00, 0x00, 0x00 // Black\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Macintosh4b);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvTWFjaW50b3NoNGIudHM/YzY4NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDRjtBQUN6QztBQUNBO0FBQ0EsVUFBVSx5REFBbUI7QUFDN0IsV0FBVyw4REFBd0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxXQUFXLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZS9wYWxldHRlcy9NYWNpbnRvc2g0Yi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5jb25zdCBNYWNpbnRvc2g0YiA9IHtcbiAgICBuYW1lOiAnTWFjaW50b3NoIElJICgxOTg3KScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuSW5kZXhlZCxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLkluZGV4ZWQ0Qml0LFxuICAgIGRhdGE6IFtcbiAgICAgICAgMHhGRiwgMHhGRiwgMHhGRixcbiAgICAgICAgMHhGRiwgMHhGRiwgMHgwMCxcbiAgICAgICAgMHhGRiwgMHg2NiwgMHgwMCxcbiAgICAgICAgMHhERCwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHhGRiwgMHgwMCwgMHg5OSxcbiAgICAgICAgMHgzMywgMHgwMCwgMHg5OSxcbiAgICAgICAgMHgwMCwgMHgwMCwgMHhDQyxcbiAgICAgICAgMHgwMCwgMHg5OSwgMHhGRixcbiAgICAgICAgMHgwMCwgMHhBQSwgMHgwMCxcbiAgICAgICAgMHgwMCwgMHg2NiwgMHgwMCxcbiAgICAgICAgMHg2NiwgMHgzMywgMHgwMCxcbiAgICAgICAgMHg5OSwgMHg2NiwgMHgzMyxcbiAgICAgICAgMHhCQiwgMHhCQiwgMHhCQixcbiAgICAgICAgMHg4OCwgMHg4OCwgMHg4OCxcbiAgICAgICAgMHg0NCwgMHg0NCwgMHg0NCxcbiAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCAvLyBCbGFja1xuICAgIF1cbn07XG5leHBvcnQgZGVmYXVsdCBNYWNpbnRvc2g0YjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/palette/palettes/Macintosh4b.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Mono.ts":
/*!**************************************!*\
  !*** ./src/palette/palettes/Mono.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Mono2W\": () => (/* binding */ Mono2W),\n/* harmony export */   \"Mono2G\": () => (/* binding */ Mono2G),\n/* harmony export */   \"Mono2A\": () => (/* binding */ Mono2A),\n/* harmony export */   \"Mono4W\": () => (/* binding */ Mono4W),\n/* harmony export */   \"Mono4A\": () => (/* binding */ Mono4A),\n/* harmony export */   \"Mono16\": () => (/* binding */ Mono16),\n/* harmony export */   \"PipBoy\": () => (/* binding */ PipBoy)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst Mono2W = {\n    name: 'Black/White (1-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [2, 0, 255, 255, 255]\n};\nconst Mono2G = {\n    name: 'Black/Green (1-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [2, 0, 0, 255, 0]\n};\nconst Mono2A = {\n    name: 'Black/Amber (1-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [2, 0, 255, 200, 15]\n};\nconst Mono4W = {\n    name: '4-tone Greyscale (2-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [4, 0, 255, 255, 255]\n};\nconst Mono4A = {\n    name: '4-tone Amber (2-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [4, 0.04, 255, 200, 15]\n};\nconst Mono16 = {\n    name: '16-tone Greyscale (4-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [16, 0, 255, 255, 255]\n};\nconst PipBoy = {\n    name: 'Pip-Boy 3000 (2-bit MC)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Mono,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Mono,\n    data: [4, 0.15, 64, 252, 155]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvTW9uby50cz8xZjhkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUEyQztBQUNGO0FBQ2xDO0FBQ1A7QUFDQSxVQUFVLHNEQUFnQjtBQUMxQixXQUFXLHVEQUFpQjtBQUM1QjtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUsc0RBQWdCO0FBQzFCLFdBQVcsdURBQWlCO0FBQzVCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsVUFBVSxzREFBZ0I7QUFDMUIsV0FBVyx1REFBaUI7QUFDNUI7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLHNEQUFnQjtBQUMxQixXQUFXLHVEQUFpQjtBQUM1QjtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUsc0RBQWdCO0FBQzFCLFdBQVcsdURBQWlCO0FBQzVCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsVUFBVSxzREFBZ0I7QUFDMUIsV0FBVyx1REFBaUI7QUFDNUI7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLHNEQUFnQjtBQUMxQixXQUFXLHVEQUFpQjtBQUM1QjtBQUNBIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvTW9uby50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5leHBvcnQgY29uc3QgTW9ubzJXID0ge1xuICAgIG5hbWU6ICdCbGFjay9XaGl0ZSAoMS1iaXQgTUMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5Nb25vLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuTW9ubyxcbiAgICBkYXRhOiBbMiwgMCwgMjU1LCAyNTUsIDI1NV1cbn07XG5leHBvcnQgY29uc3QgTW9ubzJHID0ge1xuICAgIG5hbWU6ICdCbGFjay9HcmVlbiAoMS1iaXQgTUMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5Nb25vLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuTW9ubyxcbiAgICBkYXRhOiBbMiwgMCwgMCwgMjU1LCAwXVxufTtcbmV4cG9ydCBjb25zdCBNb25vMkEgPSB7XG4gICAgbmFtZTogJ0JsYWNrL0FtYmVyICgxLWJpdCBNQyknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLk1vbm8sXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5Nb25vLFxuICAgIGRhdGE6IFsyLCAwLCAyNTUsIDIwMCwgMTVdXG59O1xuZXhwb3J0IGNvbnN0IE1vbm80VyA9IHtcbiAgICBuYW1lOiAnNC10b25lIEdyZXlzY2FsZSAoMi1iaXQgTUMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5Nb25vLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuTW9ubyxcbiAgICBkYXRhOiBbNCwgMCwgMjU1LCAyNTUsIDI1NV1cbn07XG5leHBvcnQgY29uc3QgTW9ubzRBID0ge1xuICAgIG5hbWU6ICc0LXRvbmUgQW1iZXIgKDItYml0IE1DKScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuTW9ubyxcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLk1vbm8sXG4gICAgZGF0YTogWzQsIDAuMDQsIDI1NSwgMjAwLCAxNV1cbn07XG5leHBvcnQgY29uc3QgTW9ubzE2ID0ge1xuICAgIG5hbWU6ICcxNi10b25lIEdyZXlzY2FsZSAoNC1iaXQgTUMpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5Nb25vLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuTW9ubyxcbiAgICBkYXRhOiBbMTYsIDAsIDI1NSwgMjU1LCAyNTVdXG59O1xuZXhwb3J0IGNvbnN0IFBpcEJveSA9IHtcbiAgICBuYW1lOiAnUGlwLUJveSAzMDAwICgyLWJpdCBNQyknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLk1vbm8sXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5Nb25vLFxuICAgIGRhdGE6IFs0LCAwLjE1LCA2NCwgMjUyLCAxNTVdXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/palette/palettes/Mono.ts\n");

/***/ }),

/***/ "./src/palette/palettes/RGB.ts":
/*!*************************************!*\
  !*** ./src/palette/palettes/RGB.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RGB8\": () => (/* binding */ RGB8),\n/* harmony export */   \"RGB16\": () => (/* binding */ RGB16),\n/* harmony export */   \"RGB64\": () => (/* binding */ RGB64),\n/* harmony export */   \"RGB256\": () => (/* binding */ RGB256)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst RGB8 = {\n    name: '8-color RGB (3-bit, 1bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.RGB,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGB,\n    data: [2, 2, 2]\n};\nconst RGB16 = {\n    name: '16-color RGB (4-bit, 1-2-1)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.RGB,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGB,\n    data: [2, 4, 2]\n};\nconst RGB64 = {\n    name: '64-color RGB (6-bit, 2bpc)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.RGB,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGB,\n    data: [4, 4, 4]\n};\nconst RGB256 = {\n    name: '256-color RGB (8-bit, 3-3-2)',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.RGB,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGB,\n    data: [8, 8, 4]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvUkdCLnRzPzk3NjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJDO0FBQ0Y7QUFDbEM7QUFDUDtBQUNBLFVBQVUscURBQWU7QUFDekIsV0FBVyxzREFBZ0I7QUFDM0I7QUFDQTtBQUNPO0FBQ1A7QUFDQSxVQUFVLHFEQUFlO0FBQ3pCLFdBQVcsc0RBQWdCO0FBQzNCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsVUFBVSxxREFBZTtBQUN6QixXQUFXLHNEQUFnQjtBQUMzQjtBQUNBO0FBQ087QUFDUDtBQUNBLFVBQVUscURBQWU7QUFDekIsV0FBVyxzREFBZ0I7QUFDM0I7QUFDQSIsImZpbGUiOiIuL3NyYy9wYWxldHRlL3BhbGV0dGVzL1JHQi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlR3JvdXAgZnJvbSAnLi4vUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9QYWxldHRlVHlwZSc7XG5leHBvcnQgY29uc3QgUkdCOCA9IHtcbiAgICBuYW1lOiAnOC1jb2xvciBSR0IgKDMtYml0LCAxYnBjKScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuUkdCLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuUkdCLFxuICAgIGRhdGE6IFsyLCAyLCAyXVxufTtcbmV4cG9ydCBjb25zdCBSR0IxNiA9IHtcbiAgICBuYW1lOiAnMTYtY29sb3IgUkdCICg0LWJpdCwgMS0yLTEpJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5SR0IsXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5SR0IsXG4gICAgZGF0YTogWzIsIDQsIDJdXG59O1xuZXhwb3J0IGNvbnN0IFJHQjY0ID0ge1xuICAgIG5hbWU6ICc2NC1jb2xvciBSR0IgKDYtYml0LCAyYnBjKScsXG4gICAgdHlwZTogUGFsZXR0ZVR5cGUuUkdCLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuUkdCLFxuICAgIGRhdGE6IFs0LCA0LCA0XVxufTtcbmV4cG9ydCBjb25zdCBSR0IyNTYgPSB7XG4gICAgbmFtZTogJzI1Ni1jb2xvciBSR0IgKDgtYml0LCAzLTMtMiknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLlJHQixcbiAgICBncm91cDogUGFsZXR0ZUdyb3VwLlJHQixcbiAgICBkYXRhOiBbOCwgOCwgNF1cbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/palettes/RGB.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Win20cEx.ts":
/*!******************************************!*\
  !*** ./src/palette/palettes/Win20cEx.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst Win20cEx = {\n    name: 'Windows 20-color Extended RGBI',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Indexed4Bit,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0x00, 0x80,\n        0x00, 0x80, 0x00,\n        0x00, 0x80, 0x80,\n        0x80, 0x00, 0x00,\n        0x80, 0x00, 0x80,\n        0x80, 0x80, 0x00,\n        0xC0, 0xC0, 0xC0,\n        0xC0, 0xDC, 0xC0,\n        0xA6, 0xCA, 0xF0,\n        0xFF, 0xFB, 0xF0,\n        0xA0, 0xA0, 0xA4,\n        0x80, 0x80, 0x80,\n        0x00, 0x00, 0xFF,\n        0x00, 0xFF, 0x00,\n        0x00, 0xFF, 0xFF,\n        0xFF, 0x00, 0x00,\n        0xFF, 0x00, 0xFF,\n        0xFF, 0xFF, 0x00,\n        0xFF, 0xFF, 0xFF // White\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Win20cEx);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvV2luMjBjRXgudHM/ZWVmZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDRjtBQUN6QztBQUNBO0FBQ0EsVUFBVSx5REFBbUI7QUFDN0IsV0FBVyw4REFBd0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFFBQVEsRUFBQyIsImZpbGUiOiIuL3NyYy9wYWxldHRlL3BhbGV0dGVzL1dpbjIwY0V4LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhbGV0dGVHcm91cCBmcm9tICcuLi9QYWxldHRlR3JvdXAnO1xuaW1wb3J0IFBhbGV0dGVUeXBlIGZyb20gJy4uL1BhbGV0dGVUeXBlJztcbmNvbnN0IFdpbjIwY0V4ID0ge1xuICAgIG5hbWU6ICdXaW5kb3dzIDIwLWNvbG9yIEV4dGVuZGVkIFJHQkknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkluZGV4ZWQsXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5JbmRleGVkNEJpdCxcbiAgICBkYXRhOiBbXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4ODAsXG4gICAgICAgIDB4MDAsIDB4ODAsIDB4MDAsXG4gICAgICAgIDB4MDAsIDB4ODAsIDB4ODAsXG4gICAgICAgIDB4ODAsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4ODAsIDB4MDAsIDB4ODAsXG4gICAgICAgIDB4ODAsIDB4ODAsIDB4MDAsXG4gICAgICAgIDB4QzAsIDB4QzAsIDB4QzAsXG4gICAgICAgIDB4QzAsIDB4REMsIDB4QzAsXG4gICAgICAgIDB4QTYsIDB4Q0EsIDB4RjAsXG4gICAgICAgIDB4RkYsIDB4RkIsIDB4RjAsXG4gICAgICAgIDB4QTAsIDB4QTAsIDB4QTQsXG4gICAgICAgIDB4ODAsIDB4ODAsIDB4ODAsXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4RkYsXG4gICAgICAgIDB4MDAsIDB4RkYsIDB4MDAsXG4gICAgICAgIDB4MDAsIDB4RkYsIDB4RkYsXG4gICAgICAgIDB4RkYsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4RkYsIDB4MDAsIDB4RkYsXG4gICAgICAgIDB4RkYsIDB4RkYsIDB4MDAsXG4gICAgICAgIDB4RkYsIDB4RkYsIDB4RkYgLy8gV2hpdGVcbiAgICBdXG59O1xuZXhwb3J0IGRlZmF1bHQgV2luMjBjRXg7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/palettes/Win20cEx.ts\n");

/***/ }),

/***/ "./src/palette/palettes/Win4bRGBI.ts":
/*!*******************************************!*\
  !*** ./src/palette/palettes/Win4bRGBI.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst Win4bRGBI = {\n    name: 'Windows 4-bit RGBI',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGBI,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0x00, 0x80,\n        0x00, 0x80, 0x00,\n        0x00, 0x80, 0x80,\n        0x80, 0x00, 0x00,\n        0x80, 0x00, 0x80,\n        0x80, 0x80, 0x00,\n        0xC0, 0xC0, 0xC0,\n        0x80, 0x80, 0x80,\n        0x00, 0x00, 0xFF,\n        0x00, 0xFF, 0x00,\n        0x00, 0xFF, 0xFF,\n        0xFF, 0x00, 0x00,\n        0xFF, 0x00, 0xFF,\n        0xFF, 0xFF, 0x00,\n        0xFF, 0xFF, 0xFF // White\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Win4bRGBI);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvV2luNGJSR0JJLnRzPzNkY2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ0Y7QUFDekM7QUFDQTtBQUNBLFVBQVUseURBQW1CO0FBQzdCLFdBQVcsdURBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsU0FBUyxFQUFDIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvV2luNGJSR0JJLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhbGV0dGVHcm91cCBmcm9tICcuLi9QYWxldHRlR3JvdXAnO1xuaW1wb3J0IFBhbGV0dGVUeXBlIGZyb20gJy4uL1BhbGV0dGVUeXBlJztcbmNvbnN0IFdpbjRiUkdCSSA9IHtcbiAgICBuYW1lOiAnV2luZG93cyA0LWJpdCBSR0JJJyxcbiAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgIGdyb3VwOiBQYWxldHRlR3JvdXAuUkdCSSxcbiAgICBkYXRhOiBbXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4ODAsXG4gICAgICAgIDB4MDAsIDB4ODAsIDB4MDAsXG4gICAgICAgIDB4MDAsIDB4ODAsIDB4ODAsXG4gICAgICAgIDB4ODAsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4ODAsIDB4MDAsIDB4ODAsXG4gICAgICAgIDB4ODAsIDB4ODAsIDB4MDAsXG4gICAgICAgIDB4QzAsIDB4QzAsIDB4QzAsXG4gICAgICAgIDB4ODAsIDB4ODAsIDB4ODAsXG4gICAgICAgIDB4MDAsIDB4MDAsIDB4RkYsXG4gICAgICAgIDB4MDAsIDB4RkYsIDB4MDAsXG4gICAgICAgIDB4MDAsIDB4RkYsIDB4RkYsXG4gICAgICAgIDB4RkYsIDB4MDAsIDB4MDAsXG4gICAgICAgIDB4RkYsIDB4MDAsIDB4RkYsXG4gICAgICAgIDB4RkYsIDB4RkYsIDB4MDAsXG4gICAgICAgIDB4RkYsIDB4RkYsIDB4RkYgLy8gV2hpdGVcbiAgICBdXG59O1xuZXhwb3J0IGRlZmF1bHQgV2luNGJSR0JJO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/palette/palettes/Win4bRGBI.ts\n");

/***/ }),

/***/ "./src/palette/palettes/ZX4bRGBI.ts":
/*!******************************************!*\
  !*** ./src/palette/palettes/ZX4bRGBI.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\nconst ZX4bRGBI = {\n    name: 'ZX Spectrum 4-bit RGBI',\n    type: _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n    group: _PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.RGBI,\n    data: [\n        0x00, 0x00, 0x00,\n        0x00, 0x00, 0xD7,\n        0x00, 0xD7, 0x00,\n        0x00, 0xD7, 0xD7,\n        0xD7, 0x00, 0x00,\n        0xD7, 0x00, 0xD7,\n        0xD7, 0xD7, 0x00,\n        0xD7, 0xD7, 0xD7,\n        0x00, 0x00, 0xFF,\n        0x00, 0xFF, 0x00,\n        0x00, 0xFF, 0xFF,\n        0xFF, 0x00, 0x00,\n        0xFF, 0x00, 0xFF,\n        0xFF, 0xFF, 0x00,\n        0xFF, 0xFF, 0xFF // Bright White\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ZX4bRGBI);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvWlg0YlJHQkkudHM/NmVhNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDRjtBQUN6QztBQUNBO0FBQ0EsVUFBVSx5REFBbUI7QUFDN0IsV0FBVyx1REFBaUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsUUFBUSxFQUFDIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcGFsZXR0ZXMvWlg0YlJHQkkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFsZXR0ZUdyb3VwIGZyb20gJy4uL1BhbGV0dGVHcm91cCc7XG5pbXBvcnQgUGFsZXR0ZVR5cGUgZnJvbSAnLi4vUGFsZXR0ZVR5cGUnO1xuY29uc3QgWlg0YlJHQkkgPSB7XG4gICAgbmFtZTogJ1pYIFNwZWN0cnVtIDQtYml0IFJHQkknLFxuICAgIHR5cGU6IFBhbGV0dGVUeXBlLkluZGV4ZWQsXG4gICAgZ3JvdXA6IFBhbGV0dGVHcm91cC5SR0JJLFxuICAgIGRhdGE6IFtcbiAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHgwMCwgMHgwMCwgMHhENyxcbiAgICAgICAgMHgwMCwgMHhENywgMHgwMCxcbiAgICAgICAgMHgwMCwgMHhENywgMHhENyxcbiAgICAgICAgMHhENywgMHgwMCwgMHgwMCxcbiAgICAgICAgMHhENywgMHgwMCwgMHhENyxcbiAgICAgICAgMHhENywgMHhENywgMHgwMCxcbiAgICAgICAgMHhENywgMHhENywgMHhENyxcbiAgICAgICAgMHgwMCwgMHgwMCwgMHhGRixcbiAgICAgICAgMHgwMCwgMHhGRiwgMHgwMCxcbiAgICAgICAgMHgwMCwgMHhGRiwgMHhGRixcbiAgICAgICAgMHhGRiwgMHgwMCwgMHgwMCxcbiAgICAgICAgMHhGRiwgMHgwMCwgMHhGRixcbiAgICAgICAgMHhGRiwgMHhGRiwgMHgwMCxcbiAgICAgICAgMHhGRiwgMHhGRiwgMHhGRiAvLyBCcmlnaHQgV2hpdGVcbiAgICBdXG59O1xuZXhwb3J0IGRlZmF1bHQgWlg0YlJHQkk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/palette/palettes/ZX4bRGBI.ts\n");

/***/ }),

/***/ "./src/palette/prepPalette.ts":
/*!************************************!*\
  !*** ./src/palette/prepPalette.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ prepPalette)\n/* harmony export */ });\n/* harmony import */ var _AutoPalette__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AutoPalette */ \"./src/palette/AutoPalette.ts\");\n/* harmony import */ var _PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PaletteType */ \"./src/palette/PaletteType.ts\");\n\n\n// Handles any palette transformations usually done\n// by any given process, so they may be done in the\n// main thread.\nfunction prepPalette(palette, process, image) {\n    if (palette.type === _PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Auto)\n        return (0,_AutoPalette__WEBPACK_IMPORTED_MODULE_0__.getAutoPalette)({\n            size: palette.data[0],\n            reservedLevel: palette.data[1],\n            levels: palette.data[2],\n            thresholdCoeff: palette.data[3]\n        }, image);\n    return palette;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGUvcHJlcFBhbGV0dGUudHM/MjFlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0M7QUFDUDtBQUN4QztBQUNBO0FBQ0E7QUFDZTtBQUNmLHlCQUF5QixzREFBZ0I7QUFDekMsZUFBZSw0REFBYztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBIiwiZmlsZSI6Ii4vc3JjL3BhbGV0dGUvcHJlcFBhbGV0dGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRBdXRvUGFsZXR0ZSB9IGZyb20gJy4vQXV0b1BhbGV0dGUnO1xuaW1wb3J0IFBhbGV0dGVUeXBlIGZyb20gJy4vUGFsZXR0ZVR5cGUnO1xuLy8gSGFuZGxlcyBhbnkgcGFsZXR0ZSB0cmFuc2Zvcm1hdGlvbnMgdXN1YWxseSBkb25lXG4vLyBieSBhbnkgZ2l2ZW4gcHJvY2Vzcywgc28gdGhleSBtYXkgYmUgZG9uZSBpbiB0aGVcbi8vIG1haW4gdGhyZWFkLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcFBhbGV0dGUocGFsZXR0ZSwgcHJvY2VzcywgaW1hZ2UpIHtcbiAgICBpZiAocGFsZXR0ZS50eXBlID09PSBQYWxldHRlVHlwZS5BdXRvKVxuICAgICAgICByZXR1cm4gZ2V0QXV0b1BhbGV0dGUoe1xuICAgICAgICAgICAgc2l6ZTogcGFsZXR0ZS5kYXRhWzBdLFxuICAgICAgICAgICAgcmVzZXJ2ZWRMZXZlbDogcGFsZXR0ZS5kYXRhWzFdLFxuICAgICAgICAgICAgbGV2ZWxzOiBwYWxldHRlLmRhdGFbMl0sXG4gICAgICAgICAgICB0aHJlc2hvbGRDb2VmZjogcGFsZXR0ZS5kYXRhWzNdXG4gICAgICAgIH0sIGltYWdlKTtcbiAgICByZXR1cm4gcGFsZXR0ZTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/palette/prepPalette.ts\n");

/***/ }),

/***/ "./src/paletteGen/ColorNode.ts":
/*!*************************************!*\
  !*** ./src/paletteGen/ColorNode.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass ColorNode {\n    constructor() {\n        this.colors = [];\n        this.pixels = 0;\n    }\n    get pixelCount() { return this.pixels; }\n    get avgColor() {\n        const sum = [0, 0, 0];\n        for (let i = 0; i < this.colors.length; i++)\n            for (let j = 0; j < 3; j++)\n                sum[j] += this.colors[i][j];\n        return sum.map(v => v / this.colors.length);\n    }\n    addColor(color) {\n        // If the specific color isn't in the list, add it\n        // Either way, increase the pixel count by one\n        if (!this.colors.includes(color))\n            this.colors.push(color);\n        this.pixels++;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ColorNode);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGVHZW4vQ29sb3JOb2RlLnRzPzQ4NmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0JBQW9CO0FBQzFDO0FBQ0E7QUFDQSx1QkFBdUIsd0JBQXdCO0FBQy9DLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxTQUFTLEVBQUMiLCJmaWxlIjoiLi9zcmMvcGFsZXR0ZUdlbi9Db2xvck5vZGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDb2xvck5vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFtdO1xuICAgICAgICB0aGlzLnBpeGVscyA9IDA7XG4gICAgfVxuICAgIGdldCBwaXhlbENvdW50KCkgeyByZXR1cm4gdGhpcy5waXhlbHM7IH1cbiAgICBnZXQgYXZnQ29sb3IoKSB7XG4gICAgICAgIGNvbnN0IHN1bSA9IFswLCAwLCAwXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbG9ycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKVxuICAgICAgICAgICAgICAgIHN1bVtqXSArPSB0aGlzLmNvbG9yc1tpXVtqXTtcbiAgICAgICAgcmV0dXJuIHN1bS5tYXAodiA9PiB2IC8gdGhpcy5jb2xvcnMubGVuZ3RoKTtcbiAgICB9XG4gICAgYWRkQ29sb3IoY29sb3IpIHtcbiAgICAgICAgLy8gSWYgdGhlIHNwZWNpZmljIGNvbG9yIGlzbid0IGluIHRoZSBsaXN0LCBhZGQgaXRcbiAgICAgICAgLy8gRWl0aGVyIHdheSwgaW5jcmVhc2UgdGhlIHBpeGVsIGNvdW50IGJ5IG9uZVxuICAgICAgICBpZiAoIXRoaXMuY29sb3JzLmluY2x1ZGVzKGNvbG9yKSlcbiAgICAgICAgICAgIHRoaXMuY29sb3JzLnB1c2goY29sb3IpO1xuICAgICAgICB0aGlzLnBpeGVscysrO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IENvbG9yTm9kZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/paletteGen/ColorNode.ts\n");

/***/ }),

/***/ "./src/paletteGen/PaletteGenerator.ts":
/*!********************************************!*\
  !*** ./src/paletteGen/PaletteGenerator.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"generatePalette\": () => (/* binding */ generatePalette)\n/* harmony export */ });\n/* harmony import */ var _palette_PaletteGroup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../palette/PaletteGroup */ \"./src/palette/PaletteGroup.ts\");\n/* harmony import */ var _palette_PaletteType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../palette/PaletteType */ \"./src/palette/PaletteType.ts\");\n/* harmony import */ var _ColorNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ColorNode */ \"./src/paletteGen/ColorNode.ts\");\n\n\n\n// Sample every n pixels in the x and y axes (1/n^2 pixels total)\nconst SUBSAMPLING = 2;\nfunction makeTree(levels) {\n    return Array.from({ length: Math.pow(8, levels) }, () => new _ColorNode__WEBPACK_IMPORTED_MODULE_2__.default());\n}\n// Octree-based color quantizer\nclass PaletteGenerator {\n    constructor(opts) {\n        this.generated = false;\n        this.levels = opts.levels;\n        this.tree = makeTree(opts.levels);\n        this.ctes = [];\n        this.reservedLevel = opts.reservedLevel;\n        this.nColors = opts.size;\n        this.k = opts.thresholdCoeff || 1;\n    }\n    // Add a color to the appropriate leaf node (octcube)\n    // Returns the index of the leaf node the color was added to\n    addColor(color) {\n        if (this.generated)\n            throw new Error('Attempting to modify a generated palette');\n        const i = this.index(color);\n        this.tree[i].addColor(color);\n        return i;\n    }\n    getPalette() {\n        if (!this.generated)\n            this.generate();\n        const colors = [];\n        this.ctes.forEach(cte => {\n            const index = cte.index;\n            const color = [0, 0, 0];\n            for (let n = 0; n < cte.level; n++) {\n                for (let i = 2; i >= 0; i--) {\n                    const bit = (cte.level - 1 - n) * 3 + i;\n                    const mask = (0x1 << (cte.level * 3 - 1)) >> (n * 3 + (2 - i));\n                    color[2 - i] = (color[2 - i] << 1) | ((index & mask) >> bit);\n                }\n            }\n            for (let n = cte.level; n < 8; n++)\n                for (let i = 0; i < 3; i++)\n                    color[i] = (color[i] << 1) | (n === cte.level ? 0x1 : 0x0);\n            colors.push(color);\n            //colors.push(cte.node.avgColor);\n        });\n        console.log(`Built palette with ${colors.length} colors`);\n        return colors;\n    }\n    // Returns an index for the virtual octree at level (N)\n    // By design the octcube (i) at level (n - 1) contains the\n    // octcubes (8i + j; j in 0-7) at level (n)\n    //\n    // In other words, shifting the index at level (n) three \n    // bits to the right yields the index of the color at level (n - 1)\n    index(color) {\n        let index = 0;\n        for (let n = 0; n < this.levels; n++) {\n            const bit = 7 - n;\n            let iLevel = 0;\n            for (let i = 0; i < 3; i++) {\n                // For each channel, get the nth bit starting from the MSB\n                // and combine them in a number in range 1-8\n                // This is our index for the level n (relative to level n-1)\n                const mask = 0x80 >> n;\n                iLevel = (iLevel << 1) | ((color[i] & mask) >> bit);\n            }\n            // Shift the 'global' index by 3 bits and add the new level index\n            // The result is the 'absolute' index of the lowest level octcube\n            // the color fits in\n            index = (index << 3) | iLevel;\n        }\n        return index;\n    }\n    // Returns the properties for any given node\n    // Only leaf nodes are actually stored; for any other node,\n    // a 'fake' node with its properties calculated on the fly\n    // is returned\n    getNode(index, level) {\n        if (level === this.levels)\n            return this.tree[index];\n        const children = [];\n        for (let j = 0; j < 8; j++)\n            if (!this.isCTE(8 * index + j, level + 1))\n                children.push(this.getNode(8 * index + j, level + 1));\n        const fakeNode = children\n            .filter(node => node.pixelCount > 0)\n            .reduce((acc, node) => ({\n            //avgColor: acc.avgColor.map((ch, i) => ch + node.avgColor[i]),\n            pixelCount: acc.pixelCount + node.pixelCount\n        }), { /*avgColor: [0, 0, 0],*/ pixelCount: 0 });\n        // Produce average from the sum of the eight child nodes\n        //fakeNode.avgColor = fakeNode.avgColor.map(ch => ch / 8);\n        //if (fakeNode.avgColor.some(ch => isNaN(ch)))\n        //  console.warn(`broken color @${index}, level ${level}`);\n        return fakeNode;\n    }\n    isCTE(index, level) {\n        return this.ctes.some(cte => cte.index === index && cte.level === level);\n    }\n    markCTE(index, level, node) {\n        this.ctes.push({ index, level, node });\n    }\n    testNode(nCols, nRes, nPix, node) {\n        // Get the number of colors yet to be assigned\n        const unassignedColors = nCols - nRes - this.ctes.length;\n        // Get the total number of pixels sampled and the number\n        // of pixels assigned to some CTE, and subtract to get\n        // the number of pixels left to assign\n        const unassignedPixels = nPix - this.ctes\n            .map(cte => cte.node.pixelCount)\n            .reduce((acc, v) => acc + v, 0);\n        const threshold = unassignedPixels / unassignedColors * this.k;\n        // If the node has more pixels than the number of pixels left\n        // to assign divided by the number of available colors, then\n        // it should get a color in the palette\n        return node.pixelCount > threshold;\n    }\n    get nonReservedCTEs() {\n        return this.ctes.filter(cte => cte.level !== this.reservedLevel).length;\n    }\n    generate() {\n        if (this.generated)\n            throw new Error('This palette has already been generated');\n        this.generated = true;\n        const reserved = this.reservedLevel < 0 ? 0 : Math.pow(8, this.reservedLevel);\n        const sampled = this.getNode(0, 0).pixelCount;\n        let level;\n        let lastIterationCTEs = 0;\n        let stuckCounter = 0;\n        // Repeat until the palette is full!\n        while (this.nColors - reserved - this.nonReservedCTEs > 0) {\n            level = this.levels; // Start at leaf node level\n            // Prune up until the specified level\n            // All colors in that level are then reserved\n            while (level > this.reservedLevel && level > 0) {\n                const nodes = Math.pow(8, level);\n                // Iterate through all nodes in the level\n                for (let i = 0; i < nodes; i++) {\n                    const node = this.getNode(i, level);\n                    // If the node is not yet a CTE, and has enough pixels to be\n                    // one, make it a CTE\n                    if (!this.isCTE(i, level) && this.testNode(this.nColors, reserved, sampled, node))\n                        this.markCTE(i, level, node);\n                    // Every 8th node, check the last 8 nodes\n                    // If any nodes are a CTE, make the parent a CTE UNLESS all 8 nodes are CTEs\n                    if (i % 8 === 7) {\n                        let ctes = 0;\n                        for (let j = i - 7; j <= i; j++)\n                            if (this.isCTE(j, level))\n                                ctes++;\n                        if (ctes > 0 && ctes < 8) {\n                            const iParent = i >> 3;\n                            if (!this.isCTE(iParent, level - 1))\n                                this.markCTE(iParent, level - 1, this.getNode(iParent, level - 1));\n                        }\n                    }\n                    // Stop if the palette is full\n                    if (this.nColors - reserved - this.nonReservedCTEs <= 0) {\n                        //console.warn(`Ran out of colors! At node ${i}, level ${level}`);\n                        break;\n                    }\n                }\n                // Stop if the palette is full\n                if (this.nColors - reserved - this.nonReservedCTEs <= 0) {\n                    //console.warn(`Ran out of colors! At level ${level}`);\n                    break;\n                }\n                level--;\n            }\n            //console.log(`${this.ctes.length} CTEs, ${this.ctes.length - this.nonReservedCTEs} reserved`);\n            if (this.ctes.length === lastIterationCTEs) {\n                this.k = this.k / 2;\n                stuckCounter++;\n                if (stuckCounter >= 5)\n                    break;\n            }\n            lastIterationCTEs = this.ctes.length;\n        }\n        // Finally, handle reserved colors\n        if (this.reservedLevel >= 0) {\n            level = this.reservedLevel;\n            const nodes = Math.pow(8, level);\n            for (let i = 0; i < nodes; i++) {\n                const node = this.getNode(i, level);\n                // If the node is not yet a CTE, make it one\n                if (!this.isCTE(i, level))\n                    this.markCTE(i, level, node);\n            }\n        }\n    }\n}\nfunction generatePalette(opts, img) {\n    const octree = new PaletteGenerator(opts);\n    const size = img.width * img.height * 4;\n    for (let i = 0; i < size; i += 4) {\n        const y = ~~(i / 4 / img.width);\n        const x = ~~(i / 4 % img.width);\n        if (x % SUBSAMPLING === 0 && y % SUBSAMPLING === 0) {\n            const color = Array.from(img.data.slice(i, i + 4));\n            octree.addColor(color);\n        }\n    }\n    const colors = octree.getPalette();\n    return {\n        name: `AUTO_${opts.size}L${opts.levels}R${opts.reservedLevel}`,\n        type: _palette_PaletteType__WEBPACK_IMPORTED_MODULE_1__.default.Indexed,\n        group: _palette_PaletteGroup__WEBPACK_IMPORTED_MODULE_0__.default.Generated,\n        data: colors.reduce((flat, color) => flat.concat(color))\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3BhbGV0dGVHZW4vUGFsZXR0ZUdlbmVyYXRvci50cz8wNzc3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBbUQ7QUFDRjtBQUNiO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw4QkFBOEIsWUFBWSwrQ0FBUztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixlQUFlO0FBQzFDLCtCQUErQixRQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTztBQUMxQywrQkFBK0IsT0FBTztBQUN0QztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixpQkFBaUI7QUFDeEM7QUFDQTtBQUNBLDJCQUEyQixPQUFPO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUkseUNBQXlDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxNQUFNLFVBQVUsTUFBTTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFdBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsRUFBRSxVQUFVLE1BQU07QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxNQUFNO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlCQUFpQixTQUFTLHdDQUF3QztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsV0FBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFVBQVUsR0FBRyxZQUFZLEdBQUcsbUJBQW1CO0FBQ3JFLGNBQWMsaUVBQW1CO0FBQ2pDLGVBQWUsb0VBQXNCO0FBQ3JDO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9wYWxldHRlR2VuL1BhbGV0dGVHZW5lcmF0b3IudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFsZXR0ZUdyb3VwIGZyb20gJy4uL3BhbGV0dGUvUGFsZXR0ZUdyb3VwJztcbmltcG9ydCBQYWxldHRlVHlwZSBmcm9tICcuLi9wYWxldHRlL1BhbGV0dGVUeXBlJztcbmltcG9ydCBDb2xvck5vZGUgZnJvbSAnLi9Db2xvck5vZGUnO1xuLy8gU2FtcGxlIGV2ZXJ5IG4gcGl4ZWxzIGluIHRoZSB4IGFuZCB5IGF4ZXMgKDEvbl4yIHBpeGVscyB0b3RhbClcbmNvbnN0IFNVQlNBTVBMSU5HID0gMjtcbmZ1bmN0aW9uIG1ha2VUcmVlKGxldmVscykge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBNYXRoLnBvdyg4LCBsZXZlbHMpIH0sICgpID0+IG5ldyBDb2xvck5vZGUoKSk7XG59XG4vLyBPY3RyZWUtYmFzZWQgY29sb3IgcXVhbnRpemVyXG5jbGFzcyBQYWxldHRlR2VuZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gb3B0cy5sZXZlbHM7XG4gICAgICAgIHRoaXMudHJlZSA9IG1ha2VUcmVlKG9wdHMubGV2ZWxzKTtcbiAgICAgICAgdGhpcy5jdGVzID0gW107XG4gICAgICAgIHRoaXMucmVzZXJ2ZWRMZXZlbCA9IG9wdHMucmVzZXJ2ZWRMZXZlbDtcbiAgICAgICAgdGhpcy5uQ29sb3JzID0gb3B0cy5zaXplO1xuICAgICAgICB0aGlzLmsgPSBvcHRzLnRocmVzaG9sZENvZWZmIHx8IDE7XG4gICAgfVxuICAgIC8vIEFkZCBhIGNvbG9yIHRvIHRoZSBhcHByb3ByaWF0ZSBsZWFmIG5vZGUgKG9jdGN1YmUpXG4gICAgLy8gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxlYWYgbm9kZSB0aGUgY29sb3Igd2FzIGFkZGVkIHRvXG4gICAgYWRkQ29sb3IoY29sb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIG1vZGlmeSBhIGdlbmVyYXRlZCBwYWxldHRlJyk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmluZGV4KGNvbG9yKTtcbiAgICAgICAgdGhpcy50cmVlW2ldLmFkZENvbG9yKGNvbG9yKTtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIGdldFBhbGV0dGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5nZW5lcmF0ZWQpXG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFtdO1xuICAgICAgICB0aGlzLmN0ZXMuZm9yRWFjaChjdGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjdGUuaW5kZXg7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IFswLCAwLCAwXTtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgY3RlLmxldmVsOyBuKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYml0ID0gKGN0ZS5sZXZlbCAtIDEgLSBuKSAqIDMgKyBpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXNrID0gKDB4MSA8PCAoY3RlLmxldmVsICogMyAtIDEpKSA+PiAobiAqIDMgKyAoMiAtIGkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JbMiAtIGldID0gKGNvbG9yWzIgLSBpXSA8PCAxKSB8ICgoaW5kZXggJiBtYXNrKSA+PiBiaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IG4gPSBjdGUubGV2ZWw7IG4gPCA4OyBuKyspXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yW2ldID0gKGNvbG9yW2ldIDw8IDEpIHwgKG4gPT09IGN0ZS5sZXZlbCA/IDB4MSA6IDB4MCk7XG4gICAgICAgICAgICBjb2xvcnMucHVzaChjb2xvcik7XG4gICAgICAgICAgICAvL2NvbG9ycy5wdXNoKGN0ZS5ub2RlLmF2Z0NvbG9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBCdWlsdCBwYWxldHRlIHdpdGggJHtjb2xvcnMubGVuZ3RofSBjb2xvcnNgKTtcbiAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhbiBpbmRleCBmb3IgdGhlIHZpcnR1YWwgb2N0cmVlIGF0IGxldmVsIChOKVxuICAgIC8vIEJ5IGRlc2lnbiB0aGUgb2N0Y3ViZSAoaSkgYXQgbGV2ZWwgKG4gLSAxKSBjb250YWlucyB0aGVcbiAgICAvLyBvY3RjdWJlcyAoOGkgKyBqOyBqIGluIDAtNykgYXQgbGV2ZWwgKG4pXG4gICAgLy9cbiAgICAvLyBJbiBvdGhlciB3b3Jkcywgc2hpZnRpbmcgdGhlIGluZGV4IGF0IGxldmVsIChuKSB0aHJlZSBcbiAgICAvLyBiaXRzIHRvIHRoZSByaWdodCB5aWVsZHMgdGhlIGluZGV4IG9mIHRoZSBjb2xvciBhdCBsZXZlbCAobiAtIDEpXG4gICAgaW5kZXgoY29sb3IpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCB0aGlzLmxldmVsczsgbisrKSB7XG4gICAgICAgICAgICBjb25zdCBiaXQgPSA3IC0gbjtcbiAgICAgICAgICAgIGxldCBpTGV2ZWwgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBjaGFubmVsLCBnZXQgdGhlIG50aCBiaXQgc3RhcnRpbmcgZnJvbSB0aGUgTVNCXG4gICAgICAgICAgICAgICAgLy8gYW5kIGNvbWJpbmUgdGhlbSBpbiBhIG51bWJlciBpbiByYW5nZSAxLThcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG91ciBpbmRleCBmb3IgdGhlIGxldmVsIG4gKHJlbGF0aXZlIHRvIGxldmVsIG4tMSlcbiAgICAgICAgICAgICAgICBjb25zdCBtYXNrID0gMHg4MCA+PiBuO1xuICAgICAgICAgICAgICAgIGlMZXZlbCA9IChpTGV2ZWwgPDwgMSkgfCAoKGNvbG9yW2ldICYgbWFzaykgPj4gYml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNoaWZ0IHRoZSAnZ2xvYmFsJyBpbmRleCBieSAzIGJpdHMgYW5kIGFkZCB0aGUgbmV3IGxldmVsIGluZGV4XG4gICAgICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIHRoZSAnYWJzb2x1dGUnIGluZGV4IG9mIHRoZSBsb3dlc3QgbGV2ZWwgb2N0Y3ViZVxuICAgICAgICAgICAgLy8gdGhlIGNvbG9yIGZpdHMgaW5cbiAgICAgICAgICAgIGluZGV4ID0gKGluZGV4IDw8IDMpIHwgaUxldmVsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgcHJvcGVydGllcyBmb3IgYW55IGdpdmVuIG5vZGVcbiAgICAvLyBPbmx5IGxlYWYgbm9kZXMgYXJlIGFjdHVhbGx5IHN0b3JlZDsgZm9yIGFueSBvdGhlciBub2RlLFxuICAgIC8vIGEgJ2Zha2UnIG5vZGUgd2l0aCBpdHMgcHJvcGVydGllcyBjYWxjdWxhdGVkIG9uIHRoZSBmbHlcbiAgICAvLyBpcyByZXR1cm5lZFxuICAgIGdldE5vZGUoaW5kZXgsIGxldmVsKSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdGhpcy5sZXZlbHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmVlW2luZGV4XTtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyBqKyspXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNDVEUoOCAqIGluZGV4ICsgaiwgbGV2ZWwgKyAxKSlcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKHRoaXMuZ2V0Tm9kZSg4ICogaW5kZXggKyBqLCBsZXZlbCArIDEpKTtcbiAgICAgICAgY29uc3QgZmFrZU5vZGUgPSBjaGlsZHJlblxuICAgICAgICAgICAgLmZpbHRlcihub2RlID0+IG5vZGUucGl4ZWxDb3VudCA+IDApXG4gICAgICAgICAgICAucmVkdWNlKChhY2MsIG5vZGUpID0+ICh7XG4gICAgICAgICAgICAvL2F2Z0NvbG9yOiBhY2MuYXZnQ29sb3IubWFwKChjaCwgaSkgPT4gY2ggKyBub2RlLmF2Z0NvbG9yW2ldKSxcbiAgICAgICAgICAgIHBpeGVsQ291bnQ6IGFjYy5waXhlbENvdW50ICsgbm9kZS5waXhlbENvdW50XG4gICAgICAgIH0pLCB7IC8qYXZnQ29sb3I6IFswLCAwLCAwXSwqLyBwaXhlbENvdW50OiAwIH0pO1xuICAgICAgICAvLyBQcm9kdWNlIGF2ZXJhZ2UgZnJvbSB0aGUgc3VtIG9mIHRoZSBlaWdodCBjaGlsZCBub2Rlc1xuICAgICAgICAvL2Zha2VOb2RlLmF2Z0NvbG9yID0gZmFrZU5vZGUuYXZnQ29sb3IubWFwKGNoID0+IGNoIC8gOCk7XG4gICAgICAgIC8vaWYgKGZha2VOb2RlLmF2Z0NvbG9yLnNvbWUoY2ggPT4gaXNOYU4oY2gpKSlcbiAgICAgICAgLy8gIGNvbnNvbGUud2FybihgYnJva2VuIGNvbG9yIEAke2luZGV4fSwgbGV2ZWwgJHtsZXZlbH1gKTtcbiAgICAgICAgcmV0dXJuIGZha2VOb2RlO1xuICAgIH1cbiAgICBpc0NURShpbmRleCwgbGV2ZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Rlcy5zb21lKGN0ZSA9PiBjdGUuaW5kZXggPT09IGluZGV4ICYmIGN0ZS5sZXZlbCA9PT0gbGV2ZWwpO1xuICAgIH1cbiAgICBtYXJrQ1RFKGluZGV4LCBsZXZlbCwgbm9kZSkge1xuICAgICAgICB0aGlzLmN0ZXMucHVzaCh7IGluZGV4LCBsZXZlbCwgbm9kZSB9KTtcbiAgICB9XG4gICAgdGVzdE5vZGUobkNvbHMsIG5SZXMsIG5QaXgsIG5vZGUpIHtcbiAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgY29sb3JzIHlldCB0byBiZSBhc3NpZ25lZFxuICAgICAgICBjb25zdCB1bmFzc2lnbmVkQ29sb3JzID0gbkNvbHMgLSBuUmVzIC0gdGhpcy5jdGVzLmxlbmd0aDtcbiAgICAgICAgLy8gR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgcGl4ZWxzIHNhbXBsZWQgYW5kIHRoZSBudW1iZXJcbiAgICAgICAgLy8gb2YgcGl4ZWxzIGFzc2lnbmVkIHRvIHNvbWUgQ1RFLCBhbmQgc3VidHJhY3QgdG8gZ2V0XG4gICAgICAgIC8vIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGxlZnQgdG8gYXNzaWduXG4gICAgICAgIGNvbnN0IHVuYXNzaWduZWRQaXhlbHMgPSBuUGl4IC0gdGhpcy5jdGVzXG4gICAgICAgICAgICAubWFwKGN0ZSA9PiBjdGUubm9kZS5waXhlbENvdW50KVxuICAgICAgICAgICAgLnJlZHVjZSgoYWNjLCB2KSA9PiBhY2MgKyB2LCAwKTtcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdW5hc3NpZ25lZFBpeGVscyAvIHVuYXNzaWduZWRDb2xvcnMgKiB0aGlzLms7XG4gICAgICAgIC8vIElmIHRoZSBub2RlIGhhcyBtb3JlIHBpeGVscyB0aGFuIHRoZSBudW1iZXIgb2YgcGl4ZWxzIGxlZnRcbiAgICAgICAgLy8gdG8gYXNzaWduIGRpdmlkZWQgYnkgdGhlIG51bWJlciBvZiBhdmFpbGFibGUgY29sb3JzLCB0aGVuXG4gICAgICAgIC8vIGl0IHNob3VsZCBnZXQgYSBjb2xvciBpbiB0aGUgcGFsZXR0ZVxuICAgICAgICByZXR1cm4gbm9kZS5waXhlbENvdW50ID4gdGhyZXNob2xkO1xuICAgIH1cbiAgICBnZXQgbm9uUmVzZXJ2ZWRDVEVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdGVzLmZpbHRlcihjdGUgPT4gY3RlLmxldmVsICE9PSB0aGlzLnJlc2VydmVkTGV2ZWwpLmxlbmd0aDtcbiAgICB9XG4gICAgZ2VuZXJhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmdlbmVyYXRlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBwYWxldHRlIGhhcyBhbHJlYWR5IGJlZW4gZ2VuZXJhdGVkJyk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgcmVzZXJ2ZWQgPSB0aGlzLnJlc2VydmVkTGV2ZWwgPCAwID8gMCA6IE1hdGgucG93KDgsIHRoaXMucmVzZXJ2ZWRMZXZlbCk7XG4gICAgICAgIGNvbnN0IHNhbXBsZWQgPSB0aGlzLmdldE5vZGUoMCwgMCkucGl4ZWxDb3VudDtcbiAgICAgICAgbGV0IGxldmVsO1xuICAgICAgICBsZXQgbGFzdEl0ZXJhdGlvbkNURXMgPSAwO1xuICAgICAgICBsZXQgc3R1Y2tDb3VudGVyID0gMDtcbiAgICAgICAgLy8gUmVwZWF0IHVudGlsIHRoZSBwYWxldHRlIGlzIGZ1bGwhXG4gICAgICAgIHdoaWxlICh0aGlzLm5Db2xvcnMgLSByZXNlcnZlZCAtIHRoaXMubm9uUmVzZXJ2ZWRDVEVzID4gMCkge1xuICAgICAgICAgICAgbGV2ZWwgPSB0aGlzLmxldmVsczsgLy8gU3RhcnQgYXQgbGVhZiBub2RlIGxldmVsXG4gICAgICAgICAgICAvLyBQcnVuZSB1cCB1bnRpbCB0aGUgc3BlY2lmaWVkIGxldmVsXG4gICAgICAgICAgICAvLyBBbGwgY29sb3JzIGluIHRoYXQgbGV2ZWwgYXJlIHRoZW4gcmVzZXJ2ZWRcbiAgICAgICAgICAgIHdoaWxlIChsZXZlbCA+IHRoaXMucmVzZXJ2ZWRMZXZlbCAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlcyA9IE1hdGgucG93KDgsIGxldmVsKTtcbiAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIG5vZGVzIGluIHRoZSBsZXZlbFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5nZXROb2RlKGksIGxldmVsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgbm90IHlldCBhIENURSwgYW5kIGhhcyBlbm91Z2ggcGl4ZWxzIHRvIGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uZSwgbWFrZSBpdCBhIENURVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNDVEUoaSwgbGV2ZWwpICYmIHRoaXMudGVzdE5vZGUodGhpcy5uQ29sb3JzLCByZXNlcnZlZCwgc2FtcGxlZCwgbm9kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtDVEUoaSwgbGV2ZWwsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBFdmVyeSA4dGggbm9kZSwgY2hlY2sgdGhlIGxhc3QgOCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbnkgbm9kZXMgYXJlIGEgQ1RFLCBtYWtlIHRoZSBwYXJlbnQgYSBDVEUgVU5MRVNTIGFsbCA4IG5vZGVzIGFyZSBDVEVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChpICUgOCA9PT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN0ZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSA3OyBqIDw9IGk7IGorKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0NURShqLCBsZXZlbCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0ZXMrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdGVzID4gMCAmJiBjdGVzIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlQYXJlbnQgPSBpID4+IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzQ1RFKGlQYXJlbnQsIGxldmVsIC0gMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWFya0NURShpUGFyZW50LCBsZXZlbCAtIDEsIHRoaXMuZ2V0Tm9kZShpUGFyZW50LCBsZXZlbCAtIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIHRoZSBwYWxldHRlIGlzIGZ1bGxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubkNvbG9ycyAtIHJlc2VydmVkIC0gdGhpcy5ub25SZXNlcnZlZENURXMgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLndhcm4oYFJhbiBvdXQgb2YgY29sb3JzISBBdCBub2RlICR7aX0sIGxldmVsICR7bGV2ZWx9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9wIGlmIHRoZSBwYWxldHRlIGlzIGZ1bGxcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uQ29sb3JzIC0gcmVzZXJ2ZWQgLSB0aGlzLm5vblJlc2VydmVkQ1RFcyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS53YXJuKGBSYW4gb3V0IG9mIGNvbG9ycyEgQXQgbGV2ZWwgJHtsZXZlbH1gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldmVsLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGAke3RoaXMuY3Rlcy5sZW5ndGh9IENURXMsICR7dGhpcy5jdGVzLmxlbmd0aCAtIHRoaXMubm9uUmVzZXJ2ZWRDVEVzfSByZXNlcnZlZGApO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3Rlcy5sZW5ndGggPT09IGxhc3RJdGVyYXRpb25DVEVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rID0gdGhpcy5rIC8gMjtcbiAgICAgICAgICAgICAgICBzdHVja0NvdW50ZXIrKztcbiAgICAgICAgICAgICAgICBpZiAoc3R1Y2tDb3VudGVyID49IDUpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdEl0ZXJhdGlvbkNURXMgPSB0aGlzLmN0ZXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZpbmFsbHksIGhhbmRsZSByZXNlcnZlZCBjb2xvcnNcbiAgICAgICAgaWYgKHRoaXMucmVzZXJ2ZWRMZXZlbCA+PSAwKSB7XG4gICAgICAgICAgICBsZXZlbCA9IHRoaXMucmVzZXJ2ZWRMZXZlbDtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gTWF0aC5wb3coOCwgbGV2ZWwpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMuZ2V0Tm9kZShpLCBsZXZlbCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5vZGUgaXMgbm90IHlldCBhIENURSwgbWFrZSBpdCBvbmVcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNDVEUoaSwgbGV2ZWwpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtDVEUoaSwgbGV2ZWwsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUGFsZXR0ZShvcHRzLCBpbWcpIHtcbiAgICBjb25zdCBvY3RyZWUgPSBuZXcgUGFsZXR0ZUdlbmVyYXRvcihvcHRzKTtcbiAgICBjb25zdCBzaXplID0gaW1nLndpZHRoICogaW1nLmhlaWdodCAqIDQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDQpIHtcbiAgICAgICAgY29uc3QgeSA9IH5+KGkgLyA0IC8gaW1nLndpZHRoKTtcbiAgICAgICAgY29uc3QgeCA9IH5+KGkgLyA0ICUgaW1nLndpZHRoKTtcbiAgICAgICAgaWYgKHggJSBTVUJTQU1QTElORyA9PT0gMCAmJiB5ICUgU1VCU0FNUExJTkcgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gQXJyYXkuZnJvbShpbWcuZGF0YS5zbGljZShpLCBpICsgNCkpO1xuICAgICAgICAgICAgb2N0cmVlLmFkZENvbG9yKGNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBjb2xvcnMgPSBvY3RyZWUuZ2V0UGFsZXR0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGBBVVRPXyR7b3B0cy5zaXplfUwke29wdHMubGV2ZWxzfVIke29wdHMucmVzZXJ2ZWRMZXZlbH1gLFxuICAgICAgICB0eXBlOiBQYWxldHRlVHlwZS5JbmRleGVkLFxuICAgICAgICBncm91cDogUGFsZXR0ZUdyb3VwLkdlbmVyYXRlZCxcbiAgICAgICAgZGF0YTogY29sb3JzLnJlZHVjZSgoZmxhdCwgY29sb3IpID0+IGZsYXQuY29uY2F0KGNvbG9yKSlcbiAgICB9O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/paletteGen/PaletteGenerator.ts\n");

/***/ }),

/***/ "./src/process/ProcessWorker.ts":
/*!**************************************!*\
  !*** ./src/process/ProcessWorker.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var worker_loader_worker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! worker-loader!../worker */ \"./node_modules/worker-loader/dist/cjs.js!./src/worker.ts\");\n\nvar ProcessEvent;\n(function (ProcessEvent) {\n    ProcessEvent[ProcessEvent[\"Progress\"] = 0] = \"Progress\";\n    ProcessEvent[ProcessEvent[\"Done\"] = 1] = \"Done\";\n    ProcessEvent[ProcessEvent[\"Error\"] = 2] = \"Error\";\n})(ProcessEvent || (ProcessEvent = {}));\n// Wraps the process worker and abstracts the messages\nclass ProcessWorker {\n    constructor() {\n        this.busy = false;\n        this.x = 0;\n        this.y = 0;\n        this.worker = new worker_loader_worker__WEBPACK_IMPORTED_MODULE_0__.default();\n        this.worker.onmessage = (ev) => {\n            const msg = ev.data;\n            switch (msg.msg) {\n                case ProcessEvent.Progress:\n                    if (this.onprogress)\n                        this.onprogress(Object.assign(Object.assign({}, msg.params), { partial: msg.params.partial ?\n                                { data: msg.params.partial, x: this.x, y: this.y } :\n                                undefined }));\n                    break;\n                case ProcessEvent.Done:\n                    if (this.onfinish)\n                        this.onfinish({\n                            data: msg.params.result,\n                            x: this.x, y: this.y\n                        });\n                    this.busy = false;\n                    break;\n                case ProcessEvent.Error:\n                    if (this.onerror)\n                        this.onerror(msg.params.error);\n                    this.busy = false;\n                    break;\n            }\n        };\n    }\n    get ready() { return !this.busy; }\n    start(part, palette, procId, distFnId, features) {\n        if (this.busy)\n            return false;\n        this.busy = true;\n        this.worker.postMessage({\n            dataIn: part.data,\n            palette,\n            procId,\n            distFnId,\n            features\n        });\n        return true;\n    }\n    terminate() {\n        this.worker.terminate();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProcessWorker);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3Byb2Nlc3MvUHJvY2Vzc1dvcmtlci50cz83NTY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9DQUFvQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseURBQVU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxnQkFBZ0I7QUFDdEYsaUNBQWlDLGlEQUFpRDtBQUNsRiwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxhQUFhLEVBQUMiLCJmaWxlIjoiLi9zcmMvcHJvY2Vzcy9Qcm9jZXNzV29ya2VyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb2NXb3JrZXIgZnJvbSAnd29ya2VyLWxvYWRlciEuLi93b3JrZXInO1xudmFyIFByb2Nlc3NFdmVudDtcbihmdW5jdGlvbiAoUHJvY2Vzc0V2ZW50KSB7XG4gICAgUHJvY2Vzc0V2ZW50W1Byb2Nlc3NFdmVudFtcIlByb2dyZXNzXCJdID0gMF0gPSBcIlByb2dyZXNzXCI7XG4gICAgUHJvY2Vzc0V2ZW50W1Byb2Nlc3NFdmVudFtcIkRvbmVcIl0gPSAxXSA9IFwiRG9uZVwiO1xuICAgIFByb2Nlc3NFdmVudFtQcm9jZXNzRXZlbnRbXCJFcnJvclwiXSA9IDJdID0gXCJFcnJvclwiO1xufSkoUHJvY2Vzc0V2ZW50IHx8IChQcm9jZXNzRXZlbnQgPSB7fSkpO1xuLy8gV3JhcHMgdGhlIHByb2Nlc3Mgd29ya2VyIGFuZCBhYnN0cmFjdHMgdGhlIG1lc3NhZ2VzXG5jbGFzcyBQcm9jZXNzV29ya2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5idXN5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMueCA9IDA7XG4gICAgICAgIHRoaXMueSA9IDA7XG4gICAgICAgIHRoaXMud29ya2VyID0gbmV3IFByb2NXb3JrZXIoKTtcbiAgICAgICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gKGV2KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtc2cgPSBldi5kYXRhO1xuICAgICAgICAgICAgc3dpdGNoIChtc2cubXNnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBQcm9jZXNzRXZlbnQuUHJvZ3Jlc3M6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9ucHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9ucHJvZ3Jlc3MoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtc2cucGFyYW1zKSwgeyBwYXJ0aWFsOiBtc2cucGFyYW1zLnBhcnRpYWwgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRhdGE6IG1zZy5wYXJhbXMucGFydGlhbCwgeDogdGhpcy54LCB5OiB0aGlzLnkgfSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgUHJvY2Vzc0V2ZW50LkRvbmU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uZmluaXNoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmZpbmlzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbXNnLnBhcmFtcy5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy54LCB5OiB0aGlzLnlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1c3kgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBQcm9jZXNzRXZlbnQuRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9uZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IobXNnLnBhcmFtcy5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0IHJlYWR5KCkgeyByZXR1cm4gIXRoaXMuYnVzeTsgfVxuICAgIHN0YXJ0KHBhcnQsIHBhbGV0dGUsIHByb2NJZCwgZGlzdEZuSWQsIGZlYXR1cmVzKSB7XG4gICAgICAgIGlmICh0aGlzLmJ1c3kpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuYnVzeSA9IHRydWU7XG4gICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGRhdGFJbjogcGFydC5kYXRhLFxuICAgICAgICAgICAgcGFsZXR0ZSxcbiAgICAgICAgICAgIHByb2NJZCxcbiAgICAgICAgICAgIGRpc3RGbklkLFxuICAgICAgICAgICAgZmVhdHVyZXNcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMud29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFByb2Nlc3NXb3JrZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/process/ProcessWorker.ts\n");

/***/ }),

/***/ "./src/process/processes/Basic.ts":
/*!****************************************!*\
  !*** ./src/process/processes/Basic.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _palette_paletteMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../palette/paletteMap */ \"./src/palette/paletteMap.ts\");\n/* harmony import */ var _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../palette/PaletteUtils */ \"./src/palette/PaletteUtils.ts\");\n\n\nconst processBasic = (dataIn, palette, distFn, features, cbProgress) => {\n    const line = dataIn.width * 4;\n    const size = dataIn.width * dataIn.height * 4;\n    const colors = _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_1__.default.getColors(palette);\n    for (let i = 0; i < size; i += 4) {\n        const color = Array.from(dataIn.data.slice(i, i + 4));\n        const mapped = (0,_palette_paletteMap__WEBPACK_IMPORTED_MODULE_0__.paletteMap)(color, colors, distFn);\n        for (let j = 0; j < 3; j++)\n            dataIn.data[i + j] = mapped[j];\n        if (i % (8 * line) === 0 && cbProgress)\n            cbProgress(i, size, dataIn);\n    }\n    return dataIn;\n};\nconst Basic = {\n    id: 'ProcBasic',\n    name: 'Basic (no dithering)',\n    procFn: processBasic,\n    maxAllowedPaletteSize: 65536,\n    supports: {\n        threads: false,\n        gamma: false // Unsupported\n    },\n    complexity: (n) => n\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Basic);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3Byb2Nlc3MvcHJvY2Vzc2VzL0Jhc2ljLnRzPzc2YjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQ0E7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFzQjtBQUN6QyxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBLHVCQUF1QiwrREFBVTtBQUNqQyx1QkFBdUIsT0FBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxLQUFLLEVBQUMiLCJmaWxlIjoiLi9zcmMvcHJvY2Vzcy9wcm9jZXNzZXMvQmFzaWMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYWxldHRlTWFwIH0gZnJvbSAnLi4vLi4vcGFsZXR0ZS9wYWxldHRlTWFwJztcbmltcG9ydCBQYWxldHRlVXRpbHMgZnJvbSAnLi4vLi4vcGFsZXR0ZS9QYWxldHRlVXRpbHMnO1xuY29uc3QgcHJvY2Vzc0Jhc2ljID0gKGRhdGFJbiwgcGFsZXR0ZSwgZGlzdEZuLCBmZWF0dXJlcywgY2JQcm9ncmVzcykgPT4ge1xuICAgIGNvbnN0IGxpbmUgPSBkYXRhSW4ud2lkdGggKiA0O1xuICAgIGNvbnN0IHNpemUgPSBkYXRhSW4ud2lkdGggKiBkYXRhSW4uaGVpZ2h0ICogNDtcbiAgICBjb25zdCBjb2xvcnMgPSBQYWxldHRlVXRpbHMuZ2V0Q29sb3JzKHBhbGV0dGUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSA0KSB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gQXJyYXkuZnJvbShkYXRhSW4uZGF0YS5zbGljZShpLCBpICsgNCkpO1xuICAgICAgICBjb25zdCBtYXBwZWQgPSBwYWxldHRlTWFwKGNvbG9yLCBjb2xvcnMsIGRpc3RGbik7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKVxuICAgICAgICAgICAgZGF0YUluLmRhdGFbaSArIGpdID0gbWFwcGVkW2pdO1xuICAgICAgICBpZiAoaSAlICg4ICogbGluZSkgPT09IDAgJiYgY2JQcm9ncmVzcylcbiAgICAgICAgICAgIGNiUHJvZ3Jlc3MoaSwgc2l6ZSwgZGF0YUluKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFJbjtcbn07XG5jb25zdCBCYXNpYyA9IHtcbiAgICBpZDogJ1Byb2NCYXNpYycsXG4gICAgbmFtZTogJ0Jhc2ljIChubyBkaXRoZXJpbmcpJyxcbiAgICBwcm9jRm46IHByb2Nlc3NCYXNpYyxcbiAgICBtYXhBbGxvd2VkUGFsZXR0ZVNpemU6IDY1NTM2LFxuICAgIHN1cHBvcnRzOiB7XG4gICAgICAgIHRocmVhZHM6IGZhbHNlLFxuICAgICAgICBnYW1tYTogZmFsc2UgLy8gVW5zdXBwb3J0ZWRcbiAgICB9LFxuICAgIGNvbXBsZXhpdHk6IChuKSA9PiBuXG59O1xuZXhwb3J0IGRlZmF1bHQgQmFzaWM7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/process/processes/Basic.ts\n");

/***/ }),

/***/ "./src/process/processes/BayerLike.ts":
/*!********************************************!*\
  !*** ./src/process/processes/BayerLike.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BayerLikeFast\": () => (/* binding */ BayerLikeFast),\n/* harmony export */   \"BayerLike\": () => (/* binding */ BayerLike)\n/* harmony export */ });\n/* harmony import */ var _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../palette/PaletteUtils */ \"./src/palette/PaletteUtils.ts\");\n\n// 8x8 threshold map\nconst threshold = [\n    0, 48, 12, 60, 3, 51, 15, 63,\n    32, 16, 44, 28, 35, 19, 47, 31,\n    8, 56, 4, 52, 11, 59, 7, 55,\n    40, 24, 36, 20, 43, 27, 39, 23,\n    2, 50, 14, 62, 1, 49, 13, 61,\n    34, 18, 46, 30, 33, 17, 45, 29,\n    10, 58, 6, 54, 9, 57, 5, 53,\n    42, 26, 38, 22, 41, 25, 37, 21\n].map(v => v / 64.0);\n// Weight function that determines the error for a given color mix\n// and target color, penalizing mixes where the components differ\n// too much\nfunction evalMixError(target, mix, compDist, rmh, distFn) {\n    return distFn(target, mix) + compDist * ((rmh < 0 ? -rmh : rmh) + 0.5);\n}\nfunction processBayer(fast = true) {\n    return (dataIn, palette, distFn, features, cbProgress) => {\n        const size = dataIn.width * dataIn.height * 4;\n        const line = dataIn.width * 4;\n        const colors = _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__.default.getColors(palette);\n        // Pre-calculate (weighted) distance between all permutations of two colors\n        // in the given palette, this saves us a few million distance calculations\n        const paletteDistances = {};\n        for (let i1 = 0; i1 < colors.length; i1++)\n            for (let i2 = i1; i2 < colors.length; i2++) {\n                const index = i1 * colors.length + i2; // A unique index\n                paletteDistances[index] = distFn(colors[i1], colors[i2]) * 0.1;\n            }\n        // Declare all heap-allocated variables to prevent unnecessary garbage collection\n        const mix = [0, 0, 0];\n        let color, cl1, cl2;\n        let bestMix;\n        for (let i = 0; i < size; i += 4) {\n            color = Array.from(dataIn.data.slice(i, i + 3));\n            const x = (i % line) / 4;\n            const y = ~~(i / line);\n            const mapValue = threshold[(x % 8) + (y % 8) * 8];\n            bestMix = { color1: [0, 0, 0], color2: color, ratio: 0.33 };\n            let minError = Number.MAX_VALUE;\n            for (let i1 = 0; i1 < colors.length; i1++)\n                for (let i2 = i1; i2 < colors.length; i2++) {\n                    cl1 = colors[i1];\n                    cl2 = colors[i2];\n                    if (fast) {\n                        // Fast approximation of the 'proper' algorithm\n                        let ratio = 32;\n                        if (i1 !== i2) {\n                            ratio = ((cl1[0] !== cl2[0] ? 299 * 64 * (color[0] - cl1[0]) / (cl2[0] - cl1[0]) : 0)\n                                + (cl1[1] !== cl2[1] ? 587 * 64 * (color[1] - cl1[1]) / (cl2[1] - cl1[1]) : 0)\n                                + (cl1[2] !== cl2[2] ? 114 * 64 * (color[2] - cl1[2]) / (cl2[2] - cl1[2]) : 0))\n                                / ((cl1[0] !== cl2[0] ? 299 : 0) + (cl1[1] !== cl2[1] ? 587 : 0) + (cl1[2] !== cl2[2] ? 114 : 0));\n                            if (ratio < 0)\n                                ratio = 0;\n                            else if (ratio > 63)\n                                ratio = 63;\n                            ratio = ~~ratio; // Fast floor (to integer)\n                        }\n                        const r64 = ratio / 64;\n                        for (let j = 0; j < 3; j++)\n                            mix[j] = cl1[j] + r64 * (cl2[j] - cl1[j]);\n                        // Get the distance between components we calculated earlier\n                        const dist = paletteDistances[i1 * colors.length + i2];\n                        const error = evalMixError(color, mix, dist, r64 - 0.5, distFn);\n                        if (error < minError) {\n                            minError = error;\n                            bestMix.color1 = cl1;\n                            bestMix.color2 = cl2;\n                            bestMix.ratio = r64;\n                        }\n                    }\n                    else {\n                        // Slow version using the more thorough iterative algorithm\n                        // This looks somewhat better, but is *much* slower\n                        for (let ratio = 0; ratio < 64; ratio++) {\n                            if (i1 === i2 && ratio > 0)\n                                break;\n                            const r64 = ratio / 64;\n                            for (let j = 0; j < 3; j++)\n                                mix[j] = cl1[j] + r64 * (cl2[j] - cl1[j]);\n                            // Get the distance between components we calculated earlier\n                            const dist = paletteDistances[i1 * colors.length + i2];\n                            const error = evalMixError(color, mix, dist, r64 - 0.5, distFn);\n                            if (error < minError) {\n                                minError = error;\n                                bestMix.color1 = cl1;\n                                bestMix.color2 = cl2;\n                                bestMix.ratio = r64;\n                            }\n                        }\n                    }\n                }\n            for (let j = 0; j < 3; j++)\n                dataIn.data[i + j] = mapValue < bestMix.ratio ?\n                    bestMix.color2[j] :\n                    bestMix.color1[j];\n            if (i % (line * 4) === 0 && cbProgress)\n                cbProgress(i, size, dataIn);\n        }\n        return dataIn;\n    };\n}\nconst BayerLikeFast = {\n    id: 'ProcBayerLikeFast',\n    name: 'Ordered (Bayer-like) – Fast',\n    procFn: processBayer(),\n    maxAllowedPaletteSize: 192,\n    supports: {\n        threads: true,\n        gamma: false // Not implemented\n    },\n    complexity: (n) => (n * n / 2) // O(n²/2)\n};\nconst BayerLike = {\n    id: 'ProcBayerLikeThorough',\n    name: 'Ordered (Bayer-like) – High Quality',\n    procFn: processBayer(false),\n    maxAllowedPaletteSize: 24,\n    supports: {\n        threads: true,\n        gamma: false // Not implemented\n    },\n    complexity: (n) => (n * n * 32) // O(n²/2 * 64)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3Byb2Nlc3MvcHJvY2Vzc2VzL0JheWVyTGlrZS50cz9kMjIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUMsNkJBQTZCLG9CQUFvQjtBQUNqRCxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFVBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQSw0QkFBNEIsb0JBQW9CO0FBQ2hELGlDQUFpQyxvQkFBb0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0EsdUNBQXVDLE9BQU87QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwiZmlsZSI6Ii4vc3JjL3Byb2Nlc3MvcHJvY2Vzc2VzL0JheWVyTGlrZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlVXRpbHMgZnJvbSAnLi4vLi4vcGFsZXR0ZS9QYWxldHRlVXRpbHMnO1xuLy8gOHg4IHRocmVzaG9sZCBtYXBcbmNvbnN0IHRocmVzaG9sZCA9IFtcbiAgICAwLCA0OCwgMTIsIDYwLCAzLCA1MSwgMTUsIDYzLFxuICAgIDMyLCAxNiwgNDQsIDI4LCAzNSwgMTksIDQ3LCAzMSxcbiAgICA4LCA1NiwgNCwgNTIsIDExLCA1OSwgNywgNTUsXG4gICAgNDAsIDI0LCAzNiwgMjAsIDQzLCAyNywgMzksIDIzLFxuICAgIDIsIDUwLCAxNCwgNjIsIDEsIDQ5LCAxMywgNjEsXG4gICAgMzQsIDE4LCA0NiwgMzAsIDMzLCAxNywgNDUsIDI5LFxuICAgIDEwLCA1OCwgNiwgNTQsIDksIDU3LCA1LCA1MyxcbiAgICA0MiwgMjYsIDM4LCAyMiwgNDEsIDI1LCAzNywgMjFcbl0ubWFwKHYgPT4gdiAvIDY0LjApO1xuLy8gV2VpZ2h0IGZ1bmN0aW9uIHRoYXQgZGV0ZXJtaW5lcyB0aGUgZXJyb3IgZm9yIGEgZ2l2ZW4gY29sb3IgbWl4XG4vLyBhbmQgdGFyZ2V0IGNvbG9yLCBwZW5hbGl6aW5nIG1peGVzIHdoZXJlIHRoZSBjb21wb25lbnRzIGRpZmZlclxuLy8gdG9vIG11Y2hcbmZ1bmN0aW9uIGV2YWxNaXhFcnJvcih0YXJnZXQsIG1peCwgY29tcERpc3QsIHJtaCwgZGlzdEZuKSB7XG4gICAgcmV0dXJuIGRpc3RGbih0YXJnZXQsIG1peCkgKyBjb21wRGlzdCAqICgocm1oIDwgMCA/IC1ybWggOiBybWgpICsgMC41KTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NCYXllcihmYXN0ID0gdHJ1ZSkge1xuICAgIHJldHVybiAoZGF0YUluLCBwYWxldHRlLCBkaXN0Rm4sIGZlYXR1cmVzLCBjYlByb2dyZXNzKSA9PiB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBkYXRhSW4ud2lkdGggKiBkYXRhSW4uaGVpZ2h0ICogNDtcbiAgICAgICAgY29uc3QgbGluZSA9IGRhdGFJbi53aWR0aCAqIDQ7XG4gICAgICAgIGNvbnN0IGNvbG9ycyA9IFBhbGV0dGVVdGlscy5nZXRDb2xvcnMocGFsZXR0ZSk7XG4gICAgICAgIC8vIFByZS1jYWxjdWxhdGUgKHdlaWdodGVkKSBkaXN0YW5jZSBiZXR3ZWVuIGFsbCBwZXJtdXRhdGlvbnMgb2YgdHdvIGNvbG9yc1xuICAgICAgICAvLyBpbiB0aGUgZ2l2ZW4gcGFsZXR0ZSwgdGhpcyBzYXZlcyB1cyBhIGZldyBtaWxsaW9uIGRpc3RhbmNlIGNhbGN1bGF0aW9uc1xuICAgICAgICBjb25zdCBwYWxldHRlRGlzdGFuY2VzID0ge307XG4gICAgICAgIGZvciAobGV0IGkxID0gMDsgaTEgPCBjb2xvcnMubGVuZ3RoOyBpMSsrKVxuICAgICAgICAgICAgZm9yIChsZXQgaTIgPSBpMTsgaTIgPCBjb2xvcnMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBpMSAqIGNvbG9ycy5sZW5ndGggKyBpMjsgLy8gQSB1bmlxdWUgaW5kZXhcbiAgICAgICAgICAgICAgICBwYWxldHRlRGlzdGFuY2VzW2luZGV4XSA9IGRpc3RGbihjb2xvcnNbaTFdLCBjb2xvcnNbaTJdKSAqIDAuMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gRGVjbGFyZSBhbGwgaGVhcC1hbGxvY2F0ZWQgdmFyaWFibGVzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgZ2FyYmFnZSBjb2xsZWN0aW9uXG4gICAgICAgIGNvbnN0IG1peCA9IFswLCAwLCAwXTtcbiAgICAgICAgbGV0IGNvbG9yLCBjbDEsIGNsMjtcbiAgICAgICAgbGV0IGJlc3RNaXg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSA0KSB7XG4gICAgICAgICAgICBjb2xvciA9IEFycmF5LmZyb20oZGF0YUluLmRhdGEuc2xpY2UoaSwgaSArIDMpKTtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoaSAlIGxpbmUpIC8gNDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSB+fihpIC8gbGluZSk7XG4gICAgICAgICAgICBjb25zdCBtYXBWYWx1ZSA9IHRocmVzaG9sZFsoeCAlIDgpICsgKHkgJSA4KSAqIDhdO1xuICAgICAgICAgICAgYmVzdE1peCA9IHsgY29sb3IxOiBbMCwgMCwgMF0sIGNvbG9yMjogY29sb3IsIHJhdGlvOiAwLjMzIH07XG4gICAgICAgICAgICBsZXQgbWluRXJyb3IgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICAgICAgZm9yIChsZXQgaTEgPSAwOyBpMSA8IGNvbG9ycy5sZW5ndGg7IGkxKyspXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSBpMTsgaTIgPCBjb2xvcnMubGVuZ3RoOyBpMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsMSA9IGNvbG9yc1tpMV07XG4gICAgICAgICAgICAgICAgICAgIGNsMiA9IGNvbG9yc1tpMl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYXN0IGFwcHJveGltYXRpb24gb2YgdGhlICdwcm9wZXInIGFsZ29yaXRobVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJhdGlvID0gMzI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaTEgIT09IGkyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW8gPSAoKGNsMVswXSAhPT0gY2wyWzBdID8gMjk5ICogNjQgKiAoY29sb3JbMF0gLSBjbDFbMF0pIC8gKGNsMlswXSAtIGNsMVswXSkgOiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIChjbDFbMV0gIT09IGNsMlsxXSA/IDU4NyAqIDY0ICogKGNvbG9yWzFdIC0gY2wxWzFdKSAvIChjbDJbMV0gLSBjbDFbMV0pIDogMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAoY2wxWzJdICE9PSBjbDJbMl0gPyAxMTQgKiA2NCAqIChjb2xvclsyXSAtIGNsMVsyXSkgLyAoY2wyWzJdIC0gY2wxWzJdKSA6IDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvICgoY2wxWzBdICE9PSBjbDJbMF0gPyAyOTkgOiAwKSArIChjbDFbMV0gIT09IGNsMlsxXSA/IDU4NyA6IDApICsgKGNsMVsyXSAhPT0gY2wyWzJdID8gMTE0IDogMCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYXRpbyA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGlvID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyYXRpbyA+IDYzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbyA9IDYzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGlvID0gfn5yYXRpbzsgLy8gRmFzdCBmbG9vciAodG8gaW50ZWdlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHI2NCA9IHJhdGlvIC8gNjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXhbal0gPSBjbDFbal0gKyByNjQgKiAoY2wyW2pdIC0gY2wxW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZGlzdGFuY2UgYmV0d2VlbiBjb21wb25lbnRzIHdlIGNhbGN1bGF0ZWQgZWFybGllclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IHBhbGV0dGVEaXN0YW5jZXNbaTEgKiBjb2xvcnMubGVuZ3RoICsgaTJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBldmFsTWl4RXJyb3IoY29sb3IsIG1peCwgZGlzdCwgcjY0IC0gMC41LCBkaXN0Rm4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIDwgbWluRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5FcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNaXguY29sb3IxID0gY2wxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNaXguY29sb3IyID0gY2wyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNaXgucmF0aW8gPSByNjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTbG93IHZlcnNpb24gdXNpbmcgdGhlIG1vcmUgdGhvcm91Z2ggaXRlcmF0aXZlIGFsZ29yaXRobVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBsb29rcyBzb21ld2hhdCBiZXR0ZXIsIGJ1dCBpcyAqbXVjaCogc2xvd2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByYXRpbyA9IDA7IHJhdGlvIDwgNjQ7IHJhdGlvKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaTEgPT09IGkyICYmIHJhdGlvID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcjY0ID0gcmF0aW8gLyA2NDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWl4W2pdID0gY2wxW2pdICsgcjY0ICogKGNsMltqXSAtIGNsMVtqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGNvbXBvbmVudHMgd2UgY2FsY3VsYXRlZCBlYXJsaWVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdCA9IHBhbGV0dGVEaXN0YW5jZXNbaTEgKiBjb2xvcnMubGVuZ3RoICsgaTJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZXZhbE1peEVycm9yKGNvbG9yLCBtaXgsIGRpc3QsIHI2NCAtIDAuNSwgZGlzdEZuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPCBtaW5FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5FcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWl4LmNvbG9yMSA9IGNsMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1peC5jb2xvcjIgPSBjbDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNaXgucmF0aW8gPSByNjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspXG4gICAgICAgICAgICAgICAgZGF0YUluLmRhdGFbaSArIGpdID0gbWFwVmFsdWUgPCBiZXN0TWl4LnJhdGlvID9cbiAgICAgICAgICAgICAgICAgICAgYmVzdE1peC5jb2xvcjJbal0gOlxuICAgICAgICAgICAgICAgICAgICBiZXN0TWl4LmNvbG9yMVtqXTtcbiAgICAgICAgICAgIGlmIChpICUgKGxpbmUgKiA0KSA9PT0gMCAmJiBjYlByb2dyZXNzKVxuICAgICAgICAgICAgICAgIGNiUHJvZ3Jlc3MoaSwgc2l6ZSwgZGF0YUluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YUluO1xuICAgIH07XG59XG5leHBvcnQgY29uc3QgQmF5ZXJMaWtlRmFzdCA9IHtcbiAgICBpZDogJ1Byb2NCYXllckxpa2VGYXN0JyxcbiAgICBuYW1lOiAnT3JkZXJlZCAoQmF5ZXItbGlrZSkg4oCTIEZhc3QnLFxuICAgIHByb2NGbjogcHJvY2Vzc0JheWVyKCksXG4gICAgbWF4QWxsb3dlZFBhbGV0dGVTaXplOiAxOTIsXG4gICAgc3VwcG9ydHM6IHtcbiAgICAgICAgdGhyZWFkczogdHJ1ZSxcbiAgICAgICAgZ2FtbWE6IGZhbHNlIC8vIE5vdCBpbXBsZW1lbnRlZFxuICAgIH0sXG4gICAgY29tcGxleGl0eTogKG4pID0+IChuICogbiAvIDIpIC8vIE8obsKyLzIpXG59O1xuZXhwb3J0IGNvbnN0IEJheWVyTGlrZSA9IHtcbiAgICBpZDogJ1Byb2NCYXllckxpa2VUaG9yb3VnaCcsXG4gICAgbmFtZTogJ09yZGVyZWQgKEJheWVyLWxpa2UpIOKAkyBIaWdoIFF1YWxpdHknLFxuICAgIHByb2NGbjogcHJvY2Vzc0JheWVyKGZhbHNlKSxcbiAgICBtYXhBbGxvd2VkUGFsZXR0ZVNpemU6IDI0LFxuICAgIHN1cHBvcnRzOiB7XG4gICAgICAgIHRocmVhZHM6IHRydWUsXG4gICAgICAgIGdhbW1hOiBmYWxzZSAvLyBOb3QgaW1wbGVtZW50ZWRcbiAgICB9LFxuICAgIGNvbXBsZXhpdHk6IChuKSA9PiAobiAqIG4gKiAzMikgLy8gTyhuwrIvMiAqIDY0KVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/process/processes/BayerLike.ts\n");

/***/ }),

/***/ "./src/process/processes/FloydSteinberg.ts":
/*!*************************************************!*\
  !*** ./src/process/processes/FloydSteinberg.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _color_CompareFn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../color/CompareFn */ \"./src/color/CompareFn.ts\");\n/* harmony import */ var _palette_paletteMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../palette/paletteMap */ \"./src/palette/paletteMap.ts\");\n/* harmony import */ var _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../palette/PaletteUtils */ \"./src/palette/PaletteUtils.ts\");\n/* harmony import */ var _utils_colorUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/colorUtils */ \"./src/utils/colorUtils.ts\");\n\n\n\n\nconst processFloydSteinberg = (dataIn, palette, distFn, features, cbProgress) => {\n    const size = dataIn.width * dataIn.height * 4;\n    const line = dataIn.width * 4;\n    const colors = _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_2__.default.getColors(palette);\n    if (features.gamma) {\n        for (let i = 0; i < size; i += 4) {\n            const linear = (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_3__.srgb2linear)(Array.from(dataIn.data.slice(i, i + 3)));\n            for (let j = 0; j < 3; j++)\n                dataIn.data[i + j] = linear[j];\n            if (i % (line * 4) === 0 && cbProgress)\n                cbProgress(i, size, dataIn);\n        }\n        for (let i = 0; i < colors.length; i++)\n            colors[i] = (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_3__.srgb2linear)(colors[i]);\n    }\n    for (let i = 0; i < size; i += 4) {\n        const color = Array.from(dataIn.data.slice(i, i + 3));\n        const mapped = (0,_palette_paletteMap__WEBPACK_IMPORTED_MODULE_1__.paletteMap)(color, colors, features.gamma ? _color_CompareFn__WEBPACK_IMPORTED_MODULE_0__.colDistLinearL : _color_CompareFn__WEBPACK_IMPORTED_MODULE_0__.colDistRGB);\n        for (let j = 0; j < 3; j++)\n            dataIn.data[i + j] = (features.gamma ? (0,_utils_colorUtils__WEBPACK_IMPORTED_MODULE_3__.linear2srgb)(mapped) : mapped)[j];\n        const error = color.map((ch, i) => ch - mapped[i]);\n        for (let j = 0; j < 3; j++) {\n            dataIn.data[i + 4 + j] += error[j] * 7 / 16;\n            dataIn.data[i + line - 4 + j] += error[j] * 3 / 16;\n            dataIn.data[i + line + j] += error[j] * 5 / 16;\n            dataIn.data[i + line + 4 + j] += error[j] * 1 / 16;\n        }\n        if (i % (4 * line) === 0 && cbProgress)\n            cbProgress(i, size, dataIn);\n    }\n    return dataIn;\n};\nconst FloydSteinberg = {\n    id: 'ProcFloydSteinberg',\n    name: 'Floyd–Steinberg',\n    procFn: processFloydSteinberg,\n    maxAllowedPaletteSize: 65536,\n    supports: {\n        threads: false,\n        gamma: true\n    },\n    complexity: (n) => n\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FloydSteinberg);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3Byb2Nlc3MvcHJvY2Vzc2VzL0Zsb3lkU3RlaW5iZXJnLnRzPzA5YmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUU7QUFDYjtBQUNBO0FBQ1k7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFzQjtBQUN6QztBQUNBLHVCQUF1QixVQUFVO0FBQ2pDLDJCQUEyQiw4REFBVztBQUN0QywyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUMsd0JBQXdCLDhEQUFXO0FBQ25DO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQSx1QkFBdUIsK0RBQVUsaUNBQWlDLDREQUFjLEdBQUcsd0RBQVU7QUFDN0YsdUJBQXVCLE9BQU87QUFDOUIsbURBQW1ELDhEQUFXO0FBQzlEO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxjQUFjLEVBQUMiLCJmaWxlIjoiLi9zcmMvcHJvY2Vzcy9wcm9jZXNzZXMvRmxveWRTdGVpbmJlcmcudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb2xEaXN0TGluZWFyTCwgY29sRGlzdFJHQiB9IGZyb20gJy4uLy4uL2NvbG9yL0NvbXBhcmVGbic7XG5pbXBvcnQgeyBwYWxldHRlTWFwIH0gZnJvbSAnLi4vLi4vcGFsZXR0ZS9wYWxldHRlTWFwJztcbmltcG9ydCBQYWxldHRlVXRpbHMgZnJvbSAnLi4vLi4vcGFsZXR0ZS9QYWxldHRlVXRpbHMnO1xuaW1wb3J0IHsgbGluZWFyMnNyZ2IsIHNyZ2IybGluZWFyIH0gZnJvbSAnLi4vLi4vdXRpbHMvY29sb3JVdGlscyc7XG5jb25zdCBwcm9jZXNzRmxveWRTdGVpbmJlcmcgPSAoZGF0YUluLCBwYWxldHRlLCBkaXN0Rm4sIGZlYXR1cmVzLCBjYlByb2dyZXNzKSA9PiB7XG4gICAgY29uc3Qgc2l6ZSA9IGRhdGFJbi53aWR0aCAqIGRhdGFJbi5oZWlnaHQgKiA0O1xuICAgIGNvbnN0IGxpbmUgPSBkYXRhSW4ud2lkdGggKiA0O1xuICAgIGNvbnN0IGNvbG9ycyA9IFBhbGV0dGVVdGlscy5nZXRDb2xvcnMocGFsZXR0ZSk7XG4gICAgaWYgKGZlYXR1cmVzLmdhbW1hKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSArPSA0KSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lYXIgPSBzcmdiMmxpbmVhcihBcnJheS5mcm9tKGRhdGFJbi5kYXRhLnNsaWNlKGksIGkgKyAzKSkpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspXG4gICAgICAgICAgICAgICAgZGF0YUluLmRhdGFbaSArIGpdID0gbGluZWFyW2pdO1xuICAgICAgICAgICAgaWYgKGkgJSAobGluZSAqIDQpID09PSAwICYmIGNiUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgY2JQcm9ncmVzcyhpLCBzaXplLCBkYXRhSW4pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29sb3JzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgY29sb3JzW2ldID0gc3JnYjJsaW5lYXIoY29sb3JzW2ldKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IDQpIHtcbiAgICAgICAgY29uc3QgY29sb3IgPSBBcnJheS5mcm9tKGRhdGFJbi5kYXRhLnNsaWNlKGksIGkgKyAzKSk7XG4gICAgICAgIGNvbnN0IG1hcHBlZCA9IHBhbGV0dGVNYXAoY29sb3IsIGNvbG9ycywgZmVhdHVyZXMuZ2FtbWEgPyBjb2xEaXN0TGluZWFyTCA6IGNvbERpc3RSR0IpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKylcbiAgICAgICAgICAgIGRhdGFJbi5kYXRhW2kgKyBqXSA9IChmZWF0dXJlcy5nYW1tYSA/IGxpbmVhcjJzcmdiKG1hcHBlZCkgOiBtYXBwZWQpW2pdO1xuICAgICAgICBjb25zdCBlcnJvciA9IGNvbG9yLm1hcCgoY2gsIGkpID0+IGNoIC0gbWFwcGVkW2ldKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgICAgIGRhdGFJbi5kYXRhW2kgKyA0ICsgal0gKz0gZXJyb3Jbal0gKiA3IC8gMTY7XG4gICAgICAgICAgICBkYXRhSW4uZGF0YVtpICsgbGluZSAtIDQgKyBqXSArPSBlcnJvcltqXSAqIDMgLyAxNjtcbiAgICAgICAgICAgIGRhdGFJbi5kYXRhW2kgKyBsaW5lICsgal0gKz0gZXJyb3Jbal0gKiA1IC8gMTY7XG4gICAgICAgICAgICBkYXRhSW4uZGF0YVtpICsgbGluZSArIDQgKyBqXSArPSBlcnJvcltqXSAqIDEgLyAxNjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSAlICg0ICogbGluZSkgPT09IDAgJiYgY2JQcm9ncmVzcylcbiAgICAgICAgICAgIGNiUHJvZ3Jlc3MoaSwgc2l6ZSwgZGF0YUluKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFJbjtcbn07XG5jb25zdCBGbG95ZFN0ZWluYmVyZyA9IHtcbiAgICBpZDogJ1Byb2NGbG95ZFN0ZWluYmVyZycsXG4gICAgbmFtZTogJ0Zsb3lk4oCTU3RlaW5iZXJnJyxcbiAgICBwcm9jRm46IHByb2Nlc3NGbG95ZFN0ZWluYmVyZyxcbiAgICBtYXhBbGxvd2VkUGFsZXR0ZVNpemU6IDY1NTM2LFxuICAgIHN1cHBvcnRzOiB7XG4gICAgICAgIHRocmVhZHM6IGZhbHNlLFxuICAgICAgICBnYW1tYTogdHJ1ZVxuICAgIH0sXG4gICAgY29tcGxleGl0eTogKG4pID0+IG5cbn07XG5leHBvcnQgZGVmYXVsdCBGbG95ZFN0ZWluYmVyZztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/process/processes/FloydSteinberg.ts\n");

/***/ }),

/***/ "./src/process/processes/Weighted.ts":
/*!*******************************************!*\
  !*** ./src/process/processes/Weighted.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../palette/PaletteUtils */ \"./src/palette/PaletteUtils.ts\");\n/* harmony import */ var _utils_gamma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/gamma */ \"./src/utils/gamma.ts\");\n\n\n// 8x8 threshold map\nconst threshold = [\n    0, 48, 12, 60, 3, 51, 15, 63,\n    32, 16, 44, 28, 35, 19, 47, 31,\n    8, 56, 4, 52, 11, 59, 7, 55,\n    40, 24, 36, 20, 43, 27, 39, 23,\n    2, 50, 14, 62, 1, 49, 13, 61,\n    34, 18, 46, 30, 33, 17, 45, 29,\n    10, 58, 6, 54, 9, 57, 5, 53,\n    42, 26, 38, 22, 41, 25, 37, 21\n].map(v => v / 64.0);\nconst processWeightedColormap = (dataIn, palette, distFn, features, cbProgress) => {\n    const size = dataIn.width * dataIn.height * 4;\n    const line = dataIn.width * 4;\n    const candidates = [];\n    let color, pColor;\n    let colorSum, avgWithCandidate;\n    const test = [0, 0, 0];\n    // Precalculate luminance table and gamma-corrected palette\n    const luma = _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__.default.getColors(palette)\n        .map(color => color[0] * 299 + color[1] * 587 + color[2] * 114);\n    const colors = _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__.default.getColors((features.gamma) ?\n        _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__.default.transform(palette, _utils_gamma__WEBPACK_IMPORTED_MODULE_1__.gammaCorrect)\n        : palette);\n    for (let i = 0; i < size; i += 4) {\n        color = Array.from(dataIn.data.slice(i, i + 4));\n        const x = (i % line) / 4;\n        const y = ~~(i / line);\n        candidates.splice(0); // Colors that may be used, weighted by repetition\n        colorSum = [0, 0, 0]; // Accumulating sum of all candidates, gamma corrected\n        while (candidates.length < 16) {\n            let candidate = 0; // Candidate to add\n            let weight = 1;\n            let minError = Number.MAX_VALUE;\n            // Max weight for a new candidate increases with number/weight of candidates\n            const maxWeight = (candidates.length || 1);\n            // Pick best color in palette as new candidate\n            for (let p = 0; p < colors.length; p++) {\n                pColor = [...colors[p]];\n                avgWithCandidate = [...colorSum];\n                for (let add = 1; add <= maxWeight; add *= 2) {\n                    // Sum if the candidate was added with its current weight (gamma -> standard)\n                    const div = candidates.length + add;\n                    for (let j = 0; j < 3; j++) {\n                        avgWithCandidate[j] = colorSum[j] + pColor[j] * add;\n                        test[j] = avgWithCandidate[j] / div;\n                        if (features.gamma)\n                            test[j] = (0,_utils_gamma__WEBPACK_IMPORTED_MODULE_1__.gammaUncorrectMC)(test[j]);\n                    }\n                    // Error with this candidate and weight\n                    const error = distFn(test, color);\n                    if (error < minError) {\n                        weight = add;\n                        candidate = p;\n                        minError = error;\n                    }\n                }\n            }\n            for (let j = 0; j < weight; j++)\n                candidates.push(candidate);\n            for (let j = 0; j < 3; j++)\n                colorSum[j] += colors[candidate][j] * weight;\n        }\n        candidates.sort((a, b) => luma[a] - luma[b]);\n        const index = ~~(threshold[(x % 8) + (y % 8) * 8] * candidates.length);\n        for (let j = 0; j < 3; j++)\n            dataIn.data[i + j] = _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__.default.getColor(palette, candidates[index])[j];\n        if (i % (4 * line) === 0 && cbProgress)\n            cbProgress(i, size, dataIn);\n    }\n    return dataIn;\n};\nconst WeightedColorMap = {\n    id: 'ProcWeightedColorMap',\n    name: 'Ordered (Weighted Color Map)',\n    procFn: processWeightedColormap,\n    maxAllowedPaletteSize: 256,\n    supports: {\n        threads: true,\n        gamma: true\n    },\n    complexity: (n) => (n * 384) // Based on worst case of O(n * 64 * log₂64), actual execution should be much faster\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WeightedColorMap);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3Byb2Nlc3MvcHJvY2Vzc2VzL1dlaWdodGVkLnRzPzA2NmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQ2E7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQXNCO0FBQ3ZDO0FBQ0EsbUJBQW1CLG9FQUFzQjtBQUN6QyxRQUFRLG9FQUFzQixVQUFVLHNEQUFZO0FBQ3BEO0FBQ0EsbUJBQW1CLFVBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3QjtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1CQUFtQjtBQUM5QztBQUNBO0FBQ0EsaUNBQWlDLGtCQUFrQjtBQUNuRDtBQUNBO0FBQ0EsbUNBQW1DLE9BQU87QUFDMUM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDhEQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixZQUFZO0FBQ3ZDO0FBQ0EsMkJBQTJCLE9BQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsT0FBTztBQUM5QixpQ0FBaUMsbUVBQXFCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpRUFBZSxnQkFBZ0IsRUFBQyIsImZpbGUiOiIuL3NyYy9wcm9jZXNzL3Byb2Nlc3Nlcy9XZWlnaHRlZC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYWxldHRlVXRpbHMgZnJvbSAnLi4vLi4vcGFsZXR0ZS9QYWxldHRlVXRpbHMnO1xuaW1wb3J0IHsgZ2FtbWFDb3JyZWN0LCBnYW1tYVVuY29ycmVjdE1DIH0gZnJvbSAnLi4vLi4vdXRpbHMvZ2FtbWEnO1xuLy8gOHg4IHRocmVzaG9sZCBtYXBcbmNvbnN0IHRocmVzaG9sZCA9IFtcbiAgICAwLCA0OCwgMTIsIDYwLCAzLCA1MSwgMTUsIDYzLFxuICAgIDMyLCAxNiwgNDQsIDI4LCAzNSwgMTksIDQ3LCAzMSxcbiAgICA4LCA1NiwgNCwgNTIsIDExLCA1OSwgNywgNTUsXG4gICAgNDAsIDI0LCAzNiwgMjAsIDQzLCAyNywgMzksIDIzLFxuICAgIDIsIDUwLCAxNCwgNjIsIDEsIDQ5LCAxMywgNjEsXG4gICAgMzQsIDE4LCA0NiwgMzAsIDMzLCAxNywgNDUsIDI5LFxuICAgIDEwLCA1OCwgNiwgNTQsIDksIDU3LCA1LCA1MyxcbiAgICA0MiwgMjYsIDM4LCAyMiwgNDEsIDI1LCAzNywgMjFcbl0ubWFwKHYgPT4gdiAvIDY0LjApO1xuY29uc3QgcHJvY2Vzc1dlaWdodGVkQ29sb3JtYXAgPSAoZGF0YUluLCBwYWxldHRlLCBkaXN0Rm4sIGZlYXR1cmVzLCBjYlByb2dyZXNzKSA9PiB7XG4gICAgY29uc3Qgc2l6ZSA9IGRhdGFJbi53aWR0aCAqIGRhdGFJbi5oZWlnaHQgKiA0O1xuICAgIGNvbnN0IGxpbmUgPSBkYXRhSW4ud2lkdGggKiA0O1xuICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBbXTtcbiAgICBsZXQgY29sb3IsIHBDb2xvcjtcbiAgICBsZXQgY29sb3JTdW0sIGF2Z1dpdGhDYW5kaWRhdGU7XG4gICAgY29uc3QgdGVzdCA9IFswLCAwLCAwXTtcbiAgICAvLyBQcmVjYWxjdWxhdGUgbHVtaW5hbmNlIHRhYmxlIGFuZCBnYW1tYS1jb3JyZWN0ZWQgcGFsZXR0ZVxuICAgIGNvbnN0IGx1bWEgPSBQYWxldHRlVXRpbHMuZ2V0Q29sb3JzKHBhbGV0dGUpXG4gICAgICAgIC5tYXAoY29sb3IgPT4gY29sb3JbMF0gKiAyOTkgKyBjb2xvclsxXSAqIDU4NyArIGNvbG9yWzJdICogMTE0KTtcbiAgICBjb25zdCBjb2xvcnMgPSBQYWxldHRlVXRpbHMuZ2V0Q29sb3JzKChmZWF0dXJlcy5nYW1tYSkgP1xuICAgICAgICBQYWxldHRlVXRpbHMudHJhbnNmb3JtKHBhbGV0dGUsIGdhbW1hQ29ycmVjdClcbiAgICAgICAgOiBwYWxldHRlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkgKz0gNCkge1xuICAgICAgICBjb2xvciA9IEFycmF5LmZyb20oZGF0YUluLmRhdGEuc2xpY2UoaSwgaSArIDQpKTtcbiAgICAgICAgY29uc3QgeCA9IChpICUgbGluZSkgLyA0O1xuICAgICAgICBjb25zdCB5ID0gfn4oaSAvIGxpbmUpO1xuICAgICAgICBjYW5kaWRhdGVzLnNwbGljZSgwKTsgLy8gQ29sb3JzIHRoYXQgbWF5IGJlIHVzZWQsIHdlaWdodGVkIGJ5IHJlcGV0aXRpb25cbiAgICAgICAgY29sb3JTdW0gPSBbMCwgMCwgMF07IC8vIEFjY3VtdWxhdGluZyBzdW0gb2YgYWxsIGNhbmRpZGF0ZXMsIGdhbW1hIGNvcnJlY3RlZFxuICAgICAgICB3aGlsZSAoY2FuZGlkYXRlcy5sZW5ndGggPCAxNikge1xuICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZSA9IDA7IC8vIENhbmRpZGF0ZSB0byBhZGRcbiAgICAgICAgICAgIGxldCB3ZWlnaHQgPSAxO1xuICAgICAgICAgICAgbGV0IG1pbkVycm9yID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICAgIC8vIE1heCB3ZWlnaHQgZm9yIGEgbmV3IGNhbmRpZGF0ZSBpbmNyZWFzZXMgd2l0aCBudW1iZXIvd2VpZ2h0IG9mIGNhbmRpZGF0ZXNcbiAgICAgICAgICAgIGNvbnN0IG1heFdlaWdodCA9IChjYW5kaWRhdGVzLmxlbmd0aCB8fCAxKTtcbiAgICAgICAgICAgIC8vIFBpY2sgYmVzdCBjb2xvciBpbiBwYWxldHRlIGFzIG5ldyBjYW5kaWRhdGVcbiAgICAgICAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgY29sb3JzLmxlbmd0aDsgcCsrKSB7XG4gICAgICAgICAgICAgICAgcENvbG9yID0gWy4uLmNvbG9yc1twXV07XG4gICAgICAgICAgICAgICAgYXZnV2l0aENhbmRpZGF0ZSA9IFsuLi5jb2xvclN1bV07XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYWRkID0gMTsgYWRkIDw9IG1heFdlaWdodDsgYWRkICo9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VtIGlmIHRoZSBjYW5kaWRhdGUgd2FzIGFkZGVkIHdpdGggaXRzIGN1cnJlbnQgd2VpZ2h0IChnYW1tYSAtPiBzdGFuZGFyZClcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gY2FuZGlkYXRlcy5sZW5ndGggKyBhZGQ7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmdXaXRoQ2FuZGlkYXRlW2pdID0gY29sb3JTdW1bal0gKyBwQ29sb3Jbal0gKiBhZGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0W2pdID0gYXZnV2l0aENhbmRpZGF0ZVtqXSAvIGRpdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZWF0dXJlcy5nYW1tYSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0W2pdID0gZ2FtbWFVbmNvcnJlY3RNQyh0ZXN0W2pdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBFcnJvciB3aXRoIHRoaXMgY2FuZGlkYXRlIGFuZCB3ZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBkaXN0Rm4odGVzdCwgY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPCBtaW5FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0ID0gYWRkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuZGlkYXRlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHdlaWdodDsgaisrKVxuICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMucHVzaChjYW5kaWRhdGUpO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspXG4gICAgICAgICAgICAgICAgY29sb3JTdW1bal0gKz0gY29sb3JzW2NhbmRpZGF0ZV1bal0gKiB3ZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgY2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiBsdW1hW2FdIC0gbHVtYVtiXSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gfn4odGhyZXNob2xkWyh4ICUgOCkgKyAoeSAlIDgpICogOF0gKiBjYW5kaWRhdGVzLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMzsgaisrKVxuICAgICAgICAgICAgZGF0YUluLmRhdGFbaSArIGpdID0gUGFsZXR0ZVV0aWxzLmdldENvbG9yKHBhbGV0dGUsIGNhbmRpZGF0ZXNbaW5kZXhdKVtqXTtcbiAgICAgICAgaWYgKGkgJSAoNCAqIGxpbmUpID09PSAwICYmIGNiUHJvZ3Jlc3MpXG4gICAgICAgICAgICBjYlByb2dyZXNzKGksIHNpemUsIGRhdGFJbik7XG4gICAgfVxuICAgIHJldHVybiBkYXRhSW47XG59O1xuY29uc3QgV2VpZ2h0ZWRDb2xvck1hcCA9IHtcbiAgICBpZDogJ1Byb2NXZWlnaHRlZENvbG9yTWFwJyxcbiAgICBuYW1lOiAnT3JkZXJlZCAoV2VpZ2h0ZWQgQ29sb3IgTWFwKScsXG4gICAgcHJvY0ZuOiBwcm9jZXNzV2VpZ2h0ZWRDb2xvcm1hcCxcbiAgICBtYXhBbGxvd2VkUGFsZXR0ZVNpemU6IDI1NixcbiAgICBzdXBwb3J0czoge1xuICAgICAgICB0aHJlYWRzOiB0cnVlLFxuICAgICAgICBnYW1tYTogdHJ1ZVxuICAgIH0sXG4gICAgY29tcGxleGl0eTogKG4pID0+IChuICogMzg0KSAvLyBCYXNlZCBvbiB3b3JzdCBjYXNlIG9mIE8obiAqIDY0ICogbG9n4oKCNjQpLCBhY3R1YWwgZXhlY3V0aW9uIHNob3VsZCBiZSBtdWNoIGZhc3RlclxufTtcbmV4cG9ydCBkZWZhdWx0IFdlaWdodGVkQ29sb3JNYXA7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/process/processes/Weighted.ts\n");

/***/ }),

/***/ "./src/utils/colorUtils.ts":
/*!*********************************!*\
  !*** ./src/utils/colorUtils.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"luma_srgb\": () => (/* binding */ luma_srgb),\n/* harmony export */   \"luma_linear\": () => (/* binding */ luma_linear),\n/* harmony export */   \"srgb2linear\": () => (/* binding */ srgb2linear),\n/* harmony export */   \"linear2srgb\": () => (/* binding */ linear2srgb),\n/* harmony export */   \"srgb2xyz\": () => (/* binding */ srgb2xyz),\n/* harmony export */   \"xyz2srgb\": () => (/* binding */ xyz2srgb),\n/* harmony export */   \"xyz2lab\": () => (/* binding */ xyz2lab),\n/* harmony export */   \"lab2xyz\": () => (/* binding */ lab2xyz),\n/* harmony export */   \"srgb2lab\": () => (/* binding */ srgb2lab),\n/* harmony export */   \"lab2srgb\": () => (/* binding */ lab2srgb)\n/* harmony export */ });\n// Utility functions specific to color handling\n// There are enough of these to put in a separate file\n// Formula reference: http://www.easyrgb.com/en/math.php\n// All conversions use a D65/2° standard illuminant where applicable\n// Gets luminance for a color in sRGB\nfunction luma_srgb(rgb) {\n    return (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / (255.0 * 1000);\n}\nfunction luma_linear(lrgb) {\n    return lrgb[0] * 0.2126 + lrgb[1] * 0.7152 + lrgb[2] * 0.0722;\n}\n// Converts sRGB to linear RGB\nfunction srgb2linear(rgb, gamma = 2.2) {\n    return rgb.map(val => {\n        let vNew = val / 255.0;\n        vNew = (vNew > 0.04045) ?\n            Math.pow((vNew + 0.055) / 1.055, gamma) :\n            vNew / 12.92;\n        return vNew * 100;\n    });\n}\n// Converts linear RGB to sRGB\nfunction linear2srgb(lrgb, gamma = 2.2) {\n    return lrgb.map(val => {\n        let vNew = val / 100.0;\n        vNew = (vNew > 0.0031308) ?\n            1.055 * Math.pow(vNew, 1 / gamma) - 0.055 :\n            vNew * 12.92;\n        return ~~(vNew * 255);\n    });\n}\n// Converts sRGB to XYZ color space\nfunction srgb2xyz(rgb, gamma = 2.2) {\n    const lrgb = srgb2linear(rgb, gamma);\n    return [\n        lrgb[0] * 0.4124 + lrgb[1] * 0.3576 + lrgb[2] * 0.1805,\n        lrgb[0] * 0.2126 + lrgb[1] * 0.7152 + lrgb[2] * 0.0722,\n        lrgb[0] * 0.0193 + lrgb[1] * 0.1192 + lrgb[2] * 0.9505 // Z\n    ];\n}\n// Converts XYZ color space to sRGB\nfunction xyz2srgb(xyz, gamma = 2.2) {\n    const lrgb = [\n        xyz[0] * 3.2406 + xyz[1] * -1.5372 + xyz[2] * -0.4986,\n        xyz[0] * -0.9689 + xyz[1] * 1.8758 + xyz[2] * 0.0415,\n        xyz[0] * 0.0557 + xyz[1] * -0.2040 + xyz[2] * 1.0570\n    ];\n    return linear2srgb(lrgb, gamma);\n}\n// Converts XYZ color to CIE-L*ab\nfunction xyz2lab(xyz) {\n    let ixyz = [\n        xyz[0] * 95.047,\n        xyz[1] * 100.000,\n        xyz[2] * 108.883\n    ];\n    ixyz = ixyz.map(val => (val > 0.008856) ?\n        Math.pow(val, 1 / 3) :\n        (val * 7.787) + (16 / 116));\n    return [\n        (116 * ixyz[1]) - 16,\n        500 * (ixyz[0] - ixyz[1]),\n        200 * (ixyz[1] - ixyz[2]) // b\n    ];\n}\n// Converts CIE-L*ab to XYZ color\nfunction lab2xyz(lab) {\n    const iy = (lab[0] + 16) / 116;\n    let ixyz = [\n        lab[1] / 500 + iy,\n        iy,\n        iy - (lab[2] / 200)\n    ];\n    ixyz = ixyz.map(val => {\n        const cubed = Math.pow(val, 3);\n        return (cubed > 0.008856) ?\n            cubed :\n            (val - 16 / 116) / 7.787;\n    });\n    return [\n        ixyz[0] * 95.047,\n        ixyz[1] * 100.000,\n        ixyz[2] * 108.883\n    ];\n}\n// Converts sRGB to CIE-L*ab\nfunction srgb2lab(rgb, gamma = 2.2) {\n    return xyz2lab(srgb2xyz(rgb, gamma));\n}\n// Converts CIE-L*ab to sRGB\nfunction lab2srgb(rgb, gamma = 2.2) {\n    return xyz2srgb(lab2xyz(rgb), gamma);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3V0aWxzL2NvbG9yVXRpbHMudHM/NTFiZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBIiwiZmlsZSI6Ii4vc3JjL3V0aWxzL2NvbG9yVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVdGlsaXR5IGZ1bmN0aW9ucyBzcGVjaWZpYyB0byBjb2xvciBoYW5kbGluZ1xuLy8gVGhlcmUgYXJlIGVub3VnaCBvZiB0aGVzZSB0byBwdXQgaW4gYSBzZXBhcmF0ZSBmaWxlXG4vLyBGb3JtdWxhIHJlZmVyZW5jZTogaHR0cDovL3d3dy5lYXN5cmdiLmNvbS9lbi9tYXRoLnBocFxuLy8gQWxsIGNvbnZlcnNpb25zIHVzZSBhIEQ2NS8ywrAgc3RhbmRhcmQgaWxsdW1pbmFudCB3aGVyZSBhcHBsaWNhYmxlXG4vLyBHZXRzIGx1bWluYW5jZSBmb3IgYSBjb2xvciBpbiBzUkdCXG5leHBvcnQgZnVuY3Rpb24gbHVtYV9zcmdiKHJnYikge1xuICAgIHJldHVybiAocmdiWzBdICogMjk5ICsgcmdiWzFdICogNTg3ICsgcmdiWzJdICogMTE0KSAvICgyNTUuMCAqIDEwMDApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGx1bWFfbGluZWFyKGxyZ2IpIHtcbiAgICByZXR1cm4gbHJnYlswXSAqIDAuMjEyNiArIGxyZ2JbMV0gKiAwLjcxNTIgKyBscmdiWzJdICogMC4wNzIyO1xufVxuLy8gQ29udmVydHMgc1JHQiB0byBsaW5lYXIgUkdCXG5leHBvcnQgZnVuY3Rpb24gc3JnYjJsaW5lYXIocmdiLCBnYW1tYSA9IDIuMikge1xuICAgIHJldHVybiByZ2IubWFwKHZhbCA9PiB7XG4gICAgICAgIGxldCB2TmV3ID0gdmFsIC8gMjU1LjA7XG4gICAgICAgIHZOZXcgPSAodk5ldyA+IDAuMDQwNDUpID9cbiAgICAgICAgICAgIE1hdGgucG93KCh2TmV3ICsgMC4wNTUpIC8gMS4wNTUsIGdhbW1hKSA6XG4gICAgICAgICAgICB2TmV3IC8gMTIuOTI7XG4gICAgICAgIHJldHVybiB2TmV3ICogMTAwO1xuICAgIH0pO1xufVxuLy8gQ29udmVydHMgbGluZWFyIFJHQiB0byBzUkdCXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyMnNyZ2IobHJnYiwgZ2FtbWEgPSAyLjIpIHtcbiAgICByZXR1cm4gbHJnYi5tYXAodmFsID0+IHtcbiAgICAgICAgbGV0IHZOZXcgPSB2YWwgLyAxMDAuMDtcbiAgICAgICAgdk5ldyA9ICh2TmV3ID4gMC4wMDMxMzA4KSA/XG4gICAgICAgICAgICAxLjA1NSAqIE1hdGgucG93KHZOZXcsIDEgLyBnYW1tYSkgLSAwLjA1NSA6XG4gICAgICAgICAgICB2TmV3ICogMTIuOTI7XG4gICAgICAgIHJldHVybiB+fih2TmV3ICogMjU1KTtcbiAgICB9KTtcbn1cbi8vIENvbnZlcnRzIHNSR0IgdG8gWFlaIGNvbG9yIHNwYWNlXG5leHBvcnQgZnVuY3Rpb24gc3JnYjJ4eXoocmdiLCBnYW1tYSA9IDIuMikge1xuICAgIGNvbnN0IGxyZ2IgPSBzcmdiMmxpbmVhcihyZ2IsIGdhbW1hKTtcbiAgICByZXR1cm4gW1xuICAgICAgICBscmdiWzBdICogMC40MTI0ICsgbHJnYlsxXSAqIDAuMzU3NiArIGxyZ2JbMl0gKiAwLjE4MDUsXG4gICAgICAgIGxyZ2JbMF0gKiAwLjIxMjYgKyBscmdiWzFdICogMC43MTUyICsgbHJnYlsyXSAqIDAuMDcyMixcbiAgICAgICAgbHJnYlswXSAqIDAuMDE5MyArIGxyZ2JbMV0gKiAwLjExOTIgKyBscmdiWzJdICogMC45NTA1IC8vIFpcbiAgICBdO1xufVxuLy8gQ29udmVydHMgWFlaIGNvbG9yIHNwYWNlIHRvIHNSR0JcbmV4cG9ydCBmdW5jdGlvbiB4eXoyc3JnYih4eXosIGdhbW1hID0gMi4yKSB7XG4gICAgY29uc3QgbHJnYiA9IFtcbiAgICAgICAgeHl6WzBdICogMy4yNDA2ICsgeHl6WzFdICogLTEuNTM3MiArIHh5elsyXSAqIC0wLjQ5ODYsXG4gICAgICAgIHh5elswXSAqIC0wLjk2ODkgKyB4eXpbMV0gKiAxLjg3NTggKyB4eXpbMl0gKiAwLjA0MTUsXG4gICAgICAgIHh5elswXSAqIDAuMDU1NyArIHh5elsxXSAqIC0wLjIwNDAgKyB4eXpbMl0gKiAxLjA1NzBcbiAgICBdO1xuICAgIHJldHVybiBsaW5lYXIyc3JnYihscmdiLCBnYW1tYSk7XG59XG4vLyBDb252ZXJ0cyBYWVogY29sb3IgdG8gQ0lFLUwqYWJcbmV4cG9ydCBmdW5jdGlvbiB4eXoybGFiKHh5eikge1xuICAgIGxldCBpeHl6ID0gW1xuICAgICAgICB4eXpbMF0gKiA5NS4wNDcsXG4gICAgICAgIHh5elsxXSAqIDEwMC4wMDAsXG4gICAgICAgIHh5elsyXSAqIDEwOC44ODNcbiAgICBdO1xuICAgIGl4eXogPSBpeHl6Lm1hcCh2YWwgPT4gKHZhbCA+IDAuMDA4ODU2KSA/XG4gICAgICAgIE1hdGgucG93KHZhbCwgMSAvIDMpIDpcbiAgICAgICAgKHZhbCAqIDcuNzg3KSArICgxNiAvIDExNikpO1xuICAgIHJldHVybiBbXG4gICAgICAgICgxMTYgKiBpeHl6WzFdKSAtIDE2LFxuICAgICAgICA1MDAgKiAoaXh5elswXSAtIGl4eXpbMV0pLFxuICAgICAgICAyMDAgKiAoaXh5elsxXSAtIGl4eXpbMl0pIC8vIGJcbiAgICBdO1xufVxuLy8gQ29udmVydHMgQ0lFLUwqYWIgdG8gWFlaIGNvbG9yXG5leHBvcnQgZnVuY3Rpb24gbGFiMnh5eihsYWIpIHtcbiAgICBjb25zdCBpeSA9IChsYWJbMF0gKyAxNikgLyAxMTY7XG4gICAgbGV0IGl4eXogPSBbXG4gICAgICAgIGxhYlsxXSAvIDUwMCArIGl5LFxuICAgICAgICBpeSxcbiAgICAgICAgaXkgLSAobGFiWzJdIC8gMjAwKVxuICAgIF07XG4gICAgaXh5eiA9IGl4eXoubWFwKHZhbCA9PiB7XG4gICAgICAgIGNvbnN0IGN1YmVkID0gTWF0aC5wb3codmFsLCAzKTtcbiAgICAgICAgcmV0dXJuIChjdWJlZCA+IDAuMDA4ODU2KSA/XG4gICAgICAgICAgICBjdWJlZCA6XG4gICAgICAgICAgICAodmFsIC0gMTYgLyAxMTYpIC8gNy43ODc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgaXh5elswXSAqIDk1LjA0NyxcbiAgICAgICAgaXh5elsxXSAqIDEwMC4wMDAsXG4gICAgICAgIGl4eXpbMl0gKiAxMDguODgzXG4gICAgXTtcbn1cbi8vIENvbnZlcnRzIHNSR0IgdG8gQ0lFLUwqYWJcbmV4cG9ydCBmdW5jdGlvbiBzcmdiMmxhYihyZ2IsIGdhbW1hID0gMi4yKSB7XG4gICAgcmV0dXJuIHh5ejJsYWIoc3JnYjJ4eXoocmdiLCBnYW1tYSkpO1xufVxuLy8gQ29udmVydHMgQ0lFLUwqYWIgdG8gc1JHQlxuZXhwb3J0IGZ1bmN0aW9uIGxhYjJzcmdiKHJnYiwgZ2FtbWEgPSAyLjIpIHtcbiAgICByZXR1cm4geHl6MnNyZ2IobGFiMnh5eihyZ2IpLCBnYW1tYSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/colorUtils.ts\n");

/***/ }),

/***/ "./src/utils/gamma.ts":
/*!****************************!*\
  !*** ./src/utils/gamma.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"gammaCorrect\": () => (/* binding */ gammaCorrect),\n/* harmony export */   \"gammaUncorrect\": () => (/* binding */ gammaUncorrect),\n/* harmony export */   \"gammaCorrectMC\": () => (/* binding */ gammaCorrectMC),\n/* harmony export */   \"gammaUncorrectMC\": () => (/* binding */ gammaUncorrectMC)\n/* harmony export */ });\nfunction gammaCorrect(color, gamma = 2.2, allowNegative = false) {\n    const correct = [0, 0, 0];\n    for (let i = 0; i < 3; i++) {\n        if (allowNegative) {\n            const sign = color[i] < 0 ? -1 : 1;\n            correct[i] = sign * Math.pow(color[i] * sign / 255, gamma);\n        }\n        else\n            correct[i] = Math.pow(color[i] / 255, gamma);\n    }\n    return correct;\n}\nfunction gammaUncorrect(color, gamma = 2.2, allowNegative = false) {\n    const ungamma = 1 / gamma;\n    const uncorrect = [0, 0, 0];\n    for (let i = 0; i < 3; i++) {\n        if (allowNegative) {\n            const sign = color[i] < 0 ? -1 : 1;\n            uncorrect[i] = sign * Math.pow(color[i] * sign, ungamma) * 255;\n        }\n        else\n            uncorrect[i] = Math.pow(color[i], ungamma) * 255;\n    }\n    return uncorrect;\n}\nfunction gammaCorrectMC(value, gamma = 2.2, allowNegative = false) {\n    if (allowNegative) {\n        const sign = value < 0 ? -1 : 1;\n        return sign * Math.pow(value * sign / 255, gamma);\n    }\n    else\n        return Math.pow(value / 255, gamma);\n}\nfunction gammaUncorrectMC(value, gamma = 2.2, allowNegative = false) {\n    const ungamma = 1 / gamma;\n    if (allowNegative) {\n        const sign = value < 0 ? -1 : 1;\n        return sign * Math.pow(value * sign, ungamma) * 255;\n    }\n    else\n        return Math.pow(value, ungamma) * 255;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3V0aWxzL2dhbW1hLnRzP2JkNzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPO0FBQ1A7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3V0aWxzL2dhbW1hLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdhbW1hQ29ycmVjdChjb2xvciwgZ2FtbWEgPSAyLjIsIGFsbG93TmVnYXRpdmUgPSBmYWxzZSkge1xuICAgIGNvbnN0IGNvcnJlY3QgPSBbMCwgMCwgMF07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgaWYgKGFsbG93TmVnYXRpdmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ24gPSBjb2xvcltpXSA8IDAgPyAtMSA6IDE7XG4gICAgICAgICAgICBjb3JyZWN0W2ldID0gc2lnbiAqIE1hdGgucG93KGNvbG9yW2ldICogc2lnbiAvIDI1NSwgZ2FtbWEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvcnJlY3RbaV0gPSBNYXRoLnBvdyhjb2xvcltpXSAvIDI1NSwgZ2FtbWEpO1xuICAgIH1cbiAgICByZXR1cm4gY29ycmVjdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYVVuY29ycmVjdChjb2xvciwgZ2FtbWEgPSAyLjIsIGFsbG93TmVnYXRpdmUgPSBmYWxzZSkge1xuICAgIGNvbnN0IHVuZ2FtbWEgPSAxIC8gZ2FtbWE7XG4gICAgY29uc3QgdW5jb3JyZWN0ID0gWzAsIDAsIDBdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxvd05lZ2F0aXZlKSB7XG4gICAgICAgICAgICBjb25zdCBzaWduID0gY29sb3JbaV0gPCAwID8gLTEgOiAxO1xuICAgICAgICAgICAgdW5jb3JyZWN0W2ldID0gc2lnbiAqIE1hdGgucG93KGNvbG9yW2ldICogc2lnbiwgdW5nYW1tYSkgKiAyNTU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdW5jb3JyZWN0W2ldID0gTWF0aC5wb3coY29sb3JbaV0sIHVuZ2FtbWEpICogMjU1O1xuICAgIH1cbiAgICByZXR1cm4gdW5jb3JyZWN0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdhbW1hQ29ycmVjdE1DKHZhbHVlLCBnYW1tYSA9IDIuMiwgYWxsb3dOZWdhdGl2ZSA9IGZhbHNlKSB7XG4gICAgaWYgKGFsbG93TmVnYXRpdmUpIHtcbiAgICAgICAgY29uc3Qgc2lnbiA9IHZhbHVlIDwgMCA/IC0xIDogMTtcbiAgICAgICAgcmV0dXJuIHNpZ24gKiBNYXRoLnBvdyh2YWx1ZSAqIHNpZ24gLyAyNTUsIGdhbW1hKTtcbiAgICB9XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gTWF0aC5wb3codmFsdWUgLyAyNTUsIGdhbW1hKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYVVuY29ycmVjdE1DKHZhbHVlLCBnYW1tYSA9IDIuMiwgYWxsb3dOZWdhdGl2ZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgdW5nYW1tYSA9IDEgLyBnYW1tYTtcbiAgICBpZiAoYWxsb3dOZWdhdGl2ZSkge1xuICAgICAgICBjb25zdCBzaWduID0gdmFsdWUgPCAwID8gLTEgOiAxO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1hdGgucG93KHZhbHVlICogc2lnbiwgdW5nYW1tYSkgKiAyNTU7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KHZhbHVlLCB1bmdhbW1hKSAqIDI1NTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/utils/gamma.ts\n");

/***/ }),

/***/ "./src/utils/utils.ts":
/*!****************************!*\
  !*** ./src/utils/utils.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"vec3distance\": () => (/* binding */ vec3distance),\n/* harmony export */   \"loadFile\": () => (/* binding */ loadFile),\n/* harmony export */   \"getComplexityRating\": () => (/* binding */ getComplexityRating)\n/* harmony export */ });\n/* harmony import */ var _palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../palette/PaletteUtils */ \"./src/palette/PaletteUtils.ts\");\n\n// General utility functions\nconst vec3distance = (a, b) => {\n    return (a[0] - b[0]) * (a[0] - b[0]) + (a[1] - b[1]) * (a[1] - b[1]) + (a[2] - b[2]) * (a[2] - b[2]);\n};\nconst loadFile = (e) => {\n    return new Promise((resolve, reject) => {\n        const input = e.target;\n        if (input === null || input === void 0 ? void 0 : input.files) {\n            const file = input.files[0];\n            const img = new Image();\n            img.onload = () => resolve(img);\n            img.src = URL.createObjectURL(file);\n        }\n        else\n            reject();\n    });\n};\nconst getComplexityRating = (process, palette) => {\n    return process.complexity(_palette_PaletteUtils__WEBPACK_IMPORTED_MODULE_0__.default.getSize(palette));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3V0aWxzL3V0aWxzLnRzPzU2MjIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFtRDtBQUNuRDtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQLDhCQUE4QixrRUFBb0I7QUFDbEQiLCJmaWxlIjoiLi9zcmMvdXRpbHMvdXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGFsZXR0ZVV0aWxzIGZyb20gJy4uL3BhbGV0dGUvUGFsZXR0ZVV0aWxzJztcbi8vIEdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCB2ZWMzZGlzdGFuY2UgPSAoYSwgYikgPT4ge1xuICAgIHJldHVybiAoYVswXSAtIGJbMF0pICogKGFbMF0gLSBiWzBdKSArIChhWzFdIC0gYlsxXSkgKiAoYVsxXSAtIGJbMV0pICsgKGFbMl0gLSBiWzJdKSAqIChhWzJdIC0gYlsyXSk7XG59O1xuZXhwb3J0IGNvbnN0IGxvYWRGaWxlID0gKGUpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LmZpbGVzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gaW5wdXQuZmlsZXNbMF07XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgZ2V0Q29tcGxleGl0eVJhdGluZyA9IChwcm9jZXNzLCBwYWxldHRlKSA9PiB7XG4gICAgcmV0dXJuIHByb2Nlc3MuY29tcGxleGl0eShQYWxldHRlVXRpbHMuZ2V0U2l6ZShwYWxldHRlKSk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/utils.ts\n");

/***/ }),

/***/ "./node_modules/worker-loader/dist/cjs.js!./src/worker.ts":
/*!****************************************************************!*\
  !*** ./node_modules/worker-loader/dist/cjs.js!./src/worker.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Worker_fn)\n/* harmony export */ });\nfunction Worker_fn() {\n  return new Worker(__webpack_require__.p + \"main.worker.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbWFnZWJpdGRlcHRoLy4vc3JjL3dvcmtlci50cz9hNmE5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBZTtBQUNmLG9CQUFvQixxQkFBdUI7QUFDM0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd29ya2VyLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NyYy93b3JrZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXb3JrZXJfZm4oKSB7XG4gIHJldHVybiBuZXcgV29ya2VyKF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJtYWluLndvcmtlci5qc1wiKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/worker-loader/dist/cjs.js!./src/worker.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./src/index.ts");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;